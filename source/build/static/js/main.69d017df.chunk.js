(this["webpackJsonpcasper-signer"]=this["webpackJsonpcasper-signer"]||[]).push([[0],{214:function(e,t,n){},215:function(e,t,n){},217:function(e,t,n){},281:function(e,t,n){},282:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(16),c=n.n(o),i=(n(213),n(214),n(215),n(45)),s=(n(216),n(217),n(20)),u=n(17),l=function e(){Object(u.a)(this,e)};l.Home="/",l.ImportAccount="/import",l.SignMessage="/sign-message",l.SignDeploy="/sign-deploy",l.CreateAccount="/create-account",l.AccountManagement="/account-management",l.ConnectedSites="/connected-sites",l.ConnectSigner="/connect-signer",l.ConfigureTimeout="/configure-timeout";var p=n(5),d=n.n(p),h=n(10),b=n(18),j=n(39),g=n(38),m="data:image/png;base64,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",f=n(325),O=n(326),y=n(65),x=n(313),v=n(322),k=n(314),w=n(324),C=n(7),S=n(174),M=n.n(S),A=n(175),T=n.n(A),F=n(173),P=n.n(F),D=n(33),E=n(21),H=n(137),I=n(360),L=n(318),U=n(319),B=n(320),K=n(321),R=n(358),N=n(323),V=n(144),q=n(362),z=n(357),Y=n(317),W=n(1),G=["fieldState"],Z=["fieldState","selectItems"],Q=Object(E.a)((function(e){var t=e.fieldState,n=Object(V.a)(e,G);return Object(W.jsx)(q.a,Object(i.a)({value:null===t||void 0===t?void 0:t.value,onChange:function(e){null===t||void 0===t||t.onChange(e.target.value)},error:null===t||void 0===t?void 0:t.hasError,helperText:null===t||void 0===t?void 0:t.error},n))})),J=Object(E.a)((function(e){var t=e.fieldState,n=e.selectItems,r=Object(V.a)(e,Z);return Object(W.jsx)(z.a,Object(i.a)(Object(i.a)({value:null===t||void 0===t?void 0:t.value,onChange:function(e){null===t||void 0===t||t.onChange(e.target.value||"")},error:null===t||void 0===t?void 0:t.hasError},r),{},{children:n.map((function(e){return Object(W.jsx)(Y.a,{value:e.value,children:e.text},e.value)}))}))})),X=n(11),$=n(8),_=n(41),ee=n(138),te=n.n(ee);te.a.tests.required.push((function(e){if(null!==e.toString().match(/correct\s*horse\s*battery\s*staple/i))return"Use your imagination not the example!"}));var ne,re,ae,oe,ce,ie,se,ue,le,pe,de,he,be,je,ge,me,fe,Oe,ye,xe,ve,ke=function(e){return!e&&"Value required"},we=function(e){return!("ed25519"===e||"secp256k1"===e)&&"Invalid Algorithm"},Ce=function(e){return e.hasBeenValidated&&!e.hasError},Se=function(e){return!(e.length>2)&&"Invalid name - too short"},Me=function(e){return!e.match(/^[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\u01530-9_]+$/)&&"Invalid name - only use A-Z, a-z, 0-9 and _"},Ae=function(e){var t=te.a.test(e);return!t.strong&&t.errors[0]},Te=(ne=function(){function e(t,n,r){Object(u.a)(this,e),this.errors=t,this.backgroundManager=n,this.appState=r,this.confirmPasswordForm=new _.FormState({confirmPasswordField:new _.FieldState("").validators(ke)})}return Object(b.a)(e,[{key:"createNewVault",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.errors.withCapture(this.backgroundManager.createNewVault(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"importUserAccount",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n,r,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.backgroundManager.importUserAccount(t,n,r,a));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"removeUserAccount",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.backgroundManager.removeUserAccount(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reorderAccount",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.appState.userAccounts.length,!(t<0||n<0||t>=r||n>=r)){e.next=3;break}throw new Error("Invalid index number");case 3:if(t!==n){e.next=5;break}return e.abrupt("return");case 5:return a=this.appState.userAccounts.spliceWithArray(t,1),this.appState.userAccounts.spliceWithArray(n,0,a),e.abrupt("return",this.backgroundManager.reorderAccount(t,n));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"switchToAccount",value:function(e){return this.backgroundManager.switchToAccount(e)}},{key:"userAccounts",get:function(){return this.appState.userAccounts}},{key:"isTimeToSecurityCheckup",get:function(){return this.appState.isTimeToSecurityCheckup}},{key:"resetSecurityCheckup",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.resetSecurityCheckup();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isBackedUp",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.isBackedUp(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadPemFiles",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.backgroundManager.downloadAccountKeys(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadActiveKey",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.getActiveUserAccount();case 2:t=e.sent,this.downloadPemFiles(t.alias);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getActivePublicKeyHex",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.getActivePublicKeyHex();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getActiveAccountHash",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.getActiveAccountHash();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPublicKeyHexByAlias",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.getPublicKeyHexByAlias(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccountHashByAlias",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.getAccountHashByAlias(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"lock",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.backgroundManager.lock());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unlock",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.backgroundManager.unlock(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hasCreatedVault",get:function(){return this.appState.hasCreatedVault}},{key:"resetVault",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.backgroundManager.resetVault());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isUnLocked",get:function(){return this.appState.isUnlocked}},{key:"activeUserAccount",get:function(){return this.appState.activeUserAccount}},{key:"remainingUnlockAttempts",get:function(){return this.appState.unlockAttempts}},{key:"isLockedOut",get:function(){return this.appState.lockedOut}},{key:"resetLockout",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.backgroundManager.resetLockout());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"startLockoutTimer",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.backgroundManager.startLockoutTimer(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"lockoutTimerStarted",get:function(){return this.appState.lockoutTimerStarted}},{key:"timerDuration",get:function(){return this.appState.timerDurationMins}},{key:"remainingMins",get:function(){return this.appState.remainingMins}},{key:"resetLockoutTimer",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.backgroundManager.resetLockoutTimer());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renameUserAccount",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.backgroundManager.renameUserAccount(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"confirmPassword",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.backgroundManager.confirmPassword(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"confirmPasswordDisabled",get:function(){return!this.confirmPasswordForm.$.confirmPasswordField.$||!this.confirmPasswordForm.$.confirmPasswordField.hasBeenValidated||this.confirmPasswordForm.$.confirmPasswordField.hasBeenValidated&&this.confirmPasswordForm.$.confirmPasswordField.hasError}},{key:"idleTimeoutMins",get:function(){return this.appState.idleTimeoutMins}},{key:"configureTimeout",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.idleTimeoutMins){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.backgroundManager.configureTimeout(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Object(X.a)(ne.prototype,"userAccounts",[$.computed],Object.getOwnPropertyDescriptor(ne.prototype,"userAccounts"),ne.prototype),Object(X.a)(ne.prototype,"isTimeToSecurityCheckup",[$.computed],Object.getOwnPropertyDescriptor(ne.prototype,"isTimeToSecurityCheckup"),ne.prototype),Object(X.a)(ne.prototype,"resetSecurityCheckup",[$.action],Object.getOwnPropertyDescriptor(ne.prototype,"resetSecurityCheckup"),ne.prototype),Object(X.a)(ne.prototype,"hasCreatedVault",[$.computed],Object.getOwnPropertyDescriptor(ne.prototype,"hasCreatedVault"),ne.prototype),Object(X.a)(ne.prototype,"resetVault",[$.action],Object.getOwnPropertyDescriptor(ne.prototype,"resetVault"),ne.prototype),Object(X.a)(ne.prototype,"isUnLocked",[$.computed],Object.getOwnPropertyDescriptor(ne.prototype,"isUnLocked"),ne.prototype),Object(X.a)(ne.prototype,"activeUserAccount",[$.computed],Object.getOwnPropertyDescriptor(ne.prototype,"activeUserAccount"),ne.prototype),Object(X.a)(ne.prototype,"remainingUnlockAttempts",[$.computed],Object.getOwnPropertyDescriptor(ne.prototype,"remainingUnlockAttempts"),ne.prototype),Object(X.a)(ne.prototype,"isLockedOut",[$.computed],Object.getOwnPropertyDescriptor(ne.prototype,"isLockedOut"),ne.prototype),Object(X.a)(ne.prototype,"resetLockout",[$.action],Object.getOwnPropertyDescriptor(ne.prototype,"resetLockout"),ne.prototype),Object(X.a)(ne.prototype,"startLockoutTimer",[$.action],Object.getOwnPropertyDescriptor(ne.prototype,"startLockoutTimer"),ne.prototype),Object(X.a)(ne.prototype,"lockoutTimerStarted",[$.computed],Object.getOwnPropertyDescriptor(ne.prototype,"lockoutTimerStarted"),ne.prototype),Object(X.a)(ne.prototype,"timerDuration",[$.computed],Object.getOwnPropertyDescriptor(ne.prototype,"timerDuration"),ne.prototype),Object(X.a)(ne.prototype,"remainingMins",[$.computed],Object.getOwnPropertyDescriptor(ne.prototype,"remainingMins"),ne.prototype),Object(X.a)(ne.prototype,"resetLockoutTimer",[$.action],Object.getOwnPropertyDescriptor(ne.prototype,"resetLockoutTimer"),ne.prototype),Object(X.a)(ne.prototype,"confirmPasswordDisabled",[$.computed],Object.getOwnPropertyDescriptor(ne.prototype,"confirmPasswordDisabled"),ne.prototype),Object(X.a)(ne.prototype,"idleTimeoutMins",[$.computed],Object.getOwnPropertyDescriptor(ne.prototype,"idleTimeoutMins"),ne.prototype),ne),Fe=n(24),Pe=(n(89),re=function(){function e(){Object(u.a)(this,e),Object(Fe.a)(this,"lastError",ae,this)}return Object(b.a)(e,[{key:"capture",value:function(e){var t=this;return e.catch((function(e){t.lastError=e.message}))}},{key:"withCapture",value:function(e){var t=this;return e.catch((function(e){throw t.lastError=e.message,e}))}},{key:"dismissLast",value:function(){this.lastError=null}}]),e}(),ae=Object(X.a)(re.prototype,"lastError",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re),De=Pe,Ee=n(51),He=n(194),Ie=function(){function e(t){if(Object(u.a)(this,e),this.source=void 0,this.destination=void 0,this.postMessage=void 0,this.messageHandler=void 0,this.logMessages=void 0,this.source=t.source,this.destination=t.destination,this.postMessage=t.postMessage,this.messageHandler=t.messageHandler,this.logMessages=t.logMessages,void 0===t.addListener&&void 0===t.postMessage)throw new Error("Either addListener or postMessage must be present.");if(void 0!==t.addListener){if(void 0===t.messageHandler)throw new Error("MessageHandler must be specified if addListener present.");t.addListener(this.onMessage.bind(this))}}return Object(b.a)(e,[{key:"send",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={destination:this.destination,payload:t,source:this.source,type:"casperlabs-plugin"},void 0!==this.postMessage){e.next=3;break}throw new Error("PostMessage was not specified.");case 3:return this.logMessages&&console.warn("Tunnel: (".concat(this.source,"): Sending"),JSON.stringify(t,null,"  ")),e.next=6,this.postMessage(n);case 6:if(void 0===(r=e.sent).error){e.next=11;break}throw new Error(r.error);case 11:return e.abrupt("return",r.payload);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onMessage",value:function(e,t){if(e.destination===this.source&&e.source===this.destination){var n;try{if(void 0===this.messageHandler)throw new Error("MessageHandler was not specified.");this.logMessages&&console.warn("Tunnel: (".concat(this.source,"): Receiving"),JSON.stringify(e.payload,null,"  "));var r={id:t.id,url:t.url},a=this.messageHandler(e.payload,r);n=Promise.resolve(a)}catch(o){n=Promise.reject(o)}return n.then((function(t){return{destination:e.source,payload:t,source:e.destination,type:"casperlabs-plugin"}})).catch((function(t){return{destination:e.source,error:t.message,source:e.destination,type:"casperlabs-plugin"}}))}}}]),e}(),Le=function(){function e(t){Object(u.a)(this,e),this.tunnel=void 0,this.methods=void 0,t.messageHandler=this.messageHandler.bind(this),this.tunnel=new Ie(t),this.methods=new Map}return Object(b.a)(e,[{key:"call",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a={method:e,params:n};return this.tunnel.send(a)}},{key:"register",value:function(e,t){this.methods.set(e,t)}},{key:"messageHandler",value:function(e,t){var n=this.methods.get(e.method);if(void 0===n)throw new Error("Unregistered method call: "+e.method);return n.call.apply(n,[t].concat(Object(He.a)(e.params)))}}]),e}(),Ue=(oe=$.action.bound,ce=function(){function e(t,n){var r=this;Object(u.a)(this,e),this.appState=t,this.errors=n,this.rpc=void 0,this.rpc=new Le({addListener:Ee.browser.runtime.onMessage.addListener,destination:"background",logMessages:!1,postMessage:Ee.browser.runtime.sendMessage,source:"popup"}),this.rpc.register("popup.updateState",this.onStateUpdate.bind(this)),this.rpc.call("background.getState").then((function(e){r.onStateUpdate(e)}))}return Object(b.a)(e,[{key:"onStateUpdate",value:function(e){this.appState.isIntegratedSite=e.isIntegratedSite,this.appState.isUnlocked=e.isUnlocked,this.appState.unlockAttempts=e.unlockAttempts,this.appState.lockoutTimerStarted=e.lockoutTimerStarted,this.appState.remainingMins=e.remainingMins,this.appState.currentTab=e.currentTab,this.appState.connectionRequested=e.connectionRequested,this.appState.connectedSites=e.connectedSites,this.appState.hasCreatedVault=e.hasCreatedVault,this.appState.activeUserAccount=e.activeUserAccount,this.appState.userAccounts.replace(e.userAccounts),this.appState.unsignedDeploys.replace(e.unsignedDeploys),this.appState.unsignedMessages.replace(e.unsignedMessages),this.appState.idleTimeoutMins=e.idleTimeoutMins,this.appState.isTimeToSecurityCheckup=e.isTimeToSecurityCheckup}},{key:"resetSecurityCheckup",value:function(){return this.errors.withCapture(this.rpc.call("account.resetSecurityCheckup"))}},{key:"unlock",value:function(e){return this.errors.withCapture(this.rpc.call("account.unlock",e))}},{key:"createNewVault",value:function(e){return this.rpc.call("account.createNewVault",e)}},{key:"lock",value:function(){return this.rpc.call("account.lock")}},{key:"importUserAccount",value:function(e,t,n,r){return this.errors.withCapture(this.rpc.call("account.importUserAccount",e,t,n,r))}},{key:"reorderAccount",value:function(e,t){return this.errors.withCapture(this.rpc.call("account.reorderAccount",e,t))}},{key:"removeUserAccount",value:function(e){return this.errors.withCapture(this.rpc.call("account.removeUserAccount",e))}},{key:"isBackedUp",value:function(e){return this.errors.withCapture(this.rpc.call("account.isBackedUp",e))}},{key:"signDeploy",value:function(e){return this.errors.withCapture(this.rpc.call("sign.signDeploy",e))}},{key:"rejectSignDeploy",value:function(e){return this.errors.withCapture(this.rpc.call("sign.rejectSignDeploy",e))}},{key:"parseDeployData",value:function(e){return this.errors.withCapture(this.rpc.call("sign.parseDeployData",e))}},{key:"approveSigningMessage",value:function(e){return this.errors.withCapture(this.rpc.call("sign.approveSigningMessage",e))}},{key:"cancelSigningMessage",value:function(e){return this.errors.withCapture(this.rpc.call("sign.cancelSigningMessage",e))}},{key:"switchToAccount",value:function(e){return this.errors.withCapture(this.rpc.call("account.switchToAccount",e))}},{key:"getActiveUserAccount",value:function(){return this.errors.withCapture(this.rpc.call("account.getActiveUserAccount"))}},{key:"getActivePublicKeyHex",value:function(){return this.errors.withCapture(this.rpc.call("account.getActivePublicKeyHex"))}},{key:"getActiveAccountHash",value:function(){return this.errors.withCapture(this.rpc.call("account.getActiveAccountHash"))}},{key:"getPublicKeyHexByAlias",value:function(e){return this.errors.withCapture(this.rpc.call("account.getPublicKeyHexByAlias",e))}},{key:"getAccountHashByAlias",value:function(e){return this.errors.withCapture(this.rpc.call("account.getAccountHashByAlias",e))}},{key:"resetVault",value:function(){return this.errors.withCapture(this.rpc.call("account.resetVault"))}},{key:"resetLockout",value:function(){return this.errors.withCapture(this.rpc.call("account.resetLockout"))}},{key:"startLockoutTimer",value:function(e){return this.errors.withCapture(this.rpc.call("account.startLockoutTimer",e))}},{key:"resetLockoutTimer",value:function(){return this.errors.withCapture(this.rpc.call("account.resetLockoutTimer"))}},{key:"renameUserAccount",value:function(e,t){return this.errors.withCapture(this.rpc.call("account.renameUserAccount",e,t))}},{key:"downloadAccountKeys",value:function(e){return this.errors.withCapture(this.rpc.call("account.downloadAccountKeys",e))}},{key:"connectToSite",value:function(e){return this.errors.withCapture(this.rpc.call("connection.connectToSite",e))}},{key:"disconnectFromSite",value:function(e){return this.errors.withCapture(this.rpc.call("connection.disconnectFromSite",e))}},{key:"removeSite",value:function(e){return this.errors.withCapture(this.rpc.call("connection.removeSite",e))}},{key:"resetConnectionRequest",value:function(){return this.errors.withCapture(this.rpc.call("connection.resetConnectionRequest"))}},{key:"confirmPassword",value:function(e){return this.errors.withCapture(this.rpc.call("account.confirmPassword",e))}},{key:"isIntegratedSite",value:function(e){return this.errors.withCapture(this.rpc.call("connection.isIntegratedSite",e))}},{key:"configureTimeout",value:function(e){return this.errors.withCapture(this.rpc.call("account.configureTimeout",e))}},{key:"callOpenPopup",value:function(e){return this.errors.withCapture(this.rpc.call("popup.openPopup",e))}},{key:"callClosePopup",value:function(e){return this.errors.withCapture(this.rpc.call("popup.closePopup",void 0,e))}}]),e}(),Object(X.a)(ce.prototype,"onStateUpdate",[oe],Object.getOwnPropertyDescriptor(ce.prototype,"onStateUpdate"),ce.prototype),ce),Be=(ie=function(){function e(){Object(u.a)(this,e),Object(Fe.a)(this,"isIntegratedSite",se,this),Object(Fe.a)(this,"isUnlocked",ue,this),Object(Fe.a)(this,"isTimeToSecurityCheckup",le,this),Object(Fe.a)(this,"unlockAttempts",pe,this),Object(Fe.a)(this,"lockoutTimerStarted",de,this),this.timerDurationMins=5,Object(Fe.a)(this,"remainingMins",he,this),Object(Fe.a)(this,"idleTimeoutMins",be,this),Object(Fe.a)(this,"currentTab",je,this),Object(Fe.a)(this,"connectionRequested",ge,this),Object(Fe.a)(this,"connectedSites",me,this),Object(Fe.a)(this,"hasCreatedVault",fe,this),Object(Fe.a)(this,"activeUserAccount",Oe,this),this.userAccounts=$.observable.array([],{deep:!0}),Object(Fe.a)(this,"unsignedDeploys",ye,this),Object(Fe.a)(this,"unsignedMessages",xe,this)}return Object(b.a)(e,[{key:"lockedOut",get:function(){return 0===this.unlockAttempts}},{key:"connectionStatus",get:function(){var e=this.currentTab&&this.currentTab.url;return!!e&&this.connectedSites.some((function(t){return t.url===e&&t.isConnected}))}}]),e}(),se=Object(X.a)(ie.prototype,"isIntegratedSite",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ue=Object(X.a)(ie.prototype,"isUnlocked",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=Object(X.a)(ie.prototype,"isTimeToSecurityCheckup",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pe=Object(X.a)(ie.prototype,"unlockAttempts",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),Object(X.a)(ie.prototype,"lockedOut",[$.computed],Object.getOwnPropertyDescriptor(ie.prototype,"lockedOut"),ie.prototype),de=Object(X.a)(ie.prototype,"lockoutTimerStarted",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),he=Object(X.a)(ie.prototype,"remainingMins",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.timerDurationMins}}),be=Object(X.a)(ie.prototype,"idleTimeoutMins",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),je=Object(X.a)(ie.prototype,"currentTab",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(X.a)(ie.prototype,"connectionStatus",[$.computed],Object.getOwnPropertyDescriptor(ie.prototype,"connectionStatus"),ie.prototype),ge=Object(X.a)(ie.prototype,"connectionRequested",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),me=Object(X.a)(ie.prototype,"connectedSites",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $.observable.array([],{deep:!0})}}),fe=Object(X.a)(ie.prototype,"hasCreatedVault",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Oe=Object(X.a)(ie.prototype,"activeUserAccount",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=Object(X.a)(ie.prototype,"unsignedDeploys",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $.observable.array([],{deep:!0})}}),xe=Object(X.a)(ie.prototype,"unsignedMessages",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $.observable.array([],{deep:!0})}}),ie),Ke=function(e){Object(j.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).errors=new Pe,r.appState=new Be,r.background=new Ue(r.appState,r.errors),r.accountManager=new Te(r.errors,r.background,r.appState),r.handleCheckboxChange=function(e){r.setState({boxChecked:e.target.checked})},r.state={boxChecked:!1},r}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return Object(W.jsxs)(I.a,{open:this.props.show,onClose:this.props.dismiss,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",style:{margin:"-1rem -0.5rem"},children:[Object(W.jsx)(L.a,{id:"alert-dialog-title",children:this.props.title}),Object(W.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(W.jsxs)(U.a,{children:[Object(W.jsx)(B.a,{id:"alert-dialog-description",children:this.props.confirmation}),this.props.options.requireCheckbox&&Object(W.jsx)(K.a,{control:Object(W.jsx)(R.a,{style:{alignSelf:"flex-start"},checked:this.state.boxChecked,onChange:this.handleCheckboxChange}),label:this.props.options.checkboxText,style:{fontSize:"0.6rem",marginRight:"-1rem",marginBottom:this.props.options.requirePassword?"0.5rem":"auto"}}),this.props.options.requirePassword&&Object(W.jsx)(x.a,{children:Object(W.jsx)(Q,{autoFocus:!0,fieldState:this.accountManager.confirmPasswordForm.$.confirmPasswordField,required:!0,label:"Password",type:"password"})})]}),Object(W.jsxs)(N.a,{children:[Object(W.jsx)(w.a,{onClick:function(){e.props.cancel()},color:"secondary",children:this.props.cancelLabel}),Object(W.jsx)(x.a,{children:this.props.options.requireCheckbox&&this.props.options.requirePassword?Object(W.jsx)(w.a,{type:"submit",disabled:!this.state.boxChecked,onClick:Object(h.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountManager.confirmPasswordForm.$.confirmPasswordField.$,t.prev=1,t.next=4,e.accountManager.confirmPassword(n);case 4:e.accountManager.confirmPasswordForm.$.confirmPasswordField.reset(),e.errors.dismissLast(),e.props.proceed(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.accountManager.confirmPasswordForm.$.confirmPasswordField.setError(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))),color:"primary",children:this.props.proceedLabel}):this.props.options.requirePassword?Object(W.jsx)(w.a,{type:"submit",onClick:Object(h.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountManager.confirmPasswordForm.$.confirmPasswordField.$,t.prev=1,t.next=4,e.accountManager.confirmPassword(n);case 4:e.accountManager.confirmPasswordForm.$.confirmPasswordField.reset(),e.errors.dismissLast(),e.props.proceed(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.accountManager.confirmPasswordForm.$.confirmPasswordField.setError(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))),color:"primary",children:this.props.proceedLabel}):Object(W.jsx)(w.a,{type:"submit",disabled:!!this.props.options.requireCheckbox&&!this.state.boxChecked,onClick:function(){e.props.proceed()},color:"primary",children:this.props.proceedLabel})})]})]})]})}}]),n}(a.a.Component);function Re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cancel",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{requirePassword:!1,requireCheckbox:!1,checkboxText:"",unmountAfter:1e4};return Object(H.createConfirmation)(Object(H.confirmable)(Ke),a.unmountAfter)({title:e,confirmation:t,proceedLabel:n,cancelLabel:r,options:a})}!function(e){e.Connect="Connect",e.SignDeploy="SignDeploy",e.SignMessage="SignMessage",e.ImportAccount="ImportAccount"}(ve||(ve={}));var Ne,Ve,qe,ze,Ye=n(64),We=n(77),Ge=function(e){return!isNaN(+e)},Ze=function(e,t,n){if(!e)throw new Error("Error parsing long string.");return e.substring(0,t)+"..."+e.substring(e.length-n)},Qe=Object(C.a)((function(){return{root:{backgroundColor:"transparent","&:hover":{backgroundColor:"rgba(11, 156, 49, 0.6)"}}}}))(w.a),Je=Object(C.a)((function(){return{root:{backgroundColor:"transparent","&:hover":{backgroundColor:"rgba(255, 0, 0, 0.6)"}}}}))(w.a),Xe=function(e,t){var n=e.messageToSign;return Ee.browser.windows.getCurrent().then((function(t){"popup"===t.type&&(null===n||void 0===n?void 0:n.id)&&window.addEventListener("beforeunload",(function(t){e.messageToSign&&e.cancelSigningMessage(n.id)}))})),n?Object(W.jsxs)("div",{children:[Object(W.jsx)("h2",{children:"Do you want to sign the message?"}),Object(W.jsx)("br",{}),Object(W.jsx)("b",{children:Object(W.jsx)("code",{children:"Casper Message:"})}),Object(W.jsx)("div",{style:{padding:".1rem .5rem",backgroundColor:"rgba(0, 0, 0, 0.1)",borderRadius:"10px",fontSize:"1rem"},children:Object(W.jsx)("p",{children:n.messageString})}),Object(W.jsx)("br",{}),Object(W.jsx)("b",{children:Object(W.jsx)("code",{children:"Signing Key:"})}),Object(W.jsx)("div",{style:{padding:".1rem .5rem",backgroundColor:"rgba(0, 0, 0, 0.1)",borderRadius:"10px",fontSize:"0.9rem"},children:Object(W.jsx)("p",{children:Ze(n.signingKey,15,15)})}),Object(W.jsxs)("div",{style:{marginTop:"1.5rem",display:"flex",justifyContent:"space-evenly"},children:[Object(W.jsx)(Qe,{variant:"outlined",onClick:function(){return e.approveSigningMessage(n.id).then((function(){return t.callClosePopup()}))},children:"Approve"}),Object(W.jsx)(Je,{variant:"outlined",onClick:function(){return e.cancelSigningMessage(n.id).then((function(){return t.callClosePopup()}))},children:"Cancel"})]})]}):Object(W.jsx)(s.a,{to:l.Home})},$e=Object(E.a)(Ne=function(e){Object(j.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={remainingMins:r.props.accountManager.remainingMins,helpAnchorEl:null},r}return Object(b.a)(n,[{key:"componentDidUpdate",value:function(){this.props.accountManager.isLockedOut&&(this.props.errors.dismissLast(),this.props.homeContainer.homeForm.$.setPasswordField.reset())}},{key:"renderCreateNewVault",value:function(){var e=this,t=function(t){e.setState({helpAnchorEl:t.currentTarget})},n=Boolean(t),r=n?"password-help":void 0;return Object(W.jsx)("div",{children:Object(W.jsxs)(O.a,{container:!0,spacing:4,direction:"column",justify:"flex-start",alignItems:"center",children:[Object(W.jsxs)(O.a,{item:!0,className:this.props.classes.alignCenter,children:[Object(W.jsx)("img",{src:m,alt:"logo",width:80}),Object(W.jsx)(y.a,{variant:"h6",align:"center",children:"New Vault"}),Object(W.jsx)(y.a,{children:"Please set a password for your vault. You will need it later to unlock it so keep it safe."})]}),Object(W.jsx)(O.a,{item:!0,container:!0,children:Object(W.jsxs)("form",{style:{textAlign:"center",width:"100%"},onSubmit:function(e){return e.preventDefault()},children:[Object(W.jsx)(x.a,{style:{width:"80%",float:"left"},children:Object(W.jsx)(Q,{autoFocus:!0,fieldState:this.props.homeContainer.homeForm.$.setPasswordField,required:!0,label:"Set Password",type:"password"})}),Object(W.jsx)(v.a,{onClick:t,style:{float:"right",transform:"translateY(.3em)"},children:Object(W.jsx)(P.a,{})}),this.state.helpAnchorEl&&Object(W.jsx)(k.a,{id:r,open:n,anchorEl:this.state.helpAnchorEl,onClose:function(){e.setState({helpAnchorEl:null})},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},children:Object(W.jsxs)(y.a,{component:"summary",style:{padding:"1.4em",backgroundColor:"var(--cspr-dark-blue)",color:"white"},children:["For a password of min. length 10 please include at least one of each of the following:",Object(W.jsxs)("ul",{children:[Object(W.jsx)("li",{children:"lowercase letter"}),Object(W.jsx)("li",{children:"UPPERCASE letter"}),Object(W.jsx)("li",{children:"Number"}),Object(W.jsx)("li",{children:"Special character"})]}),"Or you can enter a >20 char passphrase if you would prefer e.g. 'correct horse battery staple'"]})}),this.props.homeContainer.homeForm.$.setPasswordField.hasBeenValidated&&!this.props.homeContainer.homeForm.$.setPasswordField.hasError&&Object(W.jsx)(x.a,{style:{width:"80%",float:"left"},children:Object(W.jsx)(Q,{fieldState:this.props.homeContainer.homeForm.$.confirmPasswordField,required:!0,label:"Confirm Password",type:"password"})}),Object(W.jsx)(y.a,{variant:"subtitle2",className:"text-danger",children:this.props.homeContainer.homeForm.showFormError&&this.props.homeContainer.homeForm.formError}),Object(W.jsx)(x.a,{fullWidth:!0,className:this.props.classes.margin,children:Object(W.jsx)(w.a,{type:"submit",variant:"contained",color:"primary",disabled:this.props.homeContainer.createVaultDisabled,onClick:Object(h.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.homeContainer.homeForm.$.setPasswordField.$,t.next=3,e.props.accountManager.createNewVault(n);case 3:e.props.homeContainer.homeForm.$.setPasswordField.reset(),e.props.homeContainer.homeForm.$.confirmPasswordField.reset();case 5:case"end":return t.stop()}}),t)}))),children:"Create Vault"})})]})})]})})}},{key:"renderAccountLists",value:function(){var e=this;return Object(W.jsx)("div",{children:Object(W.jsxs)(O.a,{container:!0,spacing:4,direction:"column",justify:"flex-start",alignItems:"center",children:[this.props.accountManager.userAccounts.length>0?Object(W.jsxs)(O.a,{item:!0,className:this.props.classes.alignCenter,children:[Object(W.jsx)("img",{src:m,alt:"logo",width:120}),this.props.accountManager.userAccounts.length>1?Object(W.jsxs)(y.a,{variant:"h6",align:"center",children:["You have ",this.props.accountManager.userAccounts.length," ","account keys"]}):Object(W.jsxs)(y.a,{variant:"h6",align:"center",children:["You have ",this.props.accountManager.userAccounts.length," ","account key"]}),this.props.accountManager.activeUserAccount&&Object(W.jsxs)(y.a,{variant:"h6",align:"center",children:["Active key:"," ",Object(W.jsx)("span",{style:{wordBreak:"break-all"},children:this.props.accountManager.activeUserAccount.alias})]})]}):Object(W.jsxs)(O.a,{item:!0,className:this.props.classes.alignCenter,children:[Object(W.jsx)(M.a,{style:{color:"#e24c2c",fontSize:"4rem"}}),Object(W.jsx)(y.a,{variant:"h5",align:"center",children:"Please create an account to get started"})]}),Object(W.jsxs)(O.a,{item:!0,children:[Object(W.jsx)(x.a,{fullWidth:!0,className:this.props.classes.margin,children:Object(W.jsx)(w.a,{"aria-label":"This will open a new window to import a key to your vault",component:D.b,variant:"contained",color:"primary",onClick:function(){return e.props.popupContainer.callOpenPopup(ve.ImportAccount)},to:l.ImportAccount,style:{backgroundColor:"#fff",color:"var(--cspr-dark-blue)"},children:"Import Account"})}),Object(W.jsx)(x.a,{fullWidth:!0,className:this.props.classes.margin,children:Object(W.jsx)(w.a,{"aria-label":"This will open a form to create an account - focus will be given to the input field for key name",component:D.b,variant:"contained",color:"primary",to:l.CreateAccount,style:{backgroundColor:"#fff",color:"var(--cspr-dark-blue)"},children:"Create Account"})})]})]})})}},{key:"resetVaultOnClick",value:function(){var e=this;Re(Object(W.jsx)("div",{className:"text-danger",children:"Reset Vault"}),"Resetting vault will permanently delete all accounts. You must have key files backed up if you want to recover them in the future.","Reset","Cancel",{requireCheckbox:!0,checkboxText:"I have read and understand the above."}).then((function(){e.props.accountManager.resetVault(),e.props.errors.dismissLast(),e.props.homeContainer.homeForm.$.setPasswordField.reset()}))}},{key:"tryUnlock",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.homeContainer.homeForm.$.unlockPasswordField.$,e.prev=1,e.next=4,this.props.accountManager.unlock(t);case 4:this.props.homeContainer.homeForm.$.unlockPasswordField.reset(),this.props.errors.dismissLast(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.props.homeContainer.homeForm.$.unlockPasswordField.setError(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"renderUnlock",value:function(){var e=this;return Object(W.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(W.jsxs)(O.a,{container:!0,spacing:4,direction:"column",justify:"flex-start",alignItems:"center",children:[Object(W.jsxs)(O.a,{item:!0,className:this.props.classes.alignCenter,children:[Object(W.jsx)("img",{src:m,alt:"logo",width:120}),Object(W.jsx)(y.a,{variant:"h4",align:"center",children:"Unlock Vault"})]}),Object(W.jsx)(O.a,{item:!0,container:!0,children:Object(W.jsxs)("div",{style:{textAlign:"center"},children:[Object(W.jsx)(x.a,{fullWidth:!0,children:Object(W.jsx)(Q,{"aria-label":"Enter password for vault",autoFocus:!0,fieldState:this.props.homeContainer.homeForm.$.unlockPasswordField,required:!0,id:"unlock-password",label:"Password",type:"password"})}),this.props.accountManager.remainingUnlockAttempts<5&&Object(W.jsx)(x.a,{fullWidth:!0,style:{marginTop:".5rem"},children:Object(W.jsxs)(y.a,{variant:"subtitle1",children:["Attempts remaining:"," ",this.props.accountManager.remainingUnlockAttempts]})}),Object(W.jsx)(x.a,{fullWidth:!0,className:this.props.classes.margin,children:Object(W.jsx)(w.a,{type:"submit",variant:"contained",color:"primary",classes:{root:this.props.classes.unlockButton,disabled:this.props.classes.disabled},disabled:this.props.homeContainer.unlockDisabled,onClick:Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tryUnlock();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),children:"Unlock"})}),Object(W.jsx)("div",{className:"reset-vault",children:Object(W.jsx)("a",{"aria-label":"Reset vault - this will open a confirmation before erasing keys",href:"#",className:"text-danger",id:"reset-link",onClick:function(){return e.resetVaultOnClick()},children:"Reset Vault?"})})]})})]})})}},{key:"renderLockedOut",value:function(){return this.props.accountManager.isLockedOut&&!this.props.accountManager.lockoutTimerStarted&&this.props.accountManager.startLockoutTimer(this.props.accountManager.timerDuration),Object(W.jsxs)("div",{className:this.props.classes.lockout,children:[Object(W.jsx)(T.a,{style:{fontSize:"5.5rem"}}),Object(W.jsx)(y.a,{variant:"body1",children:"Your vault has been temporarily locked out due to too many incorrect password attempts."}),Object(W.jsxs)(y.a,{variant:"h6",children:["Please try again in"," ",Math.round(this.props.accountManager.remainingMins)," minute",this.props.accountManager.remainingMins<=1?".":"s."]})]})}},{key:"render",value:function(){return this.props.accountManager.hasCreatedVault?this.props.accountManager.isUnLocked?!this.props.connectionContainer.connectionStatus&&this.props.connectionContainer.connectionRequested?this.props.accountManager.userAccounts.length<1?this.renderAccountLists():Object(W.jsx)(s.a,{to:l.ConnectSigner}):this.props.signingContainer.deployToSign?Object(W.jsx)(s.a,{to:l.SignDeploy}):this.props.signingContainer.messageToSign?Xe(this.props.signingContainer,this.props.popupContainer):this.renderAccountLists():this.props.accountManager.isLockedOut?this.renderLockedOut():this.renderUnlock():this.renderCreateNewVault()}}]),n}(a.a.Component))||Ne,_e=Object(C.a)((function(e){return Object(f.a)({margin:{marginTop:"20px"},alignCenter:{textAlign:"center"},unlockButton:{backgroundColor:"var(--cspr-dark-blue)",color:"white","&$disabled":{backgroundColor:"white",color:"grey"}},disabled:{},lockout:{position:"absolute",top:0,right:0,left:0,bottom:0,background:"linear-gradient(30deg, var(--cspr-dark-blue) 50%, var(--cspr-red) 100%)",padding:"2em",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"snow",textAlign:"center","& > *":{marginBottom:"1rem"},"& > :nth-child(2)":{fontSize:"1.2rem"}}})}),{withTheme:!0})(Object(s.g)($e)),et=(Ve=function(){function e(t,n){Object(u.a)(this,e),this.backgroundManager=t,this.appState=n}return Object(b.a)(e,[{key:"deployToSign",get:function(){return this.appState.unsignedDeploys.length>0?this.appState.unsignedDeploys[0]:null}},{key:"messageToSign",get:function(){return this.appState.unsignedMessages.length>0?this.appState.unsignedMessages[0]:null}},{key:"parseDeployData",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.parseDeployData(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signDeploy",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.signDeploy(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.rejectSignDeploy(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"approveSigningMessage",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.approveSigningMessage(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancelSigningMessage",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.cancelSigningMessage(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Object(X.a)(Ve.prototype,"deployToSign",[$.computed],Object.getOwnPropertyDescriptor(Ve.prototype,"deployToSign"),Ve.prototype),Object(X.a)(Ve.prototype,"messageToSign",[$.computed],Object.getOwnPropertyDescriptor(Ve.prototype,"messageToSign"),Ve.prototype),Ve),tt=function(e){return e.length>13},nt=function(e){return["Amount","Payment","Transaction Fee"].includes(e)},rt=function(e){return t=e.key,["Timestamp","Chain Name"].includes(t)||Array.isArray(e.value)?e:Ge(e.value)?(nt(e.key)&&(e.tooltipContent="".concat(function(e){if(!Ge(e))throw new Error("Unable to parse motes string as number");return(+e/1e9).toString()}(e.value)," CSPR")),tt(e.value)&&(e.tooltipContent=e.value),e.value=tt(e.value)?Ze(e.value,6,6):function(e){if(!Ge(e))throw new Error("Unable to parse string as number");return e.replace(/\B(?=(\d{3})+(?!\d))/g," ")}(e.value),e):function(e){if("string"!==typeof e)return!1;var t=e.split("-"),n=Object(Ye.a)(t,3),r=n[0],a=n[1],o=n[2];if(!r||!a||!o)return!1;var c=Object(We.decodeBase16)(a);return"uref"===r&&32===c.length&&3===o.length}(e.value)?(e.tooltipContent=e.value,e.value=Ze(e.value,9,9),e):tt(e.value)?(e.tooltipContent=e.value,e.value=Ze(e.value,6,6),e):e;var t},at=et,ot=n(329),ct=n(330),it=n(331),st=n(327),ut=n(328),lt=n(332),pt=n(366),dt=n(178),ht=n.n(dt),bt=n(177),jt=n.n(bt),gt=".8rem",mt=function(){return{tooltip:{fontSize:gt,textAlign:"center",margin:"10px 0 0 0",maxWidth:"300px",width:"fit-content"},listItemTooltip:{fontSize:gt,textAlign:"center",marginRight:"60px"},csprToolTip:{fontSize:".9rem",textAlign:"center",margin:"10px 0 0 0",width:"fit-content"}}},ft=n(365),Ot=Object(C.a)(mt)((function(e){return Object(W.jsx)(ft.a,{title:e.data.tooltipContent,placement:"top",classes:{tooltip:e.classes.listItemTooltip},children:Object(W.jsx)("li",{children:e.data.value})})})),yt=n(283),xt=Object(yt.a)(mt)((function(e){var t=nt(e.data.key);return Object(W.jsx)(ft.a,{title:e.data.tooltipContent,placement:"top",classes:{tooltip:t?e.classes.csprToolTip:e.classes.tooltip},children:Object(W.jsxs)(st.a,{children:[Object(W.jsx)(ut.a,{style:{fontWeight:"bold"},children:e.data.key}),Object(W.jsx)(ut.a,{align:"right",children:Array.isArray(e.data.value)?Object(W.jsx)("ul",{style:{listStyleType:"none"},children:e.data.value.map((function(t){var n={key:e.data.key,value:t,tooltipContent:vt};return Object(W.jsx)(Ot,{data:rt(n)})}))}):e.data.value})]})})})),vt="",kt=Object(E.a)(qe=function(e){Object(j.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={genericRows:[],deploySpecificRows:[],deployToSign:r.props.signingContainer.deployToSign,argsExpanded:!1},r}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.browser.windows.getCurrent();case 2:"popup"===e.sent.type&&window.addEventListener("beforeunload",(function(e){var n;t.props.signingContainer.cancel(null===(n=t.state.deployToSign)||void 0===n?void 0:n.id)})),this.state.deployToSign&&this.generateDeployInfo(this.state.deployToSign);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generateDeployInfo",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r,a,o,c,i,s,u,l,p,h,b,j,g,m,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.signingContainer.parseDeployData(t.id);case 2:for(n=e.sent,r={"Signing Key":n.signingKey,Account:n.account,"Deploy Hash":n.deployHash,Timestamp:n.timestamp,"Chain Name":n.chainName,Payment:n.payment,"Deploy Type":n.deployType},a=[],o=0,c=Object.entries(r);o<c.length;o++)i=Object(Ye.a)(c[o],2),s=i[0],u=i[1],l=rt({key:s,value:u,tooltipContent:vt}),a.push(l);for(p=[],h=0,b=Object.entries(n.deployArgs);h<b.length;h++)j=Object(Ye.a)(b[h],2),g=j[0],m=j[1],f=rt({key:g,value:m,tooltipContent:vt}),p.push(f);this.setState({genericRows:a,deploySpecificRows:p,argsExpanded:p.length<4});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.deployToSign&&this.props.accountManager.isUnLocked){var t,n=null===(t=this.props.signingContainer.deployToSign)||void 0===t?void 0:t.id;return Object(W.jsxs)("div",{style:{flexGrow:1,marginTop:"-30px",width:"100vw"},children:[Object(W.jsx)(y.a,{align:"center",variant:"h6",children:"Signature Request"}),Object(W.jsx)(ot.a,{children:Object(W.jsx)(ct.a,{style:{width:"90%"},children:Object(W.jsxs)(it.a,{children:[this.state.genericRows.map((function(e){return Object(W.jsx)(xt,{data:e})})),this.state.genericRows.some((function(e){return"Deploy Type"===e.key&&"Transfer"===e.value}))?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(st.a,{children:Object(W.jsx)(ut.a,{component:"th",scope:"row",style:{fontWeight:"bold"},colSpan:2,align:"center",children:"Transfer Data"})}),Object(W.jsx)(st.a,{children:Object(W.jsx)(ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:2,children:Object(W.jsx)(ct.a,{size:"small",children:Object(W.jsx)(it.a,{children:this.state.deploySpecificRows.map((function(e){return Object(W.jsx)(xt,{data:e})}))})})})})]}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(st.a,{children:[Object(W.jsx)(ut.a,{component:"th",scope:"row",style:{fontWeight:"bold"},children:"Contract Arguments"}),Object(W.jsx)(ut.a,{align:"right",children:Object(W.jsx)(v.a,{size:"small",onClick:function(){return e.setState({argsExpanded:!e.state.argsExpanded})},children:this.state.argsExpanded?Object(W.jsx)(jt.a,{}):Object(W.jsx)(ht.a,{})})})]}),Object(W.jsx)(st.a,{children:Object(W.jsx)(ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:2,children:Object(W.jsx)(lt.a,{in:this.state.argsExpanded,timeout:"auto",unmountOnExit:!0,children:Object(W.jsx)(ct.a,{size:"small",children:Object(W.jsx)(it.a,{children:this.state.deploySpecificRows.map((function(e){return Object(W.jsx)(xt,{data:e})}))})})})})})]})]})})}),Object(W.jsx)(pt.a,{mt:8,children:Object(W.jsxs)(O.a,{container:!0,style:{marginTop:"-50px"},spacing:4,justify:"center",alignItems:"center",children:[Object(W.jsx)(O.a,{item:!0,children:Object(W.jsx)(w.a,{variant:"contained",color:"secondary",onClick:Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.signingContainer.cancel(n);case 2:return t.next=4,e.props.popupContainer.callClosePopup();case 4:window.close();case 5:case"end":return t.stop()}}),t)}))),children:"Cancel"})}),Object(W.jsx)(O.a,{item:!0,children:Object(W.jsx)(w.a,{onClick:Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.signingContainer.signDeploy(n);case 2:return t.next=4,e.props.popupContainer.callClosePopup();case 4:window.close();case 5:case"end":return t.stop()}}),t)}))),variant:"contained",color:"primary",style:{backgroundColor:"var(--cspr-dark-blue)"},children:"Sign"})})]})})]})}return Object(W.jsx)(s.a,{to:l.Home})}}]),n}(a.a.Component))||qe,wt=Object(s.g)(kt);function Ct(){return Re(Object(W.jsx)("div",{className:"text-danger",children:"Approve Connection"}),Object(W.jsxs)("div",{children:["Connecting allows this site to:",Object(W.jsx)("br",{}),Object(W.jsxs)("ul",{children:[Object(W.jsx)("li",{children:"View your selected public key."}),Object(W.jsx)("li",{children:"Make signing requests."})]}),"are you sure you want to connect?"]}),"Connect","Cancel")}var St,Mt,At,Tt,Ft,Pt,Dt,Et,Ht,It=Object(E.a)(ze=function(e){Object(j.a)(n,e);var t=Object(g.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.browser.windows.getCurrent();case 2:"popup"===e.sent.type&&window.addEventListener("beforeunload",(function(e){t.props.connectSignerContainer.cancel()}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;return this.props.connectSignerContainer.connectionStatus?Object(W.jsx)(s.a,{to:l.Home}):this.props.accountManager.isUnLocked&&this.props.accountManager.userAccounts.length?Object(W.jsxs)("div",{style:{flexGrow:1},children:[Object(W.jsx)(y.a,{align:"center",variant:"h5",style:{marginBottom:"1rem"},children:"Connection Request"}),Object(W.jsxs)(y.a,{align:"center",variant:"body1",children:["Would you like to allow"," ",Object(W.jsx)("b",{children:null===(e=this.props.connectSignerContainer.currentTab)||void 0===e?void 0:e.url})," to connect?"]}),Object(W.jsx)(pt.a,{mt:8,children:Object(W.jsxs)(O.a,{container:!0,spacing:4,justify:"center",alignItems:"center",children:[Object(W.jsx)(O.a,{item:!0,children:Object(W.jsx)(w.a,{variant:"contained",color:"secondary",onClick:function(){t.props.connectSignerContainer.cancel()},children:"Cancel"})}),Object(W.jsx)(O.a,{item:!0,children:Object(W.jsx)(w.a,{onClick:function(){Ct().then((function(){return t.props.connectSignerContainer.connectToSite()}))},variant:"contained",color:"primary",style:{backgroundColor:"var(--cspr-dark-blue)"},children:"Connect"})})]})})]}):Object(W.jsx)(s.a,{to:l.Home})}}]),n}(a.a.Component))||ze,Lt=Object(s.g)(It),Ut=n(84),Bt=n(196),Kt=n(72),Rt=n(95),Nt=n(179),Vt=n.n(Nt),qt=n(180),zt=n.n(qt),Yt=n(181),Wt=n.n(Yt),Gt=(St=function(){function e(t){var n=this;Object(u.a)(this,e),this.errors=t,this.secretKeyBase64=new _.FieldState("").validators(ke),this.algorithm=new _.FieldState("").validators(ke,we),this.name=new _.FieldState("").validators(ke,Se,Me),this.reHex=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,Object(Fe.a)(this,"file",Mt,this),this.handleFileSelect=function(e){if(n.errors.lastError&&n.errors.dismissLast(),e.target.files){n.file=e.target.files[0];var t=new FileReader;t.readAsText(n.file),t.onload=function(e){var r=t.result,a=n.checkFileContent(r);if(null===a){var o,c=null===(o=n.file)||void 0===o?void 0:o.name.split(".");if(void 0===c)n.errors.capture(Promise.reject(new Error("File undefined")));else{var i=c[1];if("pem"!==i&&"cer"!==i)n.errors.capture(Promise.reject(new Error("Invalid file format: .".concat(i,". Please upload a .pem or .cer file."))));else try{n.parseAlgorithm(r)}catch(e){n.errors.capture(Promise.reject(new Error("Failed to parse key")))}}}else n.errors.capture(Promise.reject(new Error(a)))}}}}return Object(b.a)(e,[{key:"parseAlgorithm",value:function(e){var t;try{var n=this.reHex.test(e)?Wt.a.decode(e):zt.a.unarmor(e);t=Vt.a.decode(n);try{var r=t.toPrettyString().includes("curveEd25519"),a=t.toPrettyString().includes("secp256k1");if(r){this.algorithm.onChange("ed25519");var o=t.toPrettyString().split("\n")[4].split("|")[1];this.secretKeyBase64.onChange(Object(Rt.encodeBase64)(Object(We.decodeBase16)(o)))}else if(a){this.algorithm.onChange("secp256k1");var c=t.toPrettyString().split("\n")[2].split("|")[1];this.secretKeyBase64.onChange(Object(Rt.encodeBase64)(Object(We.decodeBase16)(c)))}else this.errors.capture(Promise.reject("Could not parse algorithm from DER encoding"))}catch(i){this.errors.capture(Promise.reject(i))}}catch(s){this.errors.capture(Promise.reject(s))}}},{key:"checkFileContent",value:function(e){return e?e.includes("PUBLIC KEY")?"Not a secret key file!":null:"The content of imported file cannot be empty!"}},{key:"submitDisabled",get:function(){return!(Ce(this.secretKeyBase64)&&Ce(this.name)&&Ce(this.algorithm))}},{key:"resetFields",value:function(){this.secretKeyBase64.reset(),this.algorithm.reset(),this.name.reset()}}]),e}(),Mt=Object(X.a)(St.prototype,"file",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(X.a)(St.prototype,"submitDisabled",[$.computed],Object.getOwnPropertyDescriptor(St.prototype,"submitDisabled"),St.prototype),Object(X.a)(St.prototype,"resetFields",[$.action],Object.getOwnPropertyDescriptor(St.prototype,"resetFields"),St.prototype),St),Zt=(At=function(e){Object(j.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).publicKey=new _.FieldState("").validators(ke),r.algorithm.onUpdate((function(e){switch(e.value){case"ed25519":var t=We.Keys.Ed25519.new();r.publicKey.onChange(t.publicKey.toHex()),r.secretKeyBase64.onChange(Object(Rt.encodeBase64)(t.privateKey));break;case"secp256k1":var n=We.Keys.Secp256K1.new();r.publicKey.onChange(n.publicKey.toHex()),r.secretKeyBase64.onChange(Object(Rt.encodeBase64)(n.privateKey));break;default:throw new Error("Invalid algorithm")}})),r}return Object(b.a)(n,[{key:"submitDisabled",get:function(){return!(Ce(this.secretKeyBase64)&&Ce(this.name)&&Ce(this.publicKey))}},{key:"resetFields",value:function(){Object(Bt.a)(Object(Kt.a)(n.prototype),"resetFields",this).call(this),this.publicKey.reset()}}]),n}(Gt),Object(X.a)(At.prototype,"submitDisabled",[$.computed],Object.getOwnPropertyDescriptor(At.prototype,"submitDisabled"),At.prototype),Object(X.a)(At.prototype,"resetFields",[$.action],Object.getOwnPropertyDescriptor(At.prototype,"resetFields"),At.prototype),At),Qt=(Tt=function(){function e(t){var n=this;Object(u.a)(this,e),this.accounts=[],this.name=new _.FieldState("").validators(ke,Se,Me,(function(e){return function(e,t){return!!t.some((function(t){return t===e}))&&"This alias is already in use"}(e,n.accounts)})),this.accounts=t}return Object(b.a)(e,[{key:"submitDisabled",get:function(){return!Ce(this.name)}},{key:"resetFields",value:function(){this.name.reset()}}]),e}(),Object(X.a)(Tt.prototype,"submitDisabled",[$.computed],Object.getOwnPropertyDescriptor(Tt.prototype,"submitDisabled"),Tt.prototype),Object(X.a)(Tt.prototype,"resetFields",[$.action],Object.getOwnPropertyDescriptor(Tt.prototype,"resetFields"),Tt.prototype),Tt),Jt=n(364),Xt=n(182),$t=n.n(Xt);(Ht=Et||(Et={}))[Ht.Created=0]="Created",Ht[Ht.Imported=1]="Imported";var _t=Object(E.a)((Pt=function(e){Object(j.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(u.a)(this,n),r=t.call(this,e),Object(Fe.a)(r,"accountForm",Dt,Object(Ut.a)(r)),"Import"===e.action?r.accountForm=new Gt(e.errors):r.accountForm=new Zt(e.errors),r.state={keyDownloadEnabled:!1,algoAnchorEl:null,revealSecretKey:!1},r}return Object(b.a)(n,[{key:"onCreateAccount",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.accountForm).submitDisabled){e.next=3;break}return e.abrupt("return");case 3:if(!this.props.accountManager.userAccounts.map((function(e){return e.alias})).includes(t.name.$)){e.next=6;break}return e.abrupt("return",this.props.errors.capture(Promise.reject(new Error("An account with name '".concat(t.name.$,"' already exists.")))));case 6:return e.next=8,this._onSubmit(Et.Created);case 8:this.downloadKeys(t.name.$);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"downloadKeys",value:function(e){var t=this;Re(Object(W.jsx)("div",{className:"text-danger",children:"Download your key"}),"To proceed, download and save your key securely. Without it, you will not be able to recover access to your account.","Download","Cancel").then(Object(h.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.props.accountManager.downloadPemFiles(e);case 3:n.next=8;break;case 5:return n.prev=5,n.t0=n.catch(0),n.abrupt("return",t.props.errors.capture(Promise.reject(new Error("Failed to download keys"))));case 8:case"end":return n.stop()}}),n,null,[[0,5]])}))),Object(h.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.props.accountManager.removeUserAccount(e);case 3:if(!t.props.connectionContainer.connectionRequested||t.props.accountManager.userAccounts.length){n.next=6;break}return n.next=6,t.props.connectionContainer.resetConnectionRequest();case 6:n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",t.props.errors.capture(Promise.reject(new Error("Failed to delete keypair: ".concat(e)))));case 11:case"end":return n.stop()}}),n,null,[[0,8]])}))))}},{key:"onImportAccount",value:function(){this.accountForm.submitDisabled||this._onSubmit(Et.Imported)}},{key:"_onSubmit",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.accountManager.importUserAccount(this.accountForm.name.$,this.accountForm.secretKeyBase64.value,this.accountForm.algorithm.$,t!==Et.Created);case 2:this.props.history.push(l.Home),this.props.history.replace(l.Home);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderImportForm",value:function(){var e=this,t=this.accountForm;return Object(W.jsxs)("form",{className:this.props.classes.root,children:[Object(W.jsx)(y.a,{id:"continuous-slider",variant:"h6",gutterBottom:!0,children:"Import from Secret Key File"}),Object(W.jsx)(x.a,{children:Object(W.jsxs)(pt.a,{display:"flex",flexDirection:"row",alignItems:"center",m:1,children:[Object(W.jsxs)(w.a,{id:"private-key-uploader",variant:"contained",style:{backgroundColor:"var(--cspr-dark-blue)",color:"white"},component:"label",children:["Upload",Object(W.jsx)("input",{type:"file",style:{display:"none"},onChange:function(e){return t.handleFileSelect(e)}})]}),Object(W.jsx)(pt.a,{ml:1,children:Object(W.jsx)(y.a,{component:"span",children:Object(W.jsx)(pt.a,{fontSize:12,children:t.file?t.file.name:"No file selected"})})})]})}),Object(W.jsx)(Q,{fullWidth:!0,label:"Name imported account",placeholder:"Human Readable Alias",id:"import-name",fieldState:this.accountForm.name}),Object(W.jsx)(x.a,{fullWidth:!0,className:this.props.classes.importButton,children:Object(W.jsx)(w.a,{type:"submit",disabled:this.accountForm.submitDisabled,color:"primary",variant:"contained",onClick:function(){e.onImportAccount()},children:"Import"})})]})}},{key:"renderCreateForm",value:function(){var e=this,t=this.accountForm;return Object(W.jsxs)("form",{className:this.props.classes.root,onSubmit:function(e){e.preventDefault()},children:[Object(W.jsx)(y.a,{variant:"h6",style:{marginTop:"-1em"},children:"Create Account"}),Object(W.jsx)(Q,{"aria-label":"Input for setting name of key",autoFocus:!0,fullWidth:!0,label:"Name",placeholder:"Human Readable Alias",id:"import-name",fieldState:this.accountForm.name}),Object(W.jsxs)(x.a,{fullWidth:!0,children:[Object(W.jsx)(Jt.a,{id:"algo-select-lbl",children:"Algorithm"}),Object(W.jsx)(J,{fullWidth:!0,labelId:"algo-select-lbl",fieldState:this.accountForm.algorithm,selectItems:[{value:"ed25519",text:"ED25519"},{value:"secp256k1",text:"SECP256k1"}]})]}),Object(W.jsx)(Q,{fullWidth:!0,InputProps:{readOnly:!0,disabled:!0},label:"Public Key",id:"create-public-key",value:t.publicKey.$?t.publicKey.$:""}),Object(W.jsx)(x.a,{fullWidth:!0,margin:"normal",children:Object(W.jsx)(w.a,{type:"submit",className:"mt-5",disabled:this.accountForm.submitDisabled,color:"primary",variant:"contained",onClick:function(){e.onCreateAccount()},children:"Create"})})]})}},{key:"render",value:function(){return Object(W.jsx)("div",{children:Object(W.jsx)("div",{className:"mt-5 mb-4",children:this.accountForm instanceof Zt?this.renderCreateForm():this.renderImportForm()})})}}]),n}(a.a.Component),Dt=Object(X.a)(Pt.prototype,"accountForm",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=Pt))||Ft,en=$t()((function(e){return Object(f.a)({root:{"& .MuiTextField-root":{marginTop:e.spacing(2)}},importButton:{marginTop:e.spacing(8)}})}),{withTheme:!0})(Object(s.g)(_t)),tn=n(356),nn=n(355),rn=n(354),an=n(335),on=n(336),cn=n(338),sn=n(342),un=n(343),ln=n(344),pn=n(345),dn=n(346),hn=n(195),bn=n(316),jn=n(337),gn=n(287),mn=n(339),fn=n(340),On=n(341),yn=Object(an.a)((function(e){return Object(f.a)({menuIcon:{color:"green",marginRight:"0.2rem"}})})),xn=Object(E.a)((function(e){var t=a.a.useState(null),n=Object(Ye.a)(t,2),r=n[0],o=n[1],c=yn(),i=function(){setTimeout((function(){o(null)}),200)};return Object(W.jsxs)("div",{children:[Object(W.jsx)(v.a,{edge:"end","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},style:{color:"#C4C4C4"},children:Object(W.jsx)(on.a,{})}),Object(W.jsx)(hn.a,{id:"simple-menu",anchorEl:r,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(r),onClose:i,children:Object(W.jsxs)(bn.a,{"aria-labelledby":"nested-list-subheader",subheader:Object(W.jsx)(jn.a,{component:"div",id:"nested-list-subheader",children:e.accountManager.userAccounts.length>0?"Accounts":"No Account"}),children:[e.accountManager.userAccounts.map((function(t,n){var r;return Object(W.jsxs)(gn.a,{button:!0,dense:!0,onClick:function(){e.accountManager.switchToAccount(t.alias),i()},children:[t.alias===(null===(r=e.accountManager.activeUserAccount)||void 0===r?void 0:r.alias)?Object(W.jsx)(cn.a,{fontSize:"small"}):Object(W.jsx)(mn.a,{className:"fa fa-fw",fontSize:"small"}),Object(W.jsx)(fn.a,{primary:t.alias})]},n)})),Object(W.jsx)(On.a,{light:!0}),e.accountManager.userAccounts.length>0&&Object(W.jsxs)(gn.a,{dense:!0,component:D.b,to:l.AccountManagement,button:!0,onClick:i,children:[Object(W.jsx)(sn.a,{className:c.menuIcon}),Object(W.jsx)(fn.a,{primary:"Key Management"})]}),Object(W.jsxs)(gn.a,{dense:!0,component:D.b,to:l.ConnectedSites,button:!0,onClick:i,children:[Object(W.jsx)(un.a,{className:c.menuIcon}),Object(W.jsx)(fn.a,{primary:"Connected Sites"})]}),e.accountManager.activeUserAccount&&Object(W.jsxs)(gn.a,{dense:!0,button:!0,onClick:function(){e.accountManager.downloadActiveKey(),i()},children:[Object(W.jsx)(ln.a,{className:c.menuIcon}),Object(W.jsx)(fn.a,{primary:"Download Active Key"})]}),Object(W.jsxs)(gn.a,{dense:!0,component:D.b,to:l.ConfigureTimeout,button:!0,onClick:i,children:[Object(W.jsx)(pn.a,{className:c.menuIcon}),Object(W.jsx)(fn.a,{primary:"Timeout"}),Object(W.jsxs)(y.a,{variant:"overline",children:[e.accountManager.idleTimeoutMins," min",1===e.accountManager.idleTimeoutMins?"":"s"]})]}),Object(W.jsxs)(gn.a,{dense:!0,button:!0,onClick:function(){e.accountManager.lock(),i()},children:[Object(W.jsx)(dn.a,{className:c.menuIcon}),Object(W.jsx)(fn.a,{primary:"Lock"})]})]})})]})})),vn=n(183),kn=n.n(vn),wn=n(347),Cn=n(348),Sn=Object(an.a)((function(e){return Object(f.a)({root:{width:"100vw",flexGrow:1,color:"#c4c4c4",backgroundColor:"var(--cspr-dark-blue)"},toolbarMargin:{minHeight:"40px"},menuButton:{marginRight:e.spacing(2)},toggleWrapper:{flexGrow:1,textAlign:"center"},toggleButton:{width:"100%",height:"2rem"}})})),Mn=Object(E.a)((function(e){var t=Sn(),n=e.connectionContainer,r=n.currentTab,a=n.connectedSites,o=r&&a.some((function(e){return e.url===r.url&&e.isConnected}));return e.accountManager.hasCreatedVault&&e.accountManager.isUnLocked?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(wn.a,{position:"static",className:t.root,color:"transparent",children:Object(W.jsxs)(Cn.a,{children:[Object(W.jsx)(v.a,{edge:"start",component:D.b,to:"/",children:Object(W.jsx)(kn.a,{style:{color:"#C4C4C4"}})}),Object(W.jsx)(ft.a,{title:e.connectionContainer.integratedSite?e.accountManager.userAccounts.length?"Toggle Connection to Site":"Add an Account to Connect":"This site is not integrated with Signer",children:Object(W.jsx)("span",{className:t.toggleWrapper,children:Object(W.jsx)(w.a,{className:t.toggleButton,disabled:!e.connectionContainer.integratedSite||!e.accountManager.userAccounts.length,variant:"outlined",color:o?"primary":"default",size:"large",onClick:function(){o?e.connectionContainer.disconnectFromSite():Ct().then((function(){e.connectionContainer.connectToSite()}))},style:{color:"var(--cspr-dark-blue)",backgroundColor:"#fff"},children:o?"Connected":"Disconnected"})})}),Object(W.jsx)(xn,{accountManager:e.accountManager})]})}),Object(W.jsx)("div",{className:t.toolbarMargin})]}):Object(W.jsx)("div",{className:t.toolbarMargin})}));function An(){return Object(r.useEffect)((function(){!function(){var e,t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://ssl.google-analytics.com/ga.js";var n=document.getElementsByTagName("script")[0];null===(e=n.parentNode)||void 0===e||e.insertBefore(t,n),setTimeout((function(){var e=window._gaq||[];e.push(["_setAccount","UA-133833104-5"]),e.push(["_trackPageview"])}),2e3)}()}),[]),null}var Tn,Fn,Pn,Dn=n(349),En=n(361),Hn=n(359),In=n(126),Ln=n(125),Un=n.n(Ln),Bn=n(185),Kn=n.n(Bn),Rn=n(186),Nn=n.n(Rn),Vn=n(142),qn=n.n(Vn),zn=n(37),Yn=n(141),Wn=n.n(Yn),Gn=n(350),Zn=Object(E.a)((Fn=function(e){Object(j.a)(n,e);var t=Object(g.a)(n);function n(e){var r;Object(u.a)(this,n),r=t.call(this,e),Object(Fe.a)(r,"renameAccountForm",Pn,Object(Ut.a)(r)),r.handleClickOpen=function(e){r.setState({openDialog:!0,selectedAccount:e,alias:e.alias})},r.handleViewKey=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.accountManager.getPublicKeyHexByAlias(t);case 2:return n=e.sent,e.next=5,r.props.accountManager.getAccountHashByAlias(t);case 5:a=e.sent,r.setState({alias:t,publicKeyHex:n,accountHash:a,openKeyDialog:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleDownloadKeys=function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.accountManager.downloadPemFiles(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleCopyMessage=function(e,t){"clickaway"!==t&&r.setState({copyStatus:!1})},r.handleClose=function(){r.renameAccountForm.resetFields(),r.setState({openDialog:!1,openKeyDialog:!1,selectedAccount:null})},r.handleUpdateName=function(){var e=r.state.selectedAccount,t=r.renameAccountForm.name.$;e&&t&&(r.props.errorsContainer.capture(r.props.accountManager.renameUserAccount(e.alias,t)),r.handleClose())},r.onDragEnd=function(e){e.destination&&r.props.accountManager.reorderAccount(e.source.index,e.destination.index)},r.handleClickRemove=function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.accountManager.isBackedUp(t);case 2:e.sent?Re(Object(W.jsx)("div",{className:"text-danger",children:"Remove account"}),Object(W.jsxs)("span",{children:["This account will be permanently deleted. Confirm password to remove account: ",Object(W.jsx)("b",{children:t})]}),"Remove","Cancel",{requirePassword:!0,requireCheckbox:!0,checkboxText:"I understand I will need the key files to recover this account"}).then(Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.accountManager.removeUserAccount(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))):Re(Object(W.jsx)("div",{className:"text-danger",children:"Back up account"}),Object(W.jsxs)("span",{children:["This account has not been backed up.",Object(W.jsx)("br",{}),Object(W.jsx)("b",{children:"You will not be able to recover this account without your key."}),Object(W.jsx)("br",{}),Object(W.jsx)("br",{}),"Would you like to download the key files for ",t,"?"]}),"Download","Cancel",{}).then(Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.accountManager.downloadPemFiles(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var a=e.accountManager.userAccounts.map((function(e){return e.alias}));return r.renameAccountForm=new Qt(a),r.state={openDialog:!1,openKeyDialog:!1,selectedAccount:null,alias:null,publicKey:null,publicKeyHex:null,accountHash:null,copyStatus:!1},r}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return this.props.accountManager.isUnLocked&&this.props.accountManager.userAccounts[0]?Object(W.jsxs)(a.a.Fragment,{children:[Object(W.jsx)(In.a,{onDragEnd:function(t){return e.onDragEnd(t)},children:Object(W.jsx)(In.c,{droppableId:"droppable",children:function(t,n){return Object(W.jsx)(zn.a,{children:function(){return Object(W.jsx)(Hn.a,{rootRef:t.innerRef,children:Object(W.jsxs)(bn.a,{children:[e.props.accountManager.userAccounts.map((function(t,n){return Object(W.jsx)(In.b,{draggableId:t.alias,index:n,children:function(n,r){return Object(W.jsxs)(gn.a,{innerRef:n.innerRef,ContainerProps:Object(i.a)(Object(i.a)(Object(i.a)({},n.draggableProps),n.dragHandleProps),{},{style:(a=r.isDragging,o=n.draggableProps.style,Object(i.a)(Object(i.a)({},o),a&&{background:"rgb(235,235,235)"}))}),children:[Object(W.jsx)(fn.a,{primary:t.alias}),Object(W.jsxs)(Dn.a,{children:[Object(W.jsx)(ft.a,{title:"Edit",children:Object(W.jsx)(v.a,{"aria-label":"Button will open a dialog to rename key",edge:"end",onClick:function(){e.handleClickOpen(t)},children:Object(W.jsx)(Kn.a,{})})}),Object(W.jsx)(ft.a,{title:"Delete",children:Object(W.jsx)(v.a,{edge:"end",onClick:function(){e.handleClickRemove(t.alias)},children:Object(W.jsx)(Un.a,{})})}),Object(W.jsx)(ft.a,{title:"View",children:Object(W.jsx)(v.a,{edge:"end",onClick:function(){e.handleViewKey(t.alias)},children:Object(W.jsx)(Nn.a,{})})}),Object(W.jsx)(ft.a,{title:"Download",children:Object(W.jsx)(v.a,{edge:"end",onClick:function(){e.handleDownloadKeys(t.alias)},children:Object(W.jsx)(Gn.a,{})})})]})]});var a,o}},t.alias)})),t.placeholder]})})}})}})}),Object(W.jsx)(I.a,{open:this.state.openDialog,onClose:this.handleClose,"aria-label":"Form to rename account - focus will be given to name input field","aria-labelledby":"form-dialog-title",children:Object(W.jsxs)("form",{children:[Object(W.jsx)(L.a,{id:"form-dialog-title",children:"Rename"}),Object(W.jsx)(U.a,{children:Object(W.jsx)(Q,{autoFocus:!0,fullWidth:!0,label:"Rename account",placeholder:"Account alias",id:"rename-account",fieldState:this.renameAccountForm.name})}),Object(W.jsxs)(N.a,{children:[Object(W.jsx)(w.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(W.jsx)(w.a,{type:"submit",onClick:this.handleUpdateName,color:"primary",disabled:this.renameAccountForm.submitDisabled,children:"Update"})]})]})}),Object(W.jsxs)(I.a,{fullScreen:!0,open:this.state.openKeyDialog,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(W.jsx)(L.a,{id:"form-dialog-title",children:"Account Details"}),Object(W.jsxs)(U.a,{children:[Object(W.jsxs)(bn.a,{children:[Object(W.jsx)(jn.a,{children:Object(W.jsx)(y.a,{variant:"h6",children:this.state.alias})}),Object(W.jsxs)(gn.a,{children:[Object(W.jsx)(v.a,{edge:"start",onClick:function(){Wn()(e.state.publicKeyHex),e.setState({copyStatus:!0})},children:Object(W.jsx)(qn.a,{})}),Object(W.jsx)(fn.a,{primary:"Public Key: ".concat(this.state.publicKeyHex),style:{overflowWrap:"break-word"}})]}),Object(W.jsxs)(gn.a,{children:[Object(W.jsx)(v.a,{edge:"start",onClick:function(){Wn()(e.state.accountHash),e.setState({copyStatus:!0})},children:Object(W.jsx)(qn.a,{})}),Object(W.jsx)(fn.a,{primary:"Account Hash: ".concat(this.state.accountHash),style:{overflowWrap:"break-word"}})]})]}),Object(W.jsx)(En.a,{open:this.state.copyStatus,message:"Copied!",autoHideDuration:1500,onClose:this.handleCopyMessage})]}),Object(W.jsx)(N.a,{children:Object(W.jsx)(w.a,{onClick:this.handleClose,color:"primary",children:"Close"})})]})]}):Object(W.jsx)(s.a,{to:l.Home})}}]),n}(a.a.Component),Pn=Object(X.a)(Fn.prototype,"renameAccountForm",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tn=Fn))||Tn,Qn=Object(s.g)(Zn),Jn=n(187),Xn=n.n(Jn),$n=n(188),_n=n.n($n),er=Object(E.a)((function(e){return e.accountManager.isUnLocked?e.connectionContainer.connectedSites[0]?Object(W.jsx)(bn.a,{children:e.connectionContainer.connectedSites.map((function(t,n){return Object(W.jsxs)(gn.a,{children:[Object(W.jsx)(fn.a,{primary:t.url}),Object(W.jsxs)(Dn.a,{children:[Object(W.jsx)(ft.a,{title:"Delete",children:Object(W.jsx)(v.a,{edge:"end",onClick:function(){var n;n=t.url,Re(Object(W.jsx)("div",{className:"text-danger",children:"Remove Site"}),"Are you sure you want to disconnect and remove this site?").then((function(){return e.connectionContainer.removeSite(n)}))},children:Object(W.jsx)(Un.a,{})})}),t.isConnected?Object(W.jsx)(ft.a,{title:"Disconnect",children:Object(W.jsx)(v.a,{edge:"end",onClick:function(){e.connectionContainer.disconnectFromSite(t.url)},children:Object(W.jsx)(Xn.a,{})})}):Object(W.jsx)(ft.a,{title:"Connect",children:Object(W.jsx)(v.a,{edge:"end",onClick:function(){e.connectionContainer.connectToSite(t.url)},children:Object(W.jsx)(_n.a,{})})})]})]})}))}):Object(W.jsx)(y.a,{variant:"h5",children:"No Saved Sites"}):Object(W.jsx)(s.a,{to:l.Home})})),tr=n(189),nr=n(351),rr=n(352),ar=Object(E.a)((function(e){return e.accountManager.isUnLocked?Object(W.jsxs)("div",{children:[Object(W.jsx)("h2",{children:"Set Idle Timeout"}),Object(W.jsx)(y.a,{children:"Select how long you'd like before the Signer locks due to inactivity."}),Object(W.jsxs)(bn.a,{children:[Object(W.jsxs)(gn.a,{button:!0,onClick:Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.accountManager.configureTimeout(1);case 2:case"end":return t.stop()}}),t)}))),children:[Object(W.jsx)(fn.a,{primary:"1 minute"}),1===e.accountManager.idleTimeoutMins&&Object(W.jsx)(nr.a,{children:Object(W.jsx)(rr.a,{style:{color:"green",marginLeft:"30px"}})})]}),Object(W.jsxs)(gn.a,{button:!0,onClick:Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.accountManager.configureTimeout(2);case 2:case"end":return t.stop()}}),t)}))),children:[Object(W.jsx)(fn.a,{primary:"2 minutes"}),2===e.accountManager.idleTimeoutMins&&Object(W.jsx)(nr.a,{children:Object(W.jsx)(rr.a,{style:{color:"green",marginLeft:"30px"}})})]}),Object(W.jsxs)(gn.a,{button:!0,onClick:Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.accountManager.configureTimeout(5);case 2:case"end":return t.stop()}}),t)}))),children:[Object(W.jsx)(fn.a,{primary:"5 minutes"}),5===e.accountManager.idleTimeoutMins&&Object(W.jsx)(nr.a,{children:Object(W.jsx)(rr.a,{style:{color:"green",marginLeft:"30px"}})})]}),Object(W.jsxs)(gn.a,{button:!0,onClick:Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.accountManager.configureTimeout(10);case 2:case"end":return t.stop()}}),t)}))),children:[Object(W.jsx)(fn.a,{primary:"10 minutes"}),10===e.accountManager.idleTimeoutMins&&Object(W.jsx)(nr.a,{children:Object(W.jsx)(rr.a,{style:{color:"green",marginLeft:"30px"}})})]})]})]}):Object(W.jsx)(s.a,{to:l.Home})})),or=Object(an.a)({MuiDialogTitle:{padding:"0",textAlign:"center",marginTop:"15px"}});function cr(e){var t=e.children,n=or();return Object(W.jsx)(L.a,{classes:{root:n.MuiDialogTitle},children:t})}var ir=Object(an.a)({MuiDialogContent:{padding:"4px 10px 26px","& .MuiLink-button":{color:"var(--cspr-red)",lineHeight:"0"},"& p":{marginTop:"8px",marginBlockEnd:"0"},"& ul":{marginTop:"8px",paddingLeft:"18px",marginBlockStart:"6px",marginBlockEnd:"0"},"& .MuiList-root":{paddingTop:"0",paddingBottom:"20px","& .MuiListItem-root":{paddingTop:"0",paddingLeft:"0"},"& .MuiListItemText-root":{marginTop:"6px",marginBottom:"6px",paddingTop:"0","& .MuiTypography-body1":{fontSize:"14px"}}}},MuiTypography:{fontSize:"14px",marginBlockEnd:"7px"}});function sr(e){var t=e.children,n=ir();return Object(W.jsx)(U.a,{classes:{root:n.MuiDialogContent},children:Object(W.jsx)(B.a,{classes:{root:n.MuiTypography},children:t})})}var ur=Object(an.a)({buttonContainerStyle:{position:"fixed",bottom:"20px",width:"228px",marginLeft:"10px",marginRight:"10px",marginBottom:"10px","& .MuiButton-containedPrimary":{backgroundColor:"var(--cspr-red)",color:"white","&$disabled":{backgroundColor:"white",color:"grey"}},"& .MuiButton-containedSecondary":{backgroundColor:"var(--cspr-dark-blue)",color:"white","&$disabled":{backgroundColor:"white",color:"grey"}}}});function lr(e){var t=e.children,n=ur();return Object(W.jsx)("div",{className:n.buttonContainerStyle,children:t})}var pr=Object(an.a)({promptContainer:{padding:"10px"},dialogPaper:{minHeight:"95vh",maxHeight:"95vh",height:"95vh",margin:"16px",width:"calc(100% - 32px)"}});function dr(e){var t=e.isOpened,n=e.renderHeader,r=e.renderContent,a=e.renderActions,o=pr();return Object(W.jsx)(I.a,{fullWidth:!0,classes:{paper:o.dialogPaper},open:t,children:Object(W.jsxs)("div",{className:o.promptContainer,children:[Object(W.jsx)(cr,{children:n()}),Object(W.jsx)(sr,{children:r()}),Object(W.jsx)(lr,{children:a()})]})})}function hr(){return Object(W.jsx)(W.Fragment,{children:"Protect your funds"})}function br(){return null}var jr=n(353);function gr(e){var t=e.setSecurityCheckupPageIndex;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("p",{children:"Each of your accounts has a corresponding Secret Key file that provides access to the funds on that account."}),Object(W.jsxs)("ul",{children:[Object(W.jsxs)("li",{children:["Make sure that you have downloaded and backed up each Secret Key file"," ",Object(W.jsx)("b",{children:"securely"}),"."," ",Object(W.jsx)(jr.a,{component:"button",onClick:function(){return t(1)},children:"Start here"})]}),Object(W.jsx)("li",{children:"Never share your Secret Key file with anyone."}),Object(W.jsx)("li",{children:"The Casper Signer Team will never ask for your Secret Key file."})]})]})}function mr(e){var t=e.accountManager;return Object(W.jsx)(bn.a,{children:t&&t.userAccounts&&t.userAccounts.map((function(e,n){return Object(W.jsxs)(gn.a,{children:[Object(W.jsx)(fn.a,{primary:e.alias}),Object(W.jsx)(Dn.a,{children:Object(W.jsx)(ft.a,{title:"Download",children:Object(W.jsx)(v.a,{edge:"end",onClick:function(){t.downloadPemFiles(e.alias)},children:Object(W.jsx)(Gn.a,{})})})})]})}))})}function fr(e){var t=e.closeHandler;return Object(W.jsx)(w.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:t,children:"I have backed up all my accounts"})}function Or(e){var t=e.setSecurityCheckupPageIndex;return Object(W.jsx)(w.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){return t(0)},children:"Back"})}var yr=Object(E.a)((function(e){Object(tr.a)({timeout:6e4*e.accountManager.idleTimeoutMins,onIdle:function(){e.accountManager.isUnLocked&&e.accountManager.lock()},debounce:500});var t,n=e.accountManager.isTimeToSecurityCheckup,a=function(e){var t=e.accountManager,n=e.closeHandler,a=Object(r.useState)(0),o=Object(Ye.a)(a,2),c=o[0],i=o[1];return 1===c?{renderHeader:function(){return Object(W.jsx)(br,{})},renderContent:function(){return Object(W.jsx)(mr,{accountManager:t})},renderActions:function(){return Object(W.jsx)(Or,{setSecurityCheckupPageIndex:i})}}:{renderHeader:function(){return Object(W.jsx)(hr,{})},renderContent:function(){return Object(W.jsx)(gr,{setSecurityCheckupPageIndex:i})},renderActions:function(){return Object(W.jsx)(fr,{closeHandler:n})}}}({closeHandler:(t=e.accountManager,function(){return t.resetSecurityCheckup()}),accountManager:e.accountManager});return Object(W.jsxs)("div",{children:[Object(W.jsx)(dr,Object(i.a)({isOpened:n},a)),Object(W.jsx)(An,{}),Object(W.jsx)(Mn,{accountManager:e.accountManager,connectionContainer:e.connectSignerContainer}),Object(W.jsxs)(rn.a,{children:[Object(W.jsx)(xr,Object(i.a)({},e)),Object(W.jsxs)(s.d,{children:[Object(W.jsx)(s.b,{exact:!0,path:l.Home,render:function(t){return Object(W.jsx)(_e,{accountManager:e.accountManager,homeContainer:e.homeContainer,connectionContainer:e.connectSignerContainer,signingContainer:e.signingContainer,popupContainer:e.popupContainer,errors:e.errors})}}),Object(W.jsx)(s.b,{exact:!0,path:l.AccountManagement,render:function(t){return Object(W.jsx)(Qn,{accountManager:e.accountManager,connectionContainer:e.connectSignerContainer,errorsContainer:e.errors})}}),Object(W.jsx)(s.b,{exact:!0,path:l.ConnectedSites,render:function(t){return Object(W.jsx)(er,{connectionContainer:e.connectSignerContainer,accountManager:e.accountManager})}}),Object(W.jsx)(s.b,{path:l.ImportAccount,exact:!0,render:function(t){return Object(W.jsx)(en,{errors:e.errors,action:"Import",accountManager:e.accountManager,connectionContainer:e.connectSignerContainer})}}),Object(W.jsx)(s.b,{path:l.CreateAccount,exact:!0,render:function(t){return Object(W.jsx)(en,{errors:e.errors,action:"Create",accountManager:e.accountManager,connectionContainer:e.connectSignerContainer})}}),Object(W.jsx)(s.b,{path:l.SignDeploy,exact:!0,render:function(t){return Object(W.jsx)(wt,{signingContainer:e.signingContainer,accountManager:e.accountManager,popupContainer:e.popupContainer})}}),Object(W.jsx)(s.b,{path:l.SignMessage,exact:!0,render:function(t){return Xe(e.signingContainer,e.popupContainer)}}),Object(W.jsx)(s.b,{path:l.ConnectSigner,exact:!0,render:function(t){return Object(W.jsx)(Lt,{connectSignerContainer:e.connectSignerContainer,accountManager:e.accountManager})}}),Object(W.jsx)(s.b,{path:l.ConfigureTimeout,exact:!0,render:function(t){return Object(W.jsx)(ar,{accountManager:e.accountManager})}})]})]})]})})),xr=Object(E.a)((function(e){return null==e.errors.lastError?null:Object(W.jsx)("div",{id:"alert-message",children:Object(W.jsxs)(tn.a,{severity:"error",onClose:function(){return e.errors.dismissLast()},children:[Object(W.jsx)(nn.a,{children:"Error!"}),e.errors.lastError]})})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var vr,kr,wr=(vr=function(){function e(){Object(u.a)(this,e),this.homeForm=new _.FormState({setPasswordField:new _.FieldState("").validators(ke,Ae),confirmPasswordField:new _.FieldState("").validators(ke),unlockPasswordField:new _.FieldState("").validators(ke)}).compose().validators((function(e){return t=e.setPasswordField.$,n=e.confirmPasswordField.$,!(t===n)&&"Passwords must match";var t,n}))}return Object(b.a)(e,[{key:"unlockDisabled",get:function(){return!this.homeForm.$.unlockPasswordField.hasBeenValidated||this.homeForm.$.unlockPasswordField.hasBeenValidated&&this.homeForm.$.unlockPasswordField.hasError}},{key:"createVaultDisabled",get:function(){return!this.homeForm.$.setPasswordField.hasBeenValidated||this.homeForm.$.setPasswordField.hasBeenValidated&&this.homeForm.$.setPasswordField.hasError||!this.homeForm.$.confirmPasswordField.hasBeenValidated||this.homeForm.$.confirmPasswordField.hasBeenValidated&&this.homeForm.$.confirmPasswordField.hasError||!(this.homeForm.$.setPasswordField.value===this.homeForm.$.confirmPasswordField.value)}}]),e}(),Object(X.a)(vr.prototype,"unlockDisabled",[$.computed],Object.getOwnPropertyDescriptor(vr.prototype,"unlockDisabled"),vr.prototype),Object(X.a)(vr.prototype,"createVaultDisabled",[$.computed],Object.getOwnPropertyDescriptor(vr.prototype,"createVaultDisabled"),vr.prototype),vr),Cr=(n(281),kr=function(){function e(t,n){Object(u.a)(this,e),this.backgroundManager=t,this.appState=n}return Object(b.a)(e,[{key:"connectionStatus",get:function(){return this.appState.connectionStatus}},{key:"connectionRequested",get:function(){return this.appState.connectionRequested}},{key:"connectToSite",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.connectToSite(t);case 2:return e.next=4,this.resetConnectionRequest();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnectFromSite",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.disconnectFromSite(t);case 2:return e.next=4,this.resetConnectionRequest();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeSite",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.removeSite(t);case 2:return e.next=4,this.resetConnectionRequest();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetConnectionRequest",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.resetConnectionRequest();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resetConnectionRequest();case 2:return e.next=4,this.closeWindow();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"open",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openWindow();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"closeWindow",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.browser.extension.getViews();case 2:t=e.sent,t[1].window.close();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"openWindow",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.browser.extension.getViews();case 2:t=e.sent,t[1].window.open();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"connectedSites",get:function(){return this.appState.connectedSites}},{key:"currentTab",get:function(){return this.appState.currentTab}},{key:"isIntegratedSite",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundManager.isIntegratedSite(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"integratedSite",get:function(){return this.appState.isIntegratedSite}}]),e}(),Object(X.a)(kr.prototype,"connectionStatus",[$.computed],Object.getOwnPropertyDescriptor(kr.prototype,"connectionStatus"),kr.prototype),Object(X.a)(kr.prototype,"connectionRequested",[$.computed],Object.getOwnPropertyDescriptor(kr.prototype,"connectionRequested"),kr.prototype),Object(X.a)(kr.prototype,"connectedSites",[$.computed],Object.getOwnPropertyDescriptor(kr.prototype,"connectedSites"),kr.prototype),Object(X.a)(kr.prototype,"currentTab",[$.computed],Object.getOwnPropertyDescriptor(kr.prototype,"currentTab"),kr.prototype),Object(X.a)(kr.prototype,"integratedSite",[$.computed],Object.getOwnPropertyDescriptor(kr.prototype,"integratedSite"),kr.prototype),kr),Sr=n(193),Mr=Object(Sr.a)({palette:{primary:{light:"#4791db",main:"#1976d2",dark:"#115293"},secondary:{light:"#e33371",main:"#dc004e",dark:"#9a0036"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f"},warning:{light:"#ffb74d",main:"#ff9800",dark:"#f57c00"},info:{light:"#64b5f6",main:"#2196f3",dark:"#1976d2"},success:{light:"#81c784",main:"#4caf50",dark:"#388e3c"}}}),Ar=n(334),Tr=new Be,Fr=new De,Pr=new Ue(Tr,Fr),Dr=new Te(Fr,Pr,Tr),Er=new at(Pr,Tr),Hr=new Cr(Pr,Tr),Ir=new wr,Lr=new function e(t){var n=this;Object(u.a)(this,e),this.backgroundManager=t,this.callOpenPopup=function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.backgroundManager.callOpenPopup(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.callClosePopup=function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.backgroundManager.callClosePopup(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(Pr);c.a.render(Object(W.jsx)(Ar.a,{theme:Mr,children:Object(W.jsx)(D.a,{children:Object(W.jsx)(yr,{errors:Fr,accountManager:Dr,homeContainer:Ir,signingContainer:Er,connectSignerContainer:Hr,popupContainer:Lr})})}),document.getElementById("root")),chrome.runtime.connect(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[282,1,2]]]);
//# sourceMappingURL=main.69d017df.chunk.js.map