{"version":3,"sources":["popup/components/Pages.ts","popup/img/CasperLabs_Logo_Favicon_RGB_50px.png","popup/components/Forms.tsx","lib/FormValidator.ts","shared/enums.ts","popup/container/AccountManager.ts","popup/container/ErrorContainer.ts","lib/rpc/tunnel.ts","lib/rpc/rpc.ts","popup/BackgroundManager.ts","lib/MemStore.ts","popup/components/Confirmation.tsx","shared/constants.ts","shared/common.ts","popup/components/SignMessagePage.tsx","popup/components/Home.tsx","popup/container/SigningContainer.ts","popup/components/Tooltipped/TooltipStyles.tsx","popup/components/Tooltipped/ListItem.tsx","popup/components/Tooltipped/TableRow.tsx","popup/components/Tooltipped/index.ts","popup/components/SignDeployPage.tsx","popup/components/ConfirmConnect.tsx","popup/components/AccountPage.tsx","popup/components/ConnectSignerPage.tsx","popup/container/ImportAccountContainer.ts","popup/components/Menu.tsx","popup/components/MainAppBar.tsx","popup/components/AnalyticsProvider.tsx","popup/components/AccountManagementPage.tsx","popup/components/ConnectedSitesPage.tsx","popup/components/ConfigureTimeout.tsx","popup/components/Prompt/components/Header.tsx","popup/components/Prompt/components/Content.tsx","popup/components/Prompt/components/Actions.tsx","popup/components/Prompt/Prompt.tsx","popup/components/Prompt/securityCheckup/components/Header.tsx","popup/components/Prompt/securityCheckup/components/Content.tsx","popup/components/Prompt/securityCheckup/components/Actions.tsx","popup/App.tsx","popup/components/Prompt/securityCheckup/useSecurityCheckupRenderFunctions.tsx","serviceWorker.js","popup/container/HomeContainer.ts","popup/container/ConnectSignerContainer.ts","popup/components/Theme.ts","index.tsx","popup/container/PopupContainer.ts"],"names":["Pages","Home","ImportAccount","SignMessage","SignDeploy","CreateAccount","AccountManagement","ConnectedSites","ConnectSigner","ConfigureTimeout","TextFieldWithFormState","observer","props","fieldState","otherProps","TextField","value","onChange","e","target","error","hasError","helperText","SelectFieldWithFormState","selectItems","Select","map","item","MenuItem","text","owasp","tests","required","push","password","toString","match","PurposeForOpening","valueRequired","val","isAlgorithm","fieldSubmittable","hasBeenValidated","minNameLength","length","humanReadable","strongPassword","result","test","strong","errors","AccountManager","backgroundManager","appState","confirmPasswordForm","FormState","confirmPasswordField","FieldState","validators","a","this","withCapture","createNewVault","name","secretKeyBase64","algorithm","backedUp","importUserAccount","removeUserAccount","startIndex","endIndex","len","userAccounts","Error","removed","spliceWithArray","reorderAccount","accountName","switchToAccount","isTimeToSecurityCheckup","resetSecurityCheckup","alias","isBackedUp","downloadAccountKeys","getActiveUserAccount","userAccount","downloadPemFiles","getActivePublicKeyHex","getActiveAccountHash","getPublicKeyHexByAlias","getAccountHashByAlias","lock","unlock","hasCreatedVault","resetVault","isUnlocked","activeUserAccount","unlockAttempts","lockedOut","resetLockout","timeInMinutes","startLockoutTimer","lockoutTimerStarted","timerDurationMins","remainingMins","resetLockoutTimer","oldName","newName","renameUserAccount","confirmPassword","$","idleTimeoutMins","durationMins","configureTimeout","computed","action","ErrorContainer","p","catch","err","lastError","message","observable","Tunnel","options","source","destination","postMessage","messageHandler","logMessages","undefined","addListener","onMessage","bind","msg","request","payload","type","console","warn","JSON","stringify","response","sender","promise","caller","id","url","Promise","resolve","reject","then","Rpc","tunnel","methods","Map","method","params","send","set","get","call","BackgroundManager","bound","rpc","browser","runtime","sendMessage","register","onStateUpdate","isIntegratedSite","currentTab","connectionRequested","connectedSites","replace","unsignedDeploys","unsignedMessages","index1","index2","deployId","messageId","site","hostname","purposeForOpening","signingId","AppState","array","deep","some","isConnected","Confirmation","background","accountManager","handleCheckboxChange","event","setState","boxChecked","checked","state","Dialog","open","show","onClose","dismiss","style","margin","DialogTitle","title","onSubmit","preventDefault","DialogContent","DialogContentText","confirmation","requireCheckbox","FormControlLabel","control","Checkbox","alignSelf","label","checkboxText","fontSize","marginRight","marginBottom","requirePassword","FormControl","autoFocus","DialogActions","Button","onClick","cancel","color","cancelLabel","disabled","givenPassword","reset","dismissLast","proceed","setError","proceedLabel","React","Component","confirm","unmountAfter","createConfirmation","confirmable","isNumberish","stringNumber","isNaN","truncateString","longString","startChunk","endChunk","substring","ApproveButton","withStyles","root","backgroundColor","CancelButton","SignMessagePage","signingContainer","popupContainer","messageWithID","messageToSign","windows","getCurrent","w","window","addEventListener","cancelSigningMessage","padding","borderRadius","messageString","signingKey","marginTop","display","justifyContent","variant","approveSigningMessage","callClosePopup","to","helpAnchorEl","isLockedOut","homeContainer","homeForm","setPasswordField","showPasswordHelp","currentTarget","helpOpen","Boolean","helpId","Grid","container","spacing","direction","justify","alignItems","className","classes","alignCenter","src","logo","alt","width","Typography","align","textAlign","float","IconButton","transform","Popover","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","component","showFormError","formError","fullWidth","createVaultDisabled","wordBreak","Link","callOpenPopup","unlockPasswordField","remainingUnlockAttempts","unlockButton","unlockDisabled","tryUnlock","href","resetVaultOnClick","timerDuration","lockout","Math","round","isUnLocked","connectionContainer","connectionStatus","renderAccountLists","deployToSign","renderLockedOut","renderUnlock","renderCreateNewVault","theme","createStyles","position","top","right","left","bottom","flexDirection","withTheme","withRouter","SigningContainer","parseDeployData","signDeploy","rejectSignDeploy","isLongValue","isCSPRValueByKey","key","includes","parseRow","row","Array","isArray","tooltipContent","motes","motesToCSPR","numberString","numberWithSpaces","split","prefix","uref","suffix","urefBytes","decodeBase16","isURefString","signingTooltipFontSize","TooltipStyles","tooltip","maxWidth","listItemTooltip","csprToolTip","Tooltip","data","placement","isMotesValue","TableRow","TableCell","fontWeight","listStyleType","listItemData","BlankTooltipContent","SignDeployPage","genericRows","deploySpecificRows","argsExpanded","generateDeployInfo","deployData","orderedGenericData","Account","account","deployHash","Timestamp","timestamp","chainName","Payment","payment","deployType","baseRows","Object","entries","argRows","deployArgs","flexGrow","TableContainer","Table","TableBody","scope","colSpan","paddingBottom","paddingTop","size","Collapse","in","timeout","unmountOnExit","Box","mt","close","confirmConnect","ConnectSignerPage","connectSignerContainer","connectToSite","ImportAccountFormData","reHex","handleFileSelect","files","file","reader","FileReader","readAsText","onload","fileContents","errorMsg","checkFileContent","capture","fileExt","parseAlgorithm","decoded","der","Hex","decode","Base64","unarmor","ASN1","ed25519","toPrettyString","secp256k1","hexKey","encodeBase64","fileContent","CreateAccountFormData","publicKey","onUpdate","ed25519KP","Keys","Ed25519","new","toHex","privateKey","secp256k1KP","Secp256K1","RenameAccountFormData","accounts","uniqueAlias","AccountPage","accountForm","keyDownloadEnabled","algoAnchorEl","revealSecretKey","formData","submitDisabled","_onSubmit","Created","downloadKeys","resetConnectionRequest","Imported","history","form","gutterBottom","m","ml","placeholder","importButton","onImportAccount","InputLabel","labelId","InputProps","readOnly","onCreateAccount","renderCreateForm","renderImportForm","useStyles","makeStyles","menuIcon","MoreMenu","useState","setAnchorEl","handleClose","setTimeout","edge","Menu","List","subheader","ListSubheader","i","button","dense","Check","Icon","ListItemText","primary","Divider","light","Settings","Web","downloadActiveKey","CloudDownload","Timer","Lock","toolbarMargin","minHeight","menuButton","toggleWrapper","toggleButton","height","MainAppBar","connected","AppBar","Toolbar","integratedSite","disconnectFromSite","AnalyticsProvider","useEffect","ga","document","createElement","async","s","getElementsByTagName","parentNode","insertBefore","gaPlugin","_gaq","AccountManagementPage","handleClickOpen","openDialog","selectedAccount","handleViewKey","hash","publicKeyHex","accountHash","openKeyDialog","handleDownloadKeys","handleCopyMessage","reason","copyStatus","renameAccountForm","resetFields","handleUpdateName","errorsContainer","onDragEnd","index","handleClickRemove","aliases","Fragment","droppableId","provided","snapshot","RootRef","rootRef","innerRef","draggableId","ContainerProps","draggableProps","dragHandleProps","isDragging","draggableStyle","ListItemSecondaryAction","GetApp","fullScreen","copy","overflowWrap","Snackbar","autoHideDuration","ConnectedSitesPage","removeSite","ConfigureTimeoutPage","ListItemIcon","marginLeft","MuiDialogTitle","Header","children","MuiDialogContent","lineHeight","marginBlockEnd","paddingLeft","marginBlockStart","MuiTypography","Content","buttonContainerStyle","Actions","promptContainer","dialogPaper","maxHeight","Prompt","isOpened","renderHeader","renderContent","renderActions","paper","HeaderPageOne","HeaderPageTwo","ContentPageOne","setSecurityCheckupPageIndex","ContentPageTwo","ActionsPageOne","closeHandler","ActionsPageTwo","App","useIdleTimer","onIdle","debounce","securityCheckupRenderFunctions","securityCheckupPageIndex","useSecurityCheckupRenderFunctions","Container","Alerts","exact","path","render","_","Alert","severity","AlertTitle","location","HomeContainer","compose","val1","val2","ConnectSignerContainer","closeWindow","openWindow","extension","getViews","views","signerTheme","createMuiTheme","palette","main","dark","secondary","warning","info","success","ReactDOM","ThemeProvider","getElementById","chrome","connect","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.69d017df.chunk.js","sourcesContent":["// Help avoid typos in routing and constructing links.\nexport default class Pages {\n  static readonly Home = '/';\n  static readonly ImportAccount = '/import';\n  static readonly SignMessage = '/sign-message';\n  static readonly SignDeploy = '/sign-deploy';\n  static readonly CreateAccount = '/create-account';\n  static readonly AccountManagement = '/account-management';\n  static readonly ConnectedSites = '/connected-sites';\n  static readonly ConnectSigner = '/connect-signer';\n  static readonly ConfigureTimeout = '/configure-timeout';\n}\n","export default \"data:image/png;base64,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\"","import React from 'react';\nimport { observer } from 'mobx-react';\nimport { FieldState } from 'formstate';\nimport {\n  StandardTextFieldProps,\n  TextField,\n  SelectProps,\n  Select,\n  MenuItem\n} from '@material-ui/core';\n\nexport interface TextFieldWithFormStateProps extends StandardTextFieldProps {\n  fieldState?: FieldState<string>;\n}\n\nexport interface SelectWithFormStateProps extends SelectProps {\n  fieldState?: FieldState<string>;\n  selectItems: { value: string; text: string }[];\n}\n\nexport const TextFieldWithFormState = observer(\n  (props: TextFieldWithFormStateProps) => {\n    const { fieldState, ...otherProps } = props;\n    return (\n      <TextField\n        value={fieldState?.value}\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n          fieldState?.onChange(e.target.value);\n        }}\n        error={fieldState?.hasError}\n        helperText={fieldState?.error}\n        {...otherProps}\n      />\n    );\n  }\n);\n\nexport const SelectFieldWithFormState = observer(\n  (props: SelectWithFormStateProps) => {\n    const { fieldState, selectItems, ...otherProps } = props;\n    return (\n      <Select\n        value={fieldState?.value}\n        onChange={(e: React.ChangeEvent<{ value: unknown }>) => {\n          fieldState?.onChange((e.target.value as string) || '');\n        }}\n        error={fieldState?.hasError}\n        {...otherProps}\n      >\n        {selectItems.map(item => {\n          return (\n            <MenuItem key={item.value} value={item.value}>\n              {item.text}\n            </MenuItem>\n          );\n        })}\n      </Select>\n    );\n  }\n);\n","import { FieldState } from 'formstate';\nimport owasp from 'owasp-password-strength-test';\n\nowasp.tests.required.push((password: string) => {\n  const passwordString = password.toString() as String;\n  if (passwordString.match(/correct\\s*horse\\s*battery\\s*staple/i) !== null) {\n    return 'Use your imagination not the example!';\n  }\n});\n\nexport const valueRequired = (val: string) => !val && 'Value required';\n\nexport const valuesMatch = (val1: string, val2: string) =>\n  !(val1 === val2) && 'Passwords must match';\n\nexport const isAlgorithm = (val: string) =>\n  !(val === 'ed25519' || val === 'secp256k1') && 'Invalid Algorithm';\n\nexport const fieldSubmittable = (val: FieldState<string>) => {\n  return val.hasBeenValidated && !val.hasError;\n};\n\nexport const minNameLength = (val: string) => {\n  return !(val.length > 2) && 'Invalid name - too short';\n};\n\nexport const humanReadable = (val: string) => {\n  // Accept any alphanumeric (also underscores)\n  const humanReadableRegex = /^[A-Za-zÀ-ÖØ-öø-ÿœ0-9_]+$/;\n  return (\n    !val.match(humanReadableRegex) &&\n    'Invalid name - only use A-Z, a-z, 0-9 and _'\n  );\n};\n\nexport const strongPassword = (val: string) => {\n  const result = owasp.test(val);\n  return !result.strong && result.errors[0];\n};\n\nexport const uniqueAlias = (val: string, accounts: string[]) => {\n  const unique = !accounts.some(alias => {\n    return alias === val;\n  });\n  return !unique && 'This alias is already in use';\n};\n","export enum PurposeForOpening {\n  Connect = 'Connect',\n  SignDeploy = 'SignDeploy',\n  SignMessage = 'SignMessage',\n  ImportAccount = 'ImportAccount'\n}\n","import { action, computed, IObservableArray } from 'mobx';\nimport { BackgroundManager } from '../BackgroundManager';\nimport ErrorContainer from './ErrorContainer';\nimport { AppState } from '../../lib/MemStore';\nimport { KeyPairWithAlias } from '../../@types/models';\nimport { FieldState, FormState } from 'formstate';\nimport { valueRequired } from '../../lib/FormValidator';\n\nclass AccountManager {\n  constructor(\n    private errors: ErrorContainer,\n    private backgroundManager: BackgroundManager,\n    private appState: AppState\n  ) {}\n\n  async createNewVault(password: string) {\n    await this.errors.withCapture(\n      this.backgroundManager.createNewVault(password)\n    );\n  }\n\n  async importUserAccount(\n    name: string,\n    secretKeyBase64: string,\n    algorithm: string,\n    backedUp: boolean\n  ) {\n    return this.backgroundManager.importUserAccount(\n      name,\n      secretKeyBase64,\n      algorithm,\n      backedUp\n    );\n  }\n\n  async removeUserAccount(name: string) {\n    return this.backgroundManager.removeUserAccount(name);\n  }\n\n  async reorderAccount(startIndex: number, endIndex: number) {\n    // the data flow is always from background to frontend.\n    // we need do reorder operations on both background and frontend side,\n    // so that UI won't get jitter\n    const len = this.appState.userAccounts.length;\n\n    if (\n      startIndex < 0 ||\n      endIndex < 0 ||\n      startIndex >= len ||\n      endIndex >= len\n    ) {\n      throw new Error('Invalid index number');\n    }\n    if (startIndex === endIndex) {\n      return;\n    }\n\n    const removed = this.appState.userAccounts.spliceWithArray(startIndex, 1);\n    this.appState.userAccounts.spliceWithArray(endIndex, 0, removed);\n    return this.backgroundManager.reorderAccount(startIndex, endIndex);\n  }\n\n  switchToAccount(accountName: string) {\n    return this.backgroundManager.switchToAccount(accountName);\n  }\n\n  @computed\n  get userAccounts(): IObservableArray<KeyPairWithAlias> {\n    return this.appState.userAccounts;\n  }\n\n  @computed\n  get isTimeToSecurityCheckup(): boolean {\n    return this.appState.isTimeToSecurityCheckup;\n  }\n\n  @action\n  async resetSecurityCheckup() {\n    return await this.backgroundManager.resetSecurityCheckup();\n  }\n\n  async isBackedUp(alias: string) {\n    return await this.backgroundManager.isBackedUp(alias);\n  }\n\n  async downloadPemFiles(alias: string) {\n    // Save the secret and public keys to disk.\n    this.backgroundManager.downloadAccountKeys(alias);\n  }\n\n  async downloadActiveKey() {\n    let userAccount = await this.backgroundManager.getActiveUserAccount();\n    // Save the secret and public keys to disk.\n    this.downloadPemFiles(userAccount.alias);\n  }\n\n  async getActivePublicKeyHex() {\n    return await this.backgroundManager.getActivePublicKeyHex();\n  }\n\n  async getActiveAccountHash() {\n    return await this.backgroundManager.getActiveAccountHash();\n  }\n\n  async getPublicKeyHexByAlias(alias: string) {\n    return await this.backgroundManager.getPublicKeyHexByAlias(alias);\n  }\n\n  async getAccountHashByAlias(alias: string) {\n    return await this.backgroundManager.getAccountHashByAlias(alias);\n  }\n\n  async lock() {\n    return this.backgroundManager.lock();\n  }\n\n  async unlock(password: string) {\n    return this.backgroundManager.unlock(password);\n  }\n\n  @computed\n  get hasCreatedVault(): boolean {\n    return this.appState.hasCreatedVault;\n  }\n\n  @action\n  async resetVault() {\n    return this.backgroundManager.resetVault();\n  }\n\n  @computed\n  get isUnLocked(): boolean {\n    return this.appState.isUnlocked;\n  }\n\n  @computed\n  get activeUserAccount() {\n    return this.appState.activeUserAccount;\n  }\n\n  @computed\n  get remainingUnlockAttempts() {\n    return this.appState.unlockAttempts;\n  }\n\n  @computed\n  get isLockedOut() {\n    return this.appState.lockedOut;\n  }\n\n  @action\n  async resetLockout() {\n    return this.backgroundManager.resetLockout();\n  }\n\n  @action\n  async startLockoutTimer(timeInMinutes: number) {\n    return this.backgroundManager.startLockoutTimer(timeInMinutes);\n  }\n\n  @computed\n  get lockoutTimerStarted() {\n    return this.appState.lockoutTimerStarted;\n  }\n\n  @computed\n  get timerDuration() {\n    return this.appState.timerDurationMins;\n  }\n\n  @computed\n  get remainingMins() {\n    return this.appState.remainingMins;\n  }\n\n  @action\n  async resetLockoutTimer() {\n    return this.backgroundManager.resetLockoutTimer();\n  }\n\n  async renameUserAccount(oldName: string, newName: string) {\n    return this.backgroundManager.renameUserAccount(oldName, newName);\n  }\n\n  async confirmPassword(password: string) {\n    return this.backgroundManager.confirmPassword(password);\n  }\n\n  confirmPasswordForm = new FormState({\n    confirmPasswordField: new FieldState<string>('').validators(valueRequired)\n  });\n\n  @computed\n  get confirmPasswordDisabled(): boolean {\n    let disabled =\n      !this.confirmPasswordForm.$.confirmPasswordField.$ ||\n      !this.confirmPasswordForm.$.confirmPasswordField.hasBeenValidated ||\n      (this.confirmPasswordForm.$.confirmPasswordField.hasBeenValidated &&\n        this.confirmPasswordForm.$.confirmPasswordField.hasError);\n    return disabled;\n  }\n\n  @computed\n  get idleTimeoutMins(): number {\n    return this.appState.idleTimeoutMins;\n  }\n\n  async configureTimeout(durationMins: number) {\n    if (durationMins === this.idleTimeoutMins) return;\n    await this.backgroundManager.configureTimeout(durationMins);\n  }\n}\n\nexport default AccountManager;\n","import { observable } from 'mobx';\n\nexport class ErrorContainer {\n  // We can display the last error when it happens.\n  @observable lastError: string | null = null;\n\n  // This version just sets the error message.\n  capture(p: Promise<void>): Promise<void> {\n    return p.catch(err => {\n      this.lastError = err.message;\n    });\n  }\n\n  // This version re-raises the error, which, if uncaught, shows up in the console.\n  withCapture<T>(p: Promise<T>): Promise<T> {\n    return p.catch(err => {\n      this.lastError = err.message;\n      throw err;\n    });\n  }\n\n  dismissLast() {\n    this.lastError = null;\n  }\n}\n\nexport default ErrorContainer;\n","/**\n * https://github.com/ontio/ontology-dapi/blob/master/src/rpc/tunnel.ts\n */\nimport { Runtime } from 'webextension-polyfill-ts';\n\nexport type CallbackType = (\n  msg: Request,\n  sender: Runtime.MessageSender\n) => Promise<Response> | void;\nexport type PostMessageType = (msg: Request) => Promise<Response>;\n\nexport type AddListenerType = (callback: CallbackType) => void;\n\nexport interface Caller {\n  url?: string;\n  id?: string;\n}\n\nexport type MessageHandlerType = (msg: any, caller: Caller) => any;\n\nexport interface Request {\n  payload: any;\n  source: string;\n  destination: string;\n  type: 'casperlabs-plugin';\n}\n\nexport interface Response<TYPE = any> {\n  destination: string;\n  error?: string;\n  payload?: TYPE;\n  source: string;\n  type: 'casperlabs-plugin';\n}\n\nexport interface TunnelOptions {\n  source: string;\n  destination: string;\n  postMessage?: PostMessageType;\n  addListener?: AddListenerType;\n  messageHandler?: MessageHandlerType;\n  logMessages?: boolean;\n}\n\nexport class Tunnel<T = any> {\n  private source: string;\n  private destination: string;\n  private postMessage?: PostMessageType;\n  private messageHandler?: MessageHandlerType;\n\n  private logMessages?: boolean;\n\n  constructor(options: TunnelOptions) {\n    this.source = options.source;\n    this.destination = options.destination;\n    this.postMessage = options.postMessage;\n    this.messageHandler = options.messageHandler;\n    this.logMessages = options.logMessages;\n\n    if (\n      options.addListener === undefined &&\n      options.postMessage === undefined\n    ) {\n      throw new Error('Either addListener or postMessage must be present.');\n    } else if (options.addListener !== undefined) {\n      if (options.messageHandler === undefined) {\n        throw new Error(\n          'MessageHandler must be specified if addListener present.'\n        );\n      }\n\n      options.addListener(this.onMessage.bind(this));\n    }\n  }\n\n  async send<RESULT>(msg: T): Promise<RESULT> {\n    const request: Request = {\n      destination: this.destination,\n      payload: msg,\n      source: this.source,\n      type: 'casperlabs-plugin'\n    };\n\n    if (this.postMessage === undefined) {\n      throw new Error('PostMessage was not specified.');\n    }\n\n    if (this.logMessages) {\n      // tslint:disable-next-line:max-line-length\n      // tslint:disable-next-line:no-console\n      console.warn(\n        `Tunnel: (${this.source}): Sending`,\n        JSON.stringify(msg, null, '  ')\n      );\n    }\n\n    const response: Response<RESULT> = await this.postMessage(request);\n\n    if (response.error !== undefined) {\n      throw new Error(response.error);\n    } else {\n      return response.payload as RESULT;\n    }\n  }\n\n  private onMessage(\n    request: Request,\n    sender: Runtime.MessageSender\n  ): Promise<Response> | void {\n    if (\n      request.destination === this.source &&\n      request.source === this.destination\n    ) {\n      let promise: Promise<any>;\n\n      try {\n        if (this.messageHandler === undefined) {\n          throw new Error('MessageHandler was not specified.');\n        }\n\n        if (this.logMessages) {\n          // tslint:disable-next-line:max-line-length\n          // tslint:disable-next-line:no-console\n          console.warn(\n            `Tunnel: (${this.source}): Receiving`,\n            JSON.stringify(request.payload, null, '  ')\n          );\n        }\n\n        const caller: Caller = {\n          id: sender.id,\n          url: sender.url\n        };\n\n        const response = this.messageHandler(request.payload, caller);\n        promise = Promise.resolve(response);\n      } catch (e) {\n        promise = Promise.reject(e);\n      }\n\n      return promise\n        .then(result => {\n          return {\n            destination: request.source,\n            payload: result,\n            source: request.destination,\n            type: 'casperlabs-plugin'\n          } as Response;\n        })\n        .catch(error => {\n          return {\n            destination: request.source,\n            error: error.message,\n            source: request.destination,\n            type: 'casperlabs-plugin'\n          } as Response;\n        });\n    }\n  }\n}\n","/*\n * https://github.com/ontio/ontology-dapi/blob/master/src/rpc/rpc.ts\n */\nimport { Caller, Tunnel, TunnelOptions } from './tunnel';\n\nexport type MethodType = (...params: any[]) => any;\n\ninterface MethodCallType {\n  method: string;\n  params: any[];\n}\n\nexport class Rpc {\n  private tunnel: Tunnel<MethodCallType>;\n  private methods: Map<string, MethodType>;\n\n  constructor(options: TunnelOptions) {\n    options.messageHandler = this.messageHandler.bind(this);\n\n    this.tunnel = new Tunnel(options);\n    this.methods = new Map();\n  }\n\n  call<RESULT = any>(method: string, ...params: any[]) {\n    const msg = {\n      method,\n      params\n    };\n\n    return this.tunnel.send<RESULT>(msg);\n  }\n\n  register(name: string, method: MethodType) {\n    this.methods.set(name, method);\n  }\n\n  private messageHandler(msg: MethodCallType, caller: Caller) {\n    const method = this.methods.get(msg.method);\n\n    if (method === undefined) {\n      throw new Error('Unregistered method call: ' + msg.method);\n    }\n\n    return method.call(caller, ...msg.params);\n  }\n}\n","import { browser } from 'webextension-polyfill-ts';\nimport { Rpc } from '../lib/rpc/rpc';\nimport { AppState } from '../lib/MemStore';\nimport { action } from 'mobx';\nimport ErrorContainer from './container/ErrorContainer';\nimport { KeyPairWithAlias } from '../@types/models';\nimport { DeployData } from '../background/SigningManager';\nimport { PurposeForOpening } from '../shared';\n\nexport class BackgroundManager {\n  private rpc: Rpc;\n\n  constructor(private appState: AppState, private errors: ErrorContainer) {\n    // RPC is duplex\n    this.rpc = new Rpc({\n      addListener: browser.runtime.onMessage.addListener,\n      destination: 'background',\n      logMessages: false,\n      postMessage: browser.runtime.sendMessage,\n      source: 'popup'\n    });\n\n    this.rpc.register('popup.updateState', this.onStateUpdate.bind(this));\n    this.rpc.call<AppState>('background.getState').then(appState => {\n      this.onStateUpdate(appState);\n    });\n  }\n\n  @action.bound\n  private onStateUpdate(appState: AppState) {\n    this.appState.isIntegratedSite = appState.isIntegratedSite;\n    this.appState.isUnlocked = appState.isUnlocked;\n    this.appState.unlockAttempts = appState.unlockAttempts;\n    this.appState.lockoutTimerStarted = appState.lockoutTimerStarted;\n    this.appState.remainingMins = appState.remainingMins;\n    this.appState.currentTab = appState.currentTab;\n    this.appState.connectionRequested = appState.connectionRequested;\n    this.appState.connectedSites = appState.connectedSites;\n    this.appState.hasCreatedVault = appState.hasCreatedVault;\n    this.appState.activeUserAccount = appState.activeUserAccount;\n    this.appState.userAccounts.replace(appState.userAccounts);\n    this.appState.unsignedDeploys.replace(appState.unsignedDeploys);\n    this.appState.unsignedMessages.replace(appState.unsignedMessages);\n    this.appState.idleTimeoutMins = appState.idleTimeoutMins;\n    this.appState.isTimeToSecurityCheckup = appState.isTimeToSecurityCheckup;\n  }\n\n  public resetSecurityCheckup() {\n    return this.errors.withCapture(\n      this.rpc.call<void>('account.resetSecurityCheckup')\n    );\n  }\n\n  public unlock(password: string) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('account.unlock', password)\n    );\n  }\n\n  public createNewVault(password: string) {\n    return this.rpc.call<void>('account.createNewVault', password);\n  }\n\n  public lock() {\n    return this.rpc.call<void>('account.lock');\n  }\n\n  public importUserAccount(\n    name: string,\n    secretKeyBase64: string,\n    algorithm: string,\n    backedUp: boolean\n  ) {\n    return this.errors.withCapture(\n      this.rpc.call<void>(\n        'account.importUserAccount',\n        name,\n        secretKeyBase64,\n        algorithm,\n        backedUp\n      )\n    );\n  }\n\n  public reorderAccount(index1: number, index2: number) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('account.reorderAccount', index1, index2)\n    );\n  }\n\n  public removeUserAccount(name: string) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('account.removeUserAccount', name)\n    );\n  }\n\n  public isBackedUp(alias: string) {\n    return this.errors.withCapture(\n      this.rpc.call<boolean>('account.isBackedUp', alias)\n    );\n  }\n\n  public signDeploy(deployId: number) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('sign.signDeploy', deployId)\n    );\n  }\n\n  public rejectSignDeploy(deployId: number) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('sign.rejectSignDeploy', deployId)\n    );\n  }\n\n  public parseDeployData(deployId: number) {\n    return this.errors.withCapture(\n      this.rpc.call<DeployData>('sign.parseDeployData', deployId)\n    );\n  }\n\n  public approveSigningMessage(messageId: number) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('sign.approveSigningMessage', messageId)\n    );\n  }\n\n  public cancelSigningMessage(messageId: number) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('sign.cancelSigningMessage', messageId)\n    );\n  }\n\n  public switchToAccount(accountName: string) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('account.switchToAccount', accountName)\n    );\n  }\n\n  public getActiveUserAccount() {\n    return this.errors.withCapture(\n      this.rpc.call<KeyPairWithAlias>('account.getActiveUserAccount')\n    );\n  }\n\n  public getActivePublicKeyHex() {\n    return this.errors.withCapture(\n      this.rpc.call<string>('account.getActivePublicKeyHex')\n    );\n  }\n\n  public getActiveAccountHash() {\n    return this.errors.withCapture(\n      this.rpc.call<string>('account.getActiveAccountHash')\n    );\n  }\n\n  public getPublicKeyHexByAlias(alias: string) {\n    return this.errors.withCapture(\n      this.rpc.call<string>('account.getPublicKeyHexByAlias', alias)\n    );\n  }\n\n  public getAccountHashByAlias(alias: string) {\n    return this.errors.withCapture(\n      this.rpc.call<string>('account.getAccountHashByAlias', alias)\n    );\n  }\n\n  public resetVault() {\n    return this.errors.withCapture(this.rpc.call<void>('account.resetVault'));\n  }\n\n  public resetLockout() {\n    return this.errors.withCapture(this.rpc.call<void>('account.resetLockout'));\n  }\n\n  public startLockoutTimer(timeInMinutes: number) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('account.startLockoutTimer', timeInMinutes)\n    );\n  }\n\n  public resetLockoutTimer() {\n    return this.errors.withCapture(\n      this.rpc.call<void>('account.resetLockoutTimer')\n    );\n  }\n\n  public renameUserAccount(oldName: string, newName: string) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('account.renameUserAccount', oldName, newName)\n    );\n  }\n\n  public downloadAccountKeys(alias: string) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('account.downloadAccountKeys', alias)\n    );\n  }\n  public connectToSite(url?: string) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('connection.connectToSite', url)\n    );\n  }\n\n  public disconnectFromSite(site?: string) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('connection.disconnectFromSite', site)\n    );\n  }\n\n  public removeSite(url: string) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('connection.removeSite', url)\n    );\n  }\n\n  public resetConnectionRequest() {\n    return this.errors.withCapture(\n      this.rpc.call<void>('connection.resetConnectionRequest')\n    );\n  }\n\n  public confirmPassword(password: string) {\n    return this.errors.withCapture(\n      this.rpc.call<boolean>('account.confirmPassword', password)\n    );\n  }\n\n  public isIntegratedSite(hostname: string) {\n    return this.errors.withCapture(\n      this.rpc.call<boolean>('connection.isIntegratedSite', hostname)\n    );\n  }\n\n  public configureTimeout(durationMins: number) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('account.configureTimeout', durationMins)\n    );\n  }\n\n  public callOpenPopup(purposeForOpening: PurposeForOpening) {\n    return this.errors.withCapture(\n      this.rpc.call<void>('popup.openPopup', purposeForOpening)\n    );\n  }\n\n  public callClosePopup(signingId?: number) {\n    // first parameter is undefined to cover the optional windowId arg\n    return this.errors.withCapture(\n      this.rpc.call<void>('popup.closePopup', undefined, signingId)\n    );\n  }\n}\n","import { IObservableArray, observable, computed } from 'mobx';\nimport { Tab, Site } from '../background/ConnectionManager';\nimport { KeyPairWithAlias } from '../@types/models';\nimport { deployWithID, messageWithID } from '../background/SigningManager';\n\nexport class AppState {\n  @observable isIntegratedSite: boolean = false;\n  @observable isUnlocked: boolean = false;\n  @observable isTimeToSecurityCheckup: boolean = false;\n  @observable unlockAttempts: number = 5;\n  @computed get lockedOut(): boolean {\n    return this.unlockAttempts === 0;\n  }\n  @observable lockoutTimerStarted: boolean = false;\n  timerDurationMins: number = 5;\n  @observable remainingMins: number = this.timerDurationMins;\n  @observable idleTimeoutMins: number = 2;\n  @observable currentTab: Tab | null = null;\n  @computed get connectionStatus(): boolean {\n    const url = this.currentTab && this.currentTab.url;\n    if (url) {\n      return this.connectedSites.some(\n        site => site.url === url && site.isConnected\n      );\n    }\n    return false;\n  }\n  @observable connectionRequested: boolean = false;\n  @observable connectedSites: IObservableArray<Site> = observable.array<Site>(\n    [],\n    { deep: true }\n  );\n  @observable hasCreatedVault: boolean = false;\n  @observable activeUserAccount: KeyPairWithAlias | null = null;\n  userAccounts: IObservableArray<KeyPairWithAlias> =\n    observable.array<KeyPairWithAlias>([], { deep: true });\n  @observable unsignedDeploys: IObservableArray<deployWithID> =\n    observable.array<deployWithID>([], { deep: true });\n  @observable unsignedMessages: IObservableArray<messageWithID> =\n    observable.array<messageWithID>([], { deep: true });\n}\n","import React from 'react';\nimport {\n  confirmable,\n  createConfirmation,\n  ReactConfirmProps\n} from 'react-confirm';\nimport {\n  Button,\n  Checkbox,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  FormControl,\n  FormControlLabel\n} from '@material-ui/core';\nimport { TextFieldWithFormState } from '../components/Forms';\nimport AccountManager from '../container/AccountManager';\nimport { ErrorContainer } from '../container/ErrorContainer';\nimport { BackgroundManager } from '../BackgroundManager';\nimport { AppState } from '../../lib/MemStore';\n\ninterface Props extends ReactConfirmProps {\n  proceedLabel: string;\n  cancelLabel: string;\n  title: string | React.ReactElement;\n  options: {\n    requirePassword: boolean;\n    requireCheckbox: boolean;\n    checkboxText: string;\n    unmountAfter: number;\n  };\n}\n\nclass Confirmation extends React.Component<Props, { boxChecked: boolean }> {\n  private errors = new ErrorContainer();\n  private appState = new AppState();\n  private background = new BackgroundManager(this.appState, this.errors);\n  private accountManager = new AccountManager(\n    this.errors,\n    this.background,\n    this.appState\n  );\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { boxChecked: false };\n  }\n\n  handleCheckboxChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ boxChecked: event.target.checked });\n  };\n\n  render() {\n    return (\n      <Dialog\n        open={this.props.show}\n        onClose={this.props.dismiss}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n        style={{ margin: '-1rem -0.5rem' }}\n      >\n        <DialogTitle id=\"alert-dialog-title\">{this.props.title}</DialogTitle>\n        <form\n          onSubmit={e => {\n            e.preventDefault();\n          }}\n        >\n          <DialogContent>\n            <DialogContentText id=\"alert-dialog-description\">\n              {this.props.confirmation}\n            </DialogContentText>\n            {this.props.options.requireCheckbox && (\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    style={{ alignSelf: 'flex-start' }}\n                    checked={this.state.boxChecked}\n                    onChange={this.handleCheckboxChange}\n                  />\n                }\n                label={this.props.options.checkboxText}\n                style={{\n                  fontSize: '0.6rem',\n                  marginRight: '-1rem',\n                  marginBottom: this.props.options.requirePassword\n                    ? '0.5rem'\n                    : 'auto'\n                }}\n              />\n            )}\n            {this.props.options.requirePassword && (\n              <FormControl>\n                <TextFieldWithFormState\n                  autoFocus={true}\n                  fieldState={\n                    this.accountManager.confirmPasswordForm.$\n                      .confirmPasswordField\n                  }\n                  required\n                  label={'Password'}\n                  type={'password'}\n                />\n              </FormControl>\n            )}\n          </DialogContent>\n          <DialogActions>\n            <Button\n              onClick={() => {\n                this.props.cancel();\n              }}\n              color=\"secondary\"\n            >\n              {this.props.cancelLabel}\n            </Button>\n            <FormControl>\n              {this.props.options.requireCheckbox &&\n              this.props.options.requirePassword ? (\n                <Button\n                  type=\"submit\"\n                  disabled={!this.state.boxChecked}\n                  onClick={async () => {\n                    let givenPassword =\n                      this.accountManager.confirmPasswordForm.$\n                        .confirmPasswordField.$;\n                    try {\n                      await this.accountManager.confirmPassword(givenPassword);\n                      this.accountManager.confirmPasswordForm.$.confirmPasswordField.reset();\n                      this.errors.dismissLast();\n                      this.props.proceed();\n                    } catch (e) {\n                      this.accountManager.confirmPasswordForm.$.confirmPasswordField.setError(\n                        (e as Error).message\n                      );\n                    }\n                  }}\n                  color=\"primary\"\n                >\n                  {this.props.proceedLabel}\n                </Button>\n              ) : this.props.options.requirePassword ? (\n                <Button\n                  type=\"submit\"\n                  onClick={async () => {\n                    let givenPassword =\n                      this.accountManager.confirmPasswordForm.$\n                        .confirmPasswordField.$;\n                    try {\n                      await this.accountManager.confirmPassword(givenPassword);\n                      this.accountManager.confirmPasswordForm.$.confirmPasswordField.reset();\n                      this.errors.dismissLast();\n                      this.props.proceed();\n                    } catch (e) {\n                      this.accountManager.confirmPasswordForm.$.confirmPasswordField.setError(\n                        (e as Error).message\n                      );\n                    }\n                  }}\n                  color=\"primary\"\n                >\n                  {this.props.proceedLabel}\n                </Button>\n              ) : (\n                <Button\n                  type=\"submit\"\n                  disabled={\n                    this.props.options.requireCheckbox\n                      ? !this.state.boxChecked\n                      : false\n                  }\n                  onClick={() => {\n                    this.props.proceed();\n                  }}\n                  color=\"primary\"\n                >\n                  {this.props.proceedLabel}\n                </Button>\n              )}\n            </FormControl>\n          </DialogActions>\n        </form>\n      </Dialog>\n    );\n  }\n}\n\nexport function confirm(\n  title: string | React.ReactElement,\n  confirmation: string | React.ReactElement,\n  proceedLabel = 'OK',\n  cancelLabel = 'cancel',\n  options: {\n    requirePassword?: boolean;\n    requireCheckbox?: boolean;\n    checkboxText?: string;\n    unmountAfter?: number;\n  } = {\n    requirePassword: false,\n    requireCheckbox: false,\n    checkboxText: '',\n    unmountAfter: 10000\n  }\n) {\n  return createConfirmation(\n    confirmable(Confirmation),\n    options.unmountAfter\n  )({\n    title,\n    confirmation,\n    proceedLabel,\n    cancelLabel,\n    options\n  });\n}\n","/**\n *  Constants required by both the background and popup components.\n */\n\nexport const popupDimensions = {\n  defaultWidth: 300,\n  defaultHeight: 480,\n  expandedWidth: 430,\n  expandedHeight: 820\n};\n","import { decodeBase16 } from 'casper-js-sdk';\n\nexport const isNumberish = (stringNumber: string) => {\n  return !isNaN(+stringNumber);\n};\n\nexport const isURefString = (value: string) => {\n  if (typeof value !== 'string') return false;\n\n  const [prefix, uref, suffix] = value.split('-');\n\n  if (!prefix || !uref || !suffix) return false;\n\n  const urefBytes = decodeBase16(uref);\n  return prefix === 'uref' && urefBytes.length === 32 && suffix.length === 3;\n};\n\nexport const truncateString = (\n  longString: string,\n  startChunk: number,\n  endChunk: number\n): string => {\n  if (!longString) throw new Error('Error parsing long string.');\n  return (\n    longString.substring(0, startChunk) +\n    '...' +\n    longString.substring(longString.length - endChunk)\n  );\n};\n\nexport const numberWithSpaces = (numberString: string) => {\n  if (!isNumberish(numberString)) {\n    throw new Error('Unable to parse string as number');\n  }\n  // Adds a space in after 3 digits\n  return numberString.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\n};\n\nexport const motesToCSPR = (motes: string) => {\n  if (!isNumberish(motes)) {\n    throw new Error('Unable to parse motes string as number');\n  }\n  return (+motes / 1000000000).toString();\n};\n","import SigningContainer from '../container/SigningContainer';\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Pages from './Pages';\nimport { browser } from 'webextension-polyfill-ts';\nimport { Button, withStyles } from '@material-ui/core';\nimport { truncateString } from '../../shared';\nimport PopupContainer from '../container/PopupContainer';\n\nconst ApproveButton = withStyles(() => ({\n  root: {\n    backgroundColor: 'transparent',\n    '&:hover': {\n      backgroundColor: 'rgba(11, 156, 49, 0.6)'\n    }\n  }\n}))(Button);\n\nconst CancelButton = withStyles(() => ({\n  root: {\n    backgroundColor: 'transparent',\n    '&:hover': {\n      backgroundColor: 'rgba(255, 0, 0, 0.6)'\n    }\n  }\n}))(Button);\n\nexport const SignMessagePage = (\n  signingContainer: SigningContainer,\n  popupContainer: PopupContainer\n) => {\n  const messageWithID = signingContainer.messageToSign; // useState(signingContainer.messageToSign);\n  browser.windows.getCurrent().then(w => {\n    if (w.type === 'popup' && messageWithID?.id) {\n      window.addEventListener('beforeunload', e => {\n        signingContainer.messageToSign &&\n          signingContainer.cancelSigningMessage(messageWithID.id);\n      });\n    }\n  });\n\n  // console.log(messageWithID);\n  return messageWithID ? (\n    <div>\n      <h2>Do you want to sign the message?</h2>\n      <br />\n      <b>\n        <code>Casper Message:</code>\n      </b>\n      <div\n        style={{\n          padding: '.1rem .5rem',\n          backgroundColor: 'rgba(0, 0, 0, 0.1)',\n          borderRadius: '10px',\n          fontSize: '1rem'\n        }}\n      >\n        <p>{messageWithID.messageString}</p>\n      </div>\n      <br />\n      <b>\n        <code>Signing Key:</code>\n      </b>\n      <div\n        style={{\n          padding: '.1rem .5rem',\n          backgroundColor: 'rgba(0, 0, 0, 0.1)',\n          borderRadius: '10px',\n          fontSize: '0.9rem'\n        }}\n      >\n        <p>{truncateString(messageWithID.signingKey, 15, 15)}</p>\n      </div>\n      <div\n        style={{\n          marginTop: '1.5rem',\n          display: 'flex',\n          justifyContent: 'space-evenly'\n        }}\n      >\n        <ApproveButton\n          variant=\"outlined\"\n          onClick={() =>\n            signingContainer\n              .approveSigningMessage(messageWithID.id)\n              .then(() => popupContainer.callClosePopup())\n          }\n        >\n          Approve\n        </ApproveButton>\n        <CancelButton\n          variant=\"outlined\"\n          onClick={() =>\n            signingContainer\n              .cancelSigningMessage(messageWithID.id)\n              .then(() => popupContainer.callClosePopup())\n          }\n        >\n          Cancel\n        </CancelButton>\n      </div>\n    </div>\n  ) : (\n    <Redirect to={Pages.Home} />\n  );\n};\n","import React from 'react';\nimport logo from '../img/CasperLabs_Logo_Favicon_RGB_50px.png';\nimport {\n  Button,\n  createStyles,\n  FormControl,\n  Theme,\n  WithStyles,\n  Typography,\n  withStyles,\n  Grid,\n  Popover,\n  IconButton\n} from '@material-ui/core';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport NotInterestedIcon from '@material-ui/icons/NotInterested';\nimport HelpIcon from '@material-ui/icons/Help';\nimport { Link, Redirect } from 'react-router-dom';\nimport AccountManager from '../container/AccountManager';\nimport PopupContainer from '../container/PopupContainer';\nimport { HomeContainer } from '../container/HomeContainer';\nimport ConnectSignerContainer from '../container/ConnectSignerContainer';\nimport ErrorContainer from '../container/ErrorContainer';\nimport { observer } from 'mobx-react';\nimport Pages from './Pages';\nimport { confirm } from './Confirmation';\nimport { RouteComponentProps, withRouter } from 'react-router';\nimport { TextFieldWithFormState } from './Forms';\nimport SigningContainer from '../container/SigningContainer';\nimport { SignMessagePage } from './SignMessagePage';\nimport { PurposeForOpening } from '../../shared';\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nconst styles = (theme: Theme) =>\n  createStyles({\n    margin: {\n      marginTop: '20px'\n    },\n    alignCenter: {\n      textAlign: 'center'\n    },\n    unlockButton: {\n      backgroundColor: 'var(--cspr-dark-blue)',\n      color: 'white',\n      '&$disabled': {\n        backgroundColor: 'white',\n        color: 'grey'\n      }\n    },\n    disabled: {},\n    lockout: {\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      left: 0,\n      bottom: 0,\n      background:\n        'linear-gradient(30deg, var(--cspr-dark-blue) 50%, var(--cspr-red) 100%)',\n      padding: '2em',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      color: 'snow',\n      textAlign: 'center',\n      '& > *': {\n        marginBottom: '1rem'\n      },\n      '& > :nth-child(2)': {\n        fontSize: '1.2rem'\n      }\n    }\n  });\n\ninterface Props extends RouteComponentProps, WithStyles<typeof styles> {\n  accountManager: AccountManager;\n  homeContainer: HomeContainer;\n  connectionContainer: ConnectSignerContainer;\n  signingContainer: SigningContainer;\n  popupContainer: PopupContainer;\n  errors: ErrorContainer;\n}\n\n@observer\nclass Home extends React.Component<\n  Props,\n  { remainingMins: number; helpAnchorEl: HTMLButtonElement | null }\n> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      remainingMins: this.props.accountManager.remainingMins,\n      helpAnchorEl: null\n    };\n  }\n  // NOT USING THIS JUST NOW - BUT LEFT IT HERE IN CASE WE COME BACK TO USE THIS KIND OF METHOD\n  //\n  // componentDidMount() {\n  //   setTimeout(() => this.sessionTimeout(), 0.2 * 60 * 1000);\n  // }\n\n  // sessionTimeout() {\n  //   confirm(\n  //     'Are you there?',\n  //     'Your session is about to lock, would you like to keep it open?',\n  //     'Keep open',\n  //     'Lock',\n  //     { unmountAfter: 1000 }\n  //   ).then(\n  //     () => {\n  //       console.log('Keep open');\n  //       // Keep open - ask again in another X minutes\n  //       setTimeout(() => this.sessionTimeout(), 0.2 * 60 * 1000);\n  //     },\n  //     () => {\n  //       console.log('Lock');\n  //       // Lock\n  //       this.props.authContainer.lock();\n  //     }\n  //   );\n  // }\n\n  componentDidUpdate() {\n    if (this.props.accountManager.isLockedOut) {\n      this.props.errors.dismissLast();\n      this.props.homeContainer.homeForm.$.setPasswordField.reset();\n    }\n  }\n\n  renderCreateNewVault() {\n    const showPasswordHelp = (event: React.MouseEvent<HTMLButtonElement>) => {\n      this.setState({ helpAnchorEl: event.currentTarget });\n    };\n    const helpOpen = Boolean(showPasswordHelp);\n    const helpId = helpOpen ? 'password-help' : undefined;\n    const closePasswordHelp = () => {\n      this.setState({ helpAnchorEl: null });\n    };\n    return (\n      <div>\n        <Grid\n          container\n          spacing={4}\n          direction={'column'}\n          justify={'flex-start'}\n          alignItems={'center'}\n        >\n          <Grid item className={this.props.classes.alignCenter}>\n            <img src={logo} alt=\"logo\" width={80} />\n            <Typography variant={'h6'} align={'center'}>\n              New Vault\n            </Typography>\n            <Typography>\n              Please set a password for your vault. You will need it later to\n              unlock it so keep it safe.\n            </Typography>\n          </Grid>\n\n          <Grid item container>\n            <form\n              style={{ textAlign: 'center', width: '100%' }}\n              onSubmit={e => e.preventDefault()}\n            >\n              <FormControl style={{ width: '80%', float: 'left' }}>\n                <TextFieldWithFormState\n                  autoFocus\n                  fieldState={\n                    this.props.homeContainer.homeForm.$.setPasswordField\n                  }\n                  required\n                  label={'Set Password'}\n                  type={'password'}\n                />\n              </FormControl>\n              <IconButton\n                onClick={showPasswordHelp}\n                style={{\n                  float: 'right',\n                  transform: 'translateY(.3em)'\n                }}\n              >\n                <HelpIcon />\n              </IconButton>\n              {this.state.helpAnchorEl && (\n                <Popover\n                  id={helpId}\n                  open={helpOpen}\n                  anchorEl={this.state.helpAnchorEl}\n                  onClose={closePasswordHelp}\n                  anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right'\n                  }}\n                  transformOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'right'\n                  }}\n                >\n                  <Typography\n                    component={'summary'}\n                    style={{\n                      padding: '1.4em',\n                      backgroundColor: 'var(--cspr-dark-blue)',\n                      color: 'white'\n                    }}\n                  >\n                    For a password of min. length 10 please include at least one\n                    of each of the following:\n                    <ul>\n                      <li>lowercase letter</li>\n                      <li>UPPERCASE letter</li>\n                      <li>Number</li>\n                      <li>Special character</li>\n                    </ul>\n                    Or you can enter a &gt;20 char passphrase if you would\n                    prefer e.g. 'correct horse battery staple'\n                  </Typography>\n                </Popover>\n              )}\n              {this.props.homeContainer.homeForm.$.setPasswordField\n                .hasBeenValidated &&\n                !this.props.homeContainer.homeForm.$.setPasswordField\n                  .hasError && (\n                  <FormControl style={{ width: '80%', float: 'left' }}>\n                    <TextFieldWithFormState\n                      fieldState={\n                        this.props.homeContainer.homeForm.$.confirmPasswordField\n                      }\n                      required\n                      label={'Confirm Password'}\n                      type={'password'}\n                    />\n                  </FormControl>\n                )}\n              <Typography variant=\"subtitle2\" className=\"text-danger\">\n                {this.props.homeContainer.homeForm.showFormError &&\n                  this.props.homeContainer.homeForm.formError}\n              </Typography>\n              <FormControl fullWidth className={this.props.classes.margin}>\n                <Button\n                  type=\"submit\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  disabled={this.props.homeContainer.createVaultDisabled}\n                  onClick={async () => {\n                    const password =\n                      this.props.homeContainer.homeForm.$.setPasswordField.$;\n                    await this.props.accountManager.createNewVault(password);\n                    this.props.homeContainer.homeForm.$.setPasswordField.reset();\n                    this.props.homeContainer.homeForm.$.confirmPasswordField.reset();\n                  }}\n                >\n                  Create Vault\n                </Button>\n              </FormControl>\n            </form>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n\n  renderAccountLists() {\n    return (\n      <div>\n        <Grid\n          container\n          spacing={4}\n          direction={'column'}\n          justify={'flex-start'}\n          alignItems={'center'}\n        >\n          {this.props.accountManager.userAccounts.length > 0 ? (\n            <Grid item className={this.props.classes.alignCenter}>\n              <img src={logo} alt=\"logo\" width={120} />\n              {this.props.accountManager.userAccounts.length > 1 ? (\n                <Typography variant={'h6'} align={'center'}>\n                  You have {this.props.accountManager.userAccounts.length}{' '}\n                  account keys\n                </Typography>\n              ) : (\n                <Typography variant={'h6'} align={'center'}>\n                  You have {this.props.accountManager.userAccounts.length}{' '}\n                  account key\n                </Typography>\n              )}\n              {this.props.accountManager.activeUserAccount && (\n                <Typography variant={'h6'} align={'center'}>\n                  Active key:{' '}\n                  <span style={{ wordBreak: 'break-all' }}>\n                    {this.props.accountManager.activeUserAccount.alias}\n                  </span>\n                </Typography>\n              )}\n            </Grid>\n          ) : (\n            <Grid item className={this.props.classes.alignCenter}>\n              <AddCircleIcon style={{ color: '#e24c2c', fontSize: '4rem' }} />\n              <Typography variant={'h5'} align={'center'}>\n                Please create an account to get started\n              </Typography>\n            </Grid>\n          )}\n\n          <Grid item>\n            <FormControl fullWidth className={this.props.classes.margin}>\n              <Button\n                aria-label=\"This will open a new window to import a key to your vault\"\n                component={Link}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() =>\n                  this.props.popupContainer.callOpenPopup(\n                    PurposeForOpening.ImportAccount\n                  )\n                }\n                to={Pages.ImportAccount}\n                style={{\n                  backgroundColor: '#fff',\n                  color: 'var(--cspr-dark-blue)'\n                }}\n              >\n                Import Account\n              </Button>\n            </FormControl>\n            <FormControl fullWidth className={this.props.classes.margin}>\n              <Button\n                aria-label=\"This will open a form to create an account - focus will be given to the input field for key name\"\n                component={Link}\n                variant=\"contained\"\n                color=\"primary\"\n                to={Pages.CreateAccount}\n                style={{\n                  backgroundColor: '#fff',\n                  color: 'var(--cspr-dark-blue)'\n                }}\n              >\n                Create Account\n              </Button>\n            </FormControl>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n\n  resetVaultOnClick() {\n    confirm(\n      <div className=\"text-danger\">Reset Vault</div>,\n      'Resetting vault will permanently delete all accounts. You must have key files backed up if you want to recover them in the future.',\n      'Reset',\n      'Cancel',\n      {\n        requireCheckbox: true,\n        checkboxText: 'I have read and understand the above.'\n      }\n    ).then(() => {\n      this.props.accountManager.resetVault();\n      this.props.errors.dismissLast();\n      this.props.homeContainer.homeForm.$.setPasswordField.reset();\n    });\n  }\n\n  async tryUnlock() {\n    let password = this.props.homeContainer.homeForm.$.unlockPasswordField.$;\n    try {\n      await this.props.accountManager.unlock(password);\n      this.props.homeContainer.homeForm.$.unlockPasswordField.reset();\n      this.props.errors.dismissLast();\n    } catch (e) {\n      this.props.homeContainer.homeForm.$.unlockPasswordField.setError(\n        (e as Error).message\n      );\n    }\n  }\n\n  renderUnlock() {\n    return (\n      <form\n        onSubmit={e => {\n          e.preventDefault();\n        }}\n      >\n        <Grid\n          container\n          spacing={4}\n          direction={'column'}\n          justify={'flex-start'}\n          alignItems={'center'}\n        >\n          <Grid item className={this.props.classes.alignCenter}>\n            <img src={logo} alt=\"logo\" width={120} />\n            <Typography variant={'h4'} align={'center'}>\n              Unlock Vault\n            </Typography>\n          </Grid>\n\n          <Grid item container>\n            <div style={{ textAlign: 'center' }}>\n              <FormControl fullWidth>\n                <TextFieldWithFormState\n                  aria-label=\"Enter password for vault\"\n                  autoFocus={true}\n                  fieldState={\n                    this.props.homeContainer.homeForm.$.unlockPasswordField\n                  }\n                  required\n                  id={'unlock-password'}\n                  label={'Password'}\n                  type={'password'}\n                />\n              </FormControl>\n              {this.props.accountManager.remainingUnlockAttempts < 5 && (\n                <FormControl fullWidth style={{ marginTop: '.5rem' }}>\n                  <Typography variant={'subtitle1'}>\n                    Attempts remaining:{' '}\n                    {this.props.accountManager.remainingUnlockAttempts}\n                  </Typography>\n                </FormControl>\n              )}\n              <FormControl fullWidth className={this.props.classes.margin}>\n                <Button\n                  type=\"submit\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  classes={{\n                    root: this.props.classes.unlockButton,\n                    disabled: this.props.classes.disabled\n                  }}\n                  disabled={this.props.homeContainer.unlockDisabled}\n                  onClick={async () => await this.tryUnlock()}\n                >\n                  Unlock\n                </Button>\n              </FormControl>\n              <div className=\"reset-vault\">\n                <a\n                  aria-label=\"Reset vault - this will open a confirmation before erasing keys\"\n                  href=\"#\"\n                  className=\"text-danger\"\n                  id=\"reset-link\"\n                  onClick={() => this.resetVaultOnClick()}\n                >\n                  Reset Vault?\n                </a>\n              </div>\n            </div>\n          </Grid>\n        </Grid>\n      </form>\n    );\n  }\n\n  renderLockedOut() {\n    if (\n      this.props.accountManager.isLockedOut &&\n      !this.props.accountManager.lockoutTimerStarted\n    ) {\n      // 5 minute timer before resetting lockout\n      this.props.accountManager.startLockoutTimer(\n        this.props.accountManager.timerDuration\n      );\n    }\n    return (\n      <div className={this.props.classes.lockout}>\n        <NotInterestedIcon style={{ fontSize: '5.5rem' }} />\n        <Typography variant={'body1'}>\n          Your vault has been temporarily locked out due to too many incorrect\n          password attempts.\n        </Typography>\n        <Typography variant={'h6'}>\n          Please try again in{' '}\n          {Math.round(this.props.accountManager.remainingMins)} minute\n          {this.props.accountManager.remainingMins <= 1 ? '.' : 's.'}\n        </Typography>\n      </div>\n    );\n  }\n\n  render() {\n    if (this.props.accountManager.hasCreatedVault) {\n      if (this.props.accountManager.isUnLocked) {\n        if (\n          !this.props.connectionContainer.connectionStatus &&\n          this.props.connectionContainer.connectionRequested\n        ) {\n          // Not connected and there is a request to connect\n          if (this.props.accountManager.userAccounts.length < 1) {\n            // Don't prompt for connection if there are no accounts\n            return this.renderAccountLists();\n          } else {\n            return <Redirect to={Pages.ConnectSigner} />;\n          }\n        } else {\n          if (this.props.signingContainer.deployToSign) {\n            return <Redirect to={Pages.SignDeploy} />;\n          } else if (this.props.signingContainer.messageToSign) {\n            return SignMessagePage(\n              this.props.signingContainer,\n              this.props.popupContainer\n            );\n          } else {\n            return this.renderAccountLists();\n          }\n        }\n      } else {\n        if (this.props.accountManager.isLockedOut) {\n          return this.renderLockedOut();\n        } else {\n          return this.renderUnlock();\n        }\n      }\n    } else {\n      return this.renderCreateNewVault();\n    }\n  }\n  // Nicer way to handle the rendering however this currently breaks some flows\n  // leaving here for me to implement in next release.\n  // render() {\n  //   return this.props.authContainer.hasCreatedVault ? (\n  //     this.props.authContainer.isUnLocked ? (\n  //       !this.props.connectionContainer.connectionStatus &&\n  //       this.props.connectionContainer.connectionRequested ? (\n  //         this.props.authContainer.userAccounts.length > 1 ? (\n  //           this.renderAccountLists()\n  //         ) : (\n  //           <Redirect to={Pages.ConnectSigner} />\n  //         )\n  //       ) : this.props.authContainer.unsignedDeploys.length > 0 ? (\n  //         <Redirect to={Pages.SignMessage} />\n  //       ) : (\n  //         this.renderAccountLists()\n  //       )\n  //     ) : this.props.authContainer.isLockedOut ? (\n  //       this.renderLockedOut()\n  //     ) : (\n  //       this.renderUnlock()\n  //     )\n  //   ) : (\n  //     this.renderCreateNewVault()\n  //   );\n  // }\n}\n\nexport default withStyles(styles, { withTheme: true })(withRouter(Home));\n","import { BackgroundManager } from '../BackgroundManager';\nimport { AppState } from '../../lib/MemStore';\nimport { computed } from 'mobx';\nimport {\n  isNumberish,\n  isURefString,\n  motesToCSPR,\n  numberWithSpaces,\n  SigningDataRow,\n  truncateString\n} from '../../shared';\n\nclass SigningContainer {\n  constructor(\n    private backgroundManager: BackgroundManager,\n    private appState: AppState\n  ) {}\n\n  @computed\n  get deployToSign() {\n    if (this.appState.unsignedDeploys.length > 0) {\n      return this.appState.unsignedDeploys[0];\n    }\n    return null;\n  }\n\n  @computed\n  get messageToSign() {\n    if (this.appState.unsignedMessages.length > 0) {\n      return this.appState.unsignedMessages[0];\n    }\n    return null;\n  }\n\n  async parseDeployData(deployId: number) {\n    return await this.backgroundManager.parseDeployData(deployId);\n  }\n\n  async signDeploy(deployId: number) {\n    await this.backgroundManager.signDeploy(deployId);\n  }\n\n  async cancel(deployId: number) {\n    await this.backgroundManager.rejectSignDeploy(deployId);\n  }\n\n  async approveSigningMessage(messageId: number) {\n    await this.backgroundManager.approveSigningMessage(messageId);\n  }\n\n  async cancelSigningMessage(messageId: number) {\n    await this.backgroundManager.cancelSigningMessage(messageId);\n  }\n}\n\nexport const truncationLengthCutoff = 13;\nexport const isLongValue = (value: string) =>\n  value.length > truncationLengthCutoff;\nexport const isCSPRValueByKey = (key: string) =>\n  ['Amount', 'Payment', 'Transaction Fee'].includes(key);\nexport const shouldNotTruncate = (key: string) =>\n  ['Timestamp', 'Chain Name'].includes(key);\n\nexport const parseRow = (row: SigningDataRow): SigningDataRow => {\n  // Special case for items that should not be truncated for readability e.g. Timestamp\n  if (shouldNotTruncate(row.key)) {\n    return row;\n  }\n  // The value is a list e.g. a CLList or CLTuple\n  if (Array.isArray(row.value)) {\n    return row;\n  }\n\n  // The value is a stringified number e.g. an amount in motes\n  if (isNumberish(row.value)) {\n    // If the number represents Motes then display the CSPR value in the tooltip\n    if (isCSPRValueByKey(row.key)) {\n      row.tooltipContent = `${motesToCSPR(row.value)} CSPR`;\n    }\n    // If the number was truncated show it fully in the tooltip\n    if (isLongValue(row.value)) {\n      row.tooltipContent = row.value;\n    }\n\n    // If the number is particularly long then truncate it\n    row.value = isLongValue(row.value)\n      ? truncateString(row.value, 6, 6)\n      : numberWithSpaces(row.value);\n\n    return row;\n  }\n\n  // The value is formatted string URef\n  if (isURefString(row.value)) {\n    // The main value will be truncated so display the full string in the tooltip\n    row.tooltipContent = row.value;\n    // Due to the standard prefix and suffix we use longer chunks to show more of the unique data\n    row.value = truncateString(row.value, 9, 9);\n\n    return row;\n  }\n\n  // The value is a long string e.g. a key or hash\n  if (isLongValue(row.value)) {\n    // The main value will be truncated so display the full string in the tooltip\n    row.tooltipContent = row.value;\n    row.value = truncateString(row.value, 6, 6);\n\n    return row;\n  }\n\n  return row;\n};\n\nexport default SigningContainer;\n","const signingTooltipFontSize = '.8rem';\n\nexport const TooltipStyles = () => ({\n  tooltip: {\n    fontSize: signingTooltipFontSize,\n    textAlign: 'center' as const,\n    margin: '10px 0 0 0',\n    maxWidth: '300px',\n    width: 'fit-content'\n  },\n  listItemTooltip: {\n    fontSize: signingTooltipFontSize,\n    textAlign: 'center' as const,\n    marginRight: '60px'\n  },\n  csprToolTip: {\n    fontSize: '.9rem',\n    textAlign: 'center' as const,\n    margin: '10px 0 0 0',\n    width: 'fit-content'\n  }\n});\n","import React from 'react';\nimport { SigningDataRow } from '../../../shared';\nimport { Tooltip, withStyles } from '@material-ui/core';\nimport { TooltipStyles } from '.';\n\ninterface TooltippedListItemProps {\n  data: SigningDataRow;\n  classes: Record<keyof ReturnType<typeof TooltipStyles>, string>;\n}\n\nconst TooltippedListItem = (props: TooltippedListItemProps) => {\n  return (\n    <Tooltip\n      title={props.data.tooltipContent}\n      placement=\"top\"\n      classes={{ tooltip: props.classes.listItemTooltip }}\n    >\n      <li>{props.data.value}</li>\n    </Tooltip>\n  );\n};\n\nexport default withStyles(TooltipStyles)(TooltippedListItem);\n","import React from 'react';\nimport { Tooltip, TableRow, TableCell } from '@material-ui/core';\nimport { withStyles } from '@material-ui/styles';\nimport { SigningDataRow } from '../../../shared';\nimport { isCSPRValueByKey, parseRow } from '../../container/SigningContainer';\nimport { TooltipStyles, TooltippedListItem, BlankTooltipContent } from '.';\n\ninterface TooltippedTableRowProps {\n  data: SigningDataRow;\n  classes: Record<keyof ReturnType<typeof TooltipStyles>, string>;\n}\n\nconst TooltippedTableRow = (props: TooltippedTableRowProps) => {\n  // If the row displays Motes use the CSPR specific tooltip styling\n  const isMotesValue = isCSPRValueByKey(props.data.key);\n\n  return (\n    <Tooltip\n      title={props.data.tooltipContent}\n      placement=\"top\"\n      classes={{\n        tooltip: isMotesValue\n          ? props.classes.csprToolTip\n          : props.classes.tooltip\n      }}\n    >\n      <TableRow>\n        <TableCell style={{ fontWeight: 'bold' }}>{props.data.key}</TableCell>\n        <TableCell align=\"right\">\n          {\n            /**\n             * Checks if the string represents a list so it can be displayed properly\n             */\n            Array.isArray(props.data.value) ? (\n              <ul style={{ listStyleType: 'none' }}>\n                {props.data.value.map((item: string) => {\n                  const listItemData: SigningDataRow = {\n                    key: props.data.key,\n                    value: item,\n                    tooltipContent: BlankTooltipContent\n                  };\n                  // Utilises the parseRow method to properly parse the inner value and then display it\n                  return <TooltippedListItem data={parseRow(listItemData)} />;\n                })}\n              </ul>\n            ) : (\n              props.data.value\n            )\n          }\n        </TableCell>\n      </TableRow>\n    </Tooltip>\n  );\n};\n\nexport default withStyles(TooltipStyles)(TooltippedTableRow);\n","import { TooltipStyles } from './TooltipStyles';\nimport TooltippedListItem from './ListItem';\nimport TooltippedTableRow from './TableRow';\n\nconst BlankTooltipContent = '';\n\nexport {\n  TooltipStyles,\n  BlankTooltipContent,\n  TooltippedListItem,\n  TooltippedTableRow\n};\n","import { observer } from 'mobx-react';\nimport React from 'react';\nimport { Redirect, RouteComponentProps, withRouter } from 'react-router';\nimport SigningContainer, { parseRow } from '../container/SigningContainer';\nimport Pages from './Pages';\nimport { browser } from 'webextension-polyfill-ts';\nimport AccountManager from '../container/AccountManager';\nimport {\n  Box,\n  Button,\n  Collapse,\n  IconButton,\n  Grid,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableRow,\n  Typography\n} from '@material-ui/core';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport { deployWithID } from '../../background/SigningManager';\nimport PopupContainer from '../container/PopupContainer';\nimport { SigningDataRow } from '../../shared';\nimport { BlankTooltipContent, TooltippedTableRow } from './Tooltipped';\n\ninterface Props extends RouteComponentProps {\n  signingContainer: SigningContainer;\n  accountManager: AccountManager;\n  popupContainer: PopupContainer;\n}\n\n@observer\nclass SignDeployPage extends React.Component<\n  Props,\n  {\n    genericRows: SigningDataRow[];\n    deploySpecificRows: SigningDataRow[];\n    deployToSign: deployWithID | null;\n    argsExpanded: boolean;\n  }\n> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      genericRows: [],\n      deploySpecificRows: [],\n      deployToSign: this.props.signingContainer.deployToSign,\n      argsExpanded: false\n    };\n  }\n\n  async componentDidMount() {\n    let w = await browser.windows.getCurrent();\n    if (w.type === 'popup') {\n      window.addEventListener('beforeunload', e => {\n        this.props.signingContainer.cancel(this.state.deployToSign?.id!);\n      });\n    }\n    if (this.state.deployToSign) {\n      this.generateDeployInfo(this.state.deployToSign);\n    }\n  }\n\n  async generateDeployInfo(deployToSign: deployWithID) {\n    const deployData = await this.props.signingContainer.parseDeployData(\n      deployToSign.id\n    );\n    // Filters out non-generic and irrelevant data points, also re-orders.\n    const orderedGenericData = {\n      'Signing Key': deployData.signingKey,\n      Account: deployData.account,\n      'Deploy Hash': deployData.deployHash,\n      Timestamp: deployData.timestamp,\n      'Chain Name': deployData.chainName,\n      Payment: deployData.payment,\n      'Deploy Type': deployData.deployType\n    };\n    let baseRows: SigningDataRow[] = [];\n    for (let [key, value] of Object.entries(orderedGenericData)) {\n      const row = parseRow({ key, value, tooltipContent: BlankTooltipContent });\n      baseRows.push(row);\n    }\n    let argRows: SigningDataRow[] = [];\n    for (let [key, value] of Object.entries(deployData.deployArgs)) {\n      const row = parseRow({ key, value, tooltipContent: BlankTooltipContent });\n      argRows.push(row);\n    }\n    this.setState({\n      genericRows: baseRows,\n      deploySpecificRows: argRows,\n      argsExpanded: argRows.length < 4\n    });\n  }\n\n  render() {\n    if (this.state.deployToSign && this.props.accountManager.isUnLocked) {\n      const deployId = this.props.signingContainer.deployToSign?.id;\n      return (\n        <div\n          style={{\n            flexGrow: 1,\n            marginTop: '-30px',\n            width: '100vw'\n          }}\n        >\n          <Typography align={'center'} variant={'h6'}>\n            Signature Request\n          </Typography>\n          <TableContainer>\n            <Table style={{ width: '90%' }}>\n              <TableBody>\n                {/* \n                  Displays the data generic to all deploys\n                */}\n                {this.state.genericRows.map(row => (\n                  <TooltippedTableRow data={row} />\n                ))}\n                {/* \n                  Deploy Specific Arguments\n                  Special handling for native transfers\n                */}\n                {this.state.genericRows.some(\n                  row => row.key === 'Deploy Type' && row.value === 'Transfer'\n                ) ? (\n                  <>\n                    <TableRow>\n                      <TableCell\n                        component=\"th\"\n                        scope=\"row\"\n                        style={{ fontWeight: 'bold' }}\n                        colSpan={2}\n                        align=\"center\"\n                      >\n                        Transfer Data\n                      </TableCell>\n                    </TableRow>\n                    <TableRow>\n                      <TableCell\n                        style={{ paddingBottom: 0, paddingTop: 0 }}\n                        colSpan={2}\n                      >\n                        <Table size=\"small\">\n                          <TableBody>\n                            {this.state.deploySpecificRows.map(row => (\n                              <TooltippedTableRow data={row} />\n                            ))}\n                          </TableBody>\n                        </Table>\n                      </TableCell>\n                    </TableRow>\n                  </>\n                ) : (\n                  /**\n                   *  Deploy specific arguments\n                   */\n                  <>\n                    <TableRow>\n                      <TableCell\n                        component=\"th\"\n                        scope=\"row\"\n                        style={{ fontWeight: 'bold' }}\n                      >\n                        Contract Arguments\n                      </TableCell>\n                      <TableCell align=\"right\">\n                        <IconButton\n                          size=\"small\"\n                          onClick={() =>\n                            this.setState({\n                              argsExpanded: !this.state.argsExpanded\n                            })\n                          }\n                        >\n                          {this.state.argsExpanded ? (\n                            <KeyboardArrowUpIcon />\n                          ) : (\n                            <KeyboardArrowDownIcon />\n                          )}\n                        </IconButton>\n                      </TableCell>\n                    </TableRow>\n                    <TableRow>\n                      <TableCell\n                        style={{ paddingBottom: 0, paddingTop: 0 }}\n                        colSpan={2}\n                      >\n                        <Collapse\n                          in={this.state.argsExpanded}\n                          timeout=\"auto\"\n                          unmountOnExit\n                        >\n                          <Table size=\"small\">\n                            <TableBody>\n                              {this.state.deploySpecificRows.map(row => (\n                                <TooltippedTableRow data={row} />\n                              ))}\n                            </TableBody>\n                          </Table>\n                        </Collapse>\n                      </TableCell>\n                    </TableRow>\n                  </>\n                )}\n              </TableBody>\n            </Table>\n          </TableContainer>\n          <Box mt={8}>\n            <Grid\n              container\n              style={{ marginTop: '-50px' }}\n              spacing={4}\n              justify={'center'}\n              alignItems={'center'}\n            >\n              <Grid item>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={async () => {\n                    await this.props.signingContainer.cancel(deployId!);\n                    await this.props.popupContainer.callClosePopup();\n                    // This is required in the case that the user avoids the popup and instead\n                    // interacts with the default extension window.\n                    window.close();\n                  }}\n                >\n                  Cancel\n                </Button>\n              </Grid>\n              <Grid item>\n                <Button\n                  onClick={async () => {\n                    await this.props.signingContainer.signDeploy(deployId!);\n                    await this.props.popupContainer.callClosePopup();\n                    // This is required in the case that the user avoids the popup and instead\n                    // interacts with the default extension window.\n                    window.close();\n                  }}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  style={{\n                    backgroundColor: 'var(--cspr-dark-blue)'\n                  }}\n                >\n                  Sign\n                </Button>\n              </Grid>\n            </Grid>\n          </Box>\n        </div>\n      );\n    } else {\n      return <Redirect to={Pages.Home} />;\n    }\n  }\n}\n\nexport default withRouter(SignDeployPage);\n","import React from 'react';\nimport { confirm } from './Confirmation';\n\nexport default function confirmConnect() {\n  return confirm(\n    <div className=\"text-danger\">Approve Connection</div>,\n    <div>\n      Connecting allows this site to:\n      <br />\n      <ul>\n        <li>View your selected public key.</li>\n        <li>Make signing requests.</li>\n      </ul>\n      are you sure you want to connect?\n    </div>,\n    'Connect',\n    'Cancel'\n  );\n}\n","import { observer } from 'mobx-react';\nimport React from 'react';\nimport AccountManager from '../container/AccountManager';\nimport { RouteComponentProps, withRouter } from 'react-router';\nimport { observable } from 'mobx';\nimport {\n  CreateAccountFormData,\n  ImportAccountFormData\n} from '../container/ImportAccountContainer';\nimport ErrorContainer from '../container/ErrorContainer';\nimport {\n  Button,\n  createStyles,\n  Theme,\n  Typography,\n  WithStyles,\n  FormControl,\n  Box,\n  InputLabel\n} from '@material-ui/core';\nimport { SelectFieldWithFormState, TextFieldWithFormState } from './Forms';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Pages from './Pages';\nimport { confirm } from './Confirmation';\nimport ConnectSignerContainer from '../container/ConnectSignerContainer';\n\nenum method {\n  'Created',\n  'Imported'\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      '& .MuiTextField-root': {\n        marginTop: theme.spacing(2)\n      }\n    },\n    importButton: {\n      marginTop: theme.spacing(8)\n    }\n  });\n\ninterface Props extends RouteComponentProps, WithStyles<typeof styles> {\n  accountManager: AccountManager;\n  errors: ErrorContainer;\n  action: 'Import' | 'Create';\n  connectionContainer: ConnectSignerContainer;\n}\n\ninterface State {\n  keyDownloadEnabled: boolean;\n  algoAnchorEl: HTMLButtonElement | null;\n  revealSecretKey: boolean;\n}\n\n@observer\nclass AccountPage extends React.Component<Props, State> {\n  @observable accountForm: ImportAccountFormData | CreateAccountFormData;\n\n  constructor(props: Props) {\n    super(props);\n    if (props.action === 'Import') {\n      this.accountForm = new ImportAccountFormData(props.errors);\n    } else {\n      this.accountForm = new CreateAccountFormData(props.errors);\n    }\n    this.state = {\n      keyDownloadEnabled: false,\n      algoAnchorEl: null,\n      revealSecretKey: false\n    };\n  }\n\n  async onCreateAccount() {\n    const formData = this.accountForm as CreateAccountFormData;\n    if (formData.submitDisabled) {\n      return;\n    }\n\n    const names = this.props.accountManager.userAccounts.map(\n      account => account.alias\n    );\n    if (names.includes(formData.name.$)) {\n      return this.props.errors.capture(\n        Promise.reject(\n          new Error(`An account with name '${formData.name.$}' already exists.`)\n        )\n      );\n    }\n\n    await this._onSubmit(method.Created);\n    this.downloadKeys(formData.name.$);\n  }\n\n  downloadKeys(alias: string) {\n    confirm(\n      <div className=\"text-danger\">Download your key</div>,\n      'To proceed, download and save your key securely. Without it, you will not be able to recover access to your account.',\n      'Download',\n      'Cancel'\n    ).then(\n      // OK\n      async () => {\n        try {\n          await this.props.accountManager.downloadPemFiles(alias);\n        } catch (error) {\n          return this.props.errors.capture(\n            Promise.reject(new Error('Failed to download keys'))\n          );\n        }\n      },\n      // CANCEL\n      async () => {\n        try {\n          await this.props.accountManager.removeUserAccount(alias);\n          if (\n            this.props.connectionContainer.connectionRequested &&\n            !this.props.accountManager.userAccounts.length\n          ) {\n            await this.props.connectionContainer.resetConnectionRequest();\n          }\n        } catch (error) {\n          return this.props.errors.capture(\n            Promise.reject(new Error(`Failed to delete keypair: ${alias}`))\n          );\n        }\n      }\n    );\n  }\n\n  onImportAccount() {\n    if (this.accountForm.submitDisabled) {\n      return;\n    }\n    this._onSubmit(method.Imported);\n  }\n\n  async _onSubmit(source: method) {\n    await this.props.accountManager.importUserAccount(\n      this.accountForm.name.$,\n      this.accountForm.secretKeyBase64.value,\n      this.accountForm.algorithm.$,\n      source === method.Created ? false : true\n    );\n    this.props.history.push(Pages.Home);\n    this.props.history.replace(Pages.Home);\n  }\n\n  renderImportForm() {\n    const form = this.accountForm as ImportAccountFormData;\n    return (\n      <form className={this.props.classes.root}>\n        <Typography id=\"continuous-slider\" variant=\"h6\" gutterBottom>\n          Import from Secret Key File\n        </Typography>\n        <FormControl>\n          <Box\n            display={'flex'}\n            flexDirection={'row'}\n            alignItems={'center'}\n            m={1}\n          >\n            <Button\n              id={'private-key-uploader'}\n              variant=\"contained\"\n              style={{\n                backgroundColor: 'var(--cspr-dark-blue)',\n                color: 'white'\n              }}\n              component=\"label\"\n            >\n              Upload\n              <input\n                type=\"file\"\n                style={{ display: 'none' }}\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                  form.handleFileSelect(e)\n                }\n              />\n            </Button>\n            <Box ml={1}>\n              <Typography component={'span'}>\n                <Box fontSize={12}>\n                  {form.file ? form.file.name : 'No file selected'}\n                </Box>\n              </Typography>\n            </Box>\n          </Box>\n        </FormControl>\n        <TextFieldWithFormState\n          fullWidth\n          label=\"Name imported account\"\n          placeholder=\"Human Readable Alias\"\n          id=\"import-name\"\n          fieldState={this.accountForm.name}\n        />\n        <FormControl fullWidth className={this.props.classes.importButton}>\n          <Button\n            type=\"submit\"\n            disabled={this.accountForm.submitDisabled}\n            color=\"primary\"\n            variant={'contained'}\n            onClick={() => {\n              this.onImportAccount();\n            }}\n          >\n            Import\n          </Button>\n        </FormControl>\n      </form>\n    );\n  }\n\n  renderCreateForm() {\n    const formData = this.accountForm as CreateAccountFormData;\n    return (\n      <form\n        className={this.props.classes.root}\n        onSubmit={e => {\n          e.preventDefault();\n        }}\n      >\n        <Typography variant=\"h6\" style={{ marginTop: '-1em' }}>\n          Create Account\n        </Typography>\n        <TextFieldWithFormState\n          aria-label=\"Input for setting name of key\"\n          autoFocus\n          fullWidth\n          label=\"Name\"\n          placeholder=\"Human Readable Alias\"\n          id=\"import-name\"\n          fieldState={this.accountForm.name}\n        />\n        <FormControl fullWidth>\n          <InputLabel id=\"algo-select-lbl\">Algorithm</InputLabel>\n          <SelectFieldWithFormState\n            fullWidth\n            labelId=\"algo-select-lbl\"\n            fieldState={this.accountForm.algorithm}\n            selectItems={[\n              { value: 'ed25519', text: 'ED25519' },\n              { value: 'secp256k1', text: 'SECP256k1' }\n            ]}\n          />\n        </FormControl>\n        <TextFieldWithFormState\n          fullWidth\n          InputProps={{ readOnly: true, disabled: true }}\n          label=\"Public Key\"\n          id=\"create-public-key\"\n          value={formData.publicKey.$ ? formData.publicKey.$ : ''}\n        />\n        <FormControl fullWidth margin={'normal'}>\n          <Button\n            type=\"submit\"\n            className=\"mt-5\"\n            disabled={this.accountForm.submitDisabled}\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => {\n              this.onCreateAccount();\n            }}\n          >\n            Create\n          </Button>\n        </FormControl>\n      </form>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"mt-5 mb-4\">\n          {this.accountForm instanceof CreateAccountFormData\n            ? this.renderCreateForm()\n            : this.renderImportForm()}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(withRouter(AccountPage));\n","import { Typography, Box, Grid, Button } from '@material-ui/core';\nimport { observer } from 'mobx-react';\nimport React from 'react';\nimport { Redirect, RouteComponentProps, withRouter } from 'react-router-dom';\nimport { browser } from 'webextension-polyfill-ts';\nimport ConnectSignerContainer from '../container/ConnectSignerContainer';\nimport AccountManager from '../container/AccountManager';\nimport Pages from './Pages';\nimport confirmConnect from './ConfirmConnect';\n\ninterface Props extends RouteComponentProps {\n  connectSignerContainer: ConnectSignerContainer;\n  accountManager: AccountManager;\n}\n\n@observer\nclass ConnectSignerPage extends React.Component<Props, {}> {\n  async componentDidMount() {\n    let w = await browser.windows.getCurrent();\n    if (w.type === 'popup') {\n      window.addEventListener('beforeunload', e => {\n        this.props.connectSignerContainer.cancel();\n      });\n    }\n  }\n\n  render() {\n    if (!this.props.connectSignerContainer.connectionStatus) {\n      return !this.props.accountManager.isUnLocked ||\n        !this.props.accountManager.userAccounts.length ? (\n        <Redirect to={Pages.Home} />\n      ) : (\n        <div style={{ flexGrow: 1 }}>\n          <Typography\n            align={'center'}\n            variant={'h5'}\n            style={{ marginBottom: '1rem' }}\n          >\n            Connection Request\n          </Typography>\n          <Typography align={'center'} variant={'body1'}>\n            Would you like to allow{' '}\n            <b>{this.props.connectSignerContainer.currentTab?.url}</b> to\n            connect?\n          </Typography>\n          <Box mt={8}>\n            <Grid\n              container\n              spacing={4}\n              justify={'center'}\n              alignItems={'center'}\n            >\n              <Grid item>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={() => {\n                    this.props.connectSignerContainer.cancel();\n                  }}\n                >\n                  Cancel\n                </Button>\n              </Grid>\n              <Grid item>\n                <Button\n                  onClick={() => {\n                    confirmConnect().then(() =>\n                      this.props.connectSignerContainer.connectToSite()\n                    );\n                  }}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  style={{\n                    backgroundColor: 'var(--cspr-dark-blue)'\n                  }}\n                >\n                  Connect\n                </Button>\n              </Grid>\n            </Grid>\n          </Box>\n        </div>\n      );\n    } else {\n      return <Redirect to={Pages.Home} />;\n    }\n  }\n}\n\nexport default withRouter(ConnectSignerPage);\n","import { FieldState } from 'formstate';\nimport {\n  fieldSubmittable,\n  valueRequired,\n  isAlgorithm,\n  humanReadable,\n  minNameLength,\n  uniqueAlias\n} from '../../lib/FormValidator';\nimport { action, computed, observable } from 'mobx';\nimport { encodeBase64 } from 'tweetnacl-util';\nimport ErrorContainer from './ErrorContainer';\nimport { decodeBase16, Keys } from 'casper-js-sdk';\nimport ASN1 from '@lapo/asn1js';\nimport Base64 from '@lapo/asn1js/base64';\nimport Hex from '@lapo/asn1js/hex';\n\nexport interface SubmittableFormData {\n  submitDisabled: boolean;\n  resetFields: () => void;\n}\n\nexport class ImportAccountFormData implements SubmittableFormData {\n  secretKeyBase64: FieldState<string> = new FieldState<string>('').validators(\n    valueRequired\n  );\n  algorithm: FieldState<string> = new FieldState<string>('').validators(\n    valueRequired,\n    isAlgorithm\n  );\n  name: FieldState<string> = new FieldState<string>('').validators(\n    valueRequired,\n    minNameLength,\n    humanReadable\n  );\n  reHex = /^\\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\\s*)+$/;\n  @observable file: File | null = null;\n\n  private parseAlgorithm(val: any) {\n    let decoded;\n    try {\n      const der: Uint8Array = this.reHex.test(val)\n        ? Hex.decode(val)\n        : Base64.unarmor(val);\n      decoded = ASN1.decode(der);\n\n      // Get the algorithm\n      try {\n        let ed25519: boolean = decoded\n          .toPrettyString()\n          .includes('curveEd25519');\n        let secp256k1: boolean = decoded.toPrettyString().includes('secp256k1');\n        if (ed25519) {\n          this.algorithm.onChange('ed25519');\n          let hexKey = decoded.toPrettyString().split('\\n')[4].split('|')[1];\n          this.secretKeyBase64.onChange(encodeBase64(decodeBase16(hexKey)));\n        } else if (secp256k1) {\n          this.algorithm.onChange('secp256k1');\n          let hexKey = decoded.toPrettyString().split('\\n')[2].split('|')[1];\n          this.secretKeyBase64.onChange(encodeBase64(decodeBase16(hexKey)));\n        } else {\n          this.errors.capture(\n            Promise.reject('Could not parse algorithm from DER encoding')\n          );\n        }\n      } catch (err) {\n        this.errors.capture(Promise.reject(err));\n      }\n    } catch (e) {\n      this.errors.capture(Promise.reject(e));\n    }\n  }\n\n  private checkFileContent(fileContent: string) {\n    if (!fileContent) {\n      return 'The content of imported file cannot be empty!';\n    }\n    if (fileContent.includes('PUBLIC KEY')) {\n      return 'Not a secret key file!';\n    }\n    return null;\n  }\n\n  constructor(private errors: ErrorContainer) {}\n\n  handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (this.errors.lastError) {\n      this.errors.dismissLast();\n    }\n    if (e.target.files) {\n      this.file = e.target.files[0];\n      const reader = new FileReader();\n      reader.readAsText(this.file);\n      reader.onload = e => {\n        const fileContents = reader.result as string;\n        const errorMsg = this.checkFileContent(fileContents);\n        if (errorMsg === null) {\n          const file = this.file?.name!.split('.');\n          if (file === undefined) {\n            this.errors.capture(Promise.reject(new Error('File undefined')));\n          } else {\n            // File is defined now check format by extension\n            const fileExt = file[1];\n            if (fileExt !== 'pem' && fileExt !== 'cer') {\n              this.errors.capture(\n                Promise.reject(\n                  new Error(\n                    `Invalid file format: .${fileExt}. Please upload a .pem or .cer file.`\n                  )\n                )\n              );\n            } else {\n              try {\n                this.parseAlgorithm(fileContents);\n              } catch (e) {\n                this.errors.capture(\n                  Promise.reject(new Error('Failed to parse key'))\n                );\n              }\n            }\n          }\n        } else {\n          this.errors.capture(Promise.reject(new Error(errorMsg)));\n        }\n      };\n    }\n  };\n\n  @computed\n  get submitDisabled(): boolean {\n    return !(\n      fieldSubmittable(this.secretKeyBase64) &&\n      fieldSubmittable(this.name) &&\n      fieldSubmittable(this.algorithm)\n    );\n  }\n\n  @action\n  resetFields() {\n    this.secretKeyBase64.reset();\n    this.algorithm.reset();\n    this.name.reset();\n  }\n}\n\nexport class CreateAccountFormData extends ImportAccountFormData {\n  publicKey: FieldState<string> = new FieldState<string>('').validators(\n    valueRequired\n  );\n\n  constructor(errors: ErrorContainer) {\n    super(errors);\n    this.algorithm.onUpdate(fieldState => {\n      switch (fieldState.value) {\n        case 'ed25519': {\n          let ed25519KP = Keys.Ed25519.new();\n          this.publicKey.onChange(ed25519KP.publicKey.toHex());\n          this.secretKeyBase64.onChange(encodeBase64(ed25519KP.privateKey));\n          break;\n        }\n        case 'secp256k1': {\n          let secp256k1KP = Keys.Secp256K1.new();\n          this.publicKey.onChange(secp256k1KP.publicKey.toHex());\n          this.secretKeyBase64.onChange(encodeBase64(secp256k1KP.privateKey));\n          break;\n        }\n        default:\n          throw new Error('Invalid algorithm');\n      }\n    });\n  }\n\n  @computed\n  get submitDisabled(): boolean {\n    return !(\n      fieldSubmittable(this.secretKeyBase64) &&\n      fieldSubmittable(this.name) &&\n      fieldSubmittable(this.publicKey)\n    );\n  }\n\n  @action\n  resetFields() {\n    super.resetFields();\n    this.publicKey.reset();\n  }\n}\n\nexport class RenameAccountFormData implements SubmittableFormData {\n  private accounts: string[] = [];\n  constructor(accounts: string[]) {\n    this.accounts = accounts;\n  }\n\n  name: FieldState<string> = new FieldState<string>('').validators(\n    valueRequired,\n    minNameLength,\n    humanReadable,\n    val => uniqueAlias(val, this.accounts)\n  );\n\n  @computed\n  get submitDisabled(): boolean {\n    return !fieldSubmittable(this.name);\n  }\n\n  @action\n  resetFields() {\n    this.name.reset();\n  }\n}\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport Pages from './Pages';\nimport { Link } from 'react-router-dom';\nimport AccountManager from '../container/AccountManager';\nimport {\n  Settings as SettingsIcon,\n  Check as CheckIcon,\n  Lock as LockIcon,\n  CloudDownload as CloudDownloadIcon,\n  Web as WebIcon,\n  Menu as MenuIcon,\n  Timer as TimerIcon\n} from '@material-ui/icons';\nimport {\n  Icon,\n  IconButton,\n  Menu,\n  List,\n  ListItem,\n  ListItemText,\n  ListSubheader,\n  Divider,\n  Typography\n} from '@material-ui/core';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\n\ninterface Props {\n  accountManager: AccountManager;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    menuIcon: { color: 'green', marginRight: '0.2rem' }\n  })\n);\n\nconst MoreMenu = observer((props: Props) => {\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n\n  const classes = useStyles();\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setTimeout(() => {\n      setAnchorEl(null);\n    }, 200);\n  };\n\n  return (\n    <div>\n      <IconButton\n        edge=\"end\"\n        aria-controls=\"simple-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        style={{ color: '#C4C4C4' }}\n      >\n        <MenuIcon />\n      </IconButton>\n      <Menu\n        id={'simple-menu'}\n        anchorEl={anchorEl}\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <List\n          aria-labelledby=\"nested-list-subheader\"\n          subheader={\n            <ListSubheader component=\"div\" id=\"nested-list-subheader\">\n              {props.accountManager.userAccounts.length > 0\n                ? 'Accounts'\n                : 'No Account'}\n            </ListSubheader>\n          }\n        >\n          {props.accountManager.userAccounts.map((account, i) => {\n            return (\n              <ListItem\n                key={i}\n                button\n                dense={true}\n                onClick={() => {\n                  props.accountManager.switchToAccount(account.alias);\n                  handleClose();\n                }}\n              >\n                {account.alias ===\n                props.accountManager.activeUserAccount?.alias ? (\n                  <CheckIcon fontSize={'small'} />\n                ) : (\n                  <Icon className={'fa fa-fw'} fontSize={'small'} />\n                )}\n                <ListItemText primary={account.alias} />\n              </ListItem>\n            );\n          })}\n          <Divider light />\n          {props.accountManager.userAccounts.length > 0 && (\n            <ListItem\n              dense={true}\n              component={Link}\n              to={Pages.AccountManagement}\n              button\n              onClick={handleClose}\n            >\n              <SettingsIcon className={classes.menuIcon} />\n              <ListItemText primary=\"Key Management\" />\n            </ListItem>\n          )}\n          <ListItem\n            dense={true}\n            component={Link}\n            to={Pages.ConnectedSites}\n            button\n            onClick={handleClose}\n          >\n            <WebIcon className={classes.menuIcon} />\n            <ListItemText primary=\"Connected Sites\" />\n          </ListItem>\n          {props.accountManager.activeUserAccount && (\n            <ListItem\n              dense={true}\n              button\n              onClick={() => {\n                props.accountManager.downloadActiveKey();\n                handleClose();\n              }}\n            >\n              <CloudDownloadIcon className={classes.menuIcon} />\n              <ListItemText primary=\"Download Active Key\" />\n            </ListItem>\n          )}\n          <ListItem\n            dense={true}\n            component={Link}\n            to={Pages.ConfigureTimeout}\n            button\n            onClick={handleClose}\n          >\n            <TimerIcon className={classes.menuIcon} />\n            <ListItemText primary=\"Timeout\" />\n            <Typography variant=\"overline\">\n              {props.accountManager.idleTimeoutMins} min\n              {props.accountManager.idleTimeoutMins === 1 ? '' : 's'}\n            </Typography>\n          </ListItem>\n          <ListItem\n            dense={true}\n            button\n            onClick={() => {\n              props.accountManager.lock();\n              handleClose();\n            }}\n          >\n            <LockIcon className={classes.menuIcon} />\n            <ListItemText primary=\"Lock\" />\n          </ListItem>\n        </List>\n      </Menu>\n    </div>\n  );\n});\n\nexport default MoreMenu;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport MoreMenu from './Menu';\nimport HomeIcon from '@material-ui/icons/Home';\nimport AccountManager from '../container/AccountManager';\nimport ConnectSignerContainer from '../container/ConnectSignerContainer';\nimport { observer } from 'mobx-react';\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Button,\n  Tooltip\n} from '@material-ui/core';\nimport confirmConnect from './ConfirmConnect';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100vw',\n      flexGrow: 1,\n      color: '#c4c4c4',\n      backgroundColor: 'var(--cspr-dark-blue)'\n    },\n    toolbarMargin: {\n      minHeight: '40px'\n    },\n    menuButton: {\n      marginRight: theme.spacing(2)\n    },\n    toggleWrapper: {\n      flexGrow: 1,\n      textAlign: 'center'\n    },\n    toggleButton: {\n      width: '100%',\n      height: '2rem'\n    }\n  })\n);\n\ninterface Props {\n  accountManager: AccountManager;\n  connectionContainer: ConnectSignerContainer;\n}\n\nexport const MainAppBar = observer((props: Props) => {\n  const classes = useStyles();\n  const { currentTab, connectedSites } = props.connectionContainer;\n  const connected =\n    currentTab &&\n    connectedSites.some(\n      site => site.url === currentTab.url && site.isConnected\n    );\n  if (props.accountManager.hasCreatedVault && props.accountManager.isUnLocked) {\n    return (\n      <>\n        <AppBar\n          position=\"static\"\n          className={classes.root}\n          color={'transparent'}\n        >\n          <Toolbar>\n            <IconButton edge=\"start\" component={Link} to={'/'}>\n              <HomeIcon style={{ color: '#C4C4C4' }} />\n            </IconButton>\n            <Tooltip\n              title={\n                props.connectionContainer.integratedSite\n                  ? props.accountManager.userAccounts.length\n                    ? 'Toggle Connection to Site'\n                    : 'Add an Account to Connect'\n                  : 'This site is not integrated with Signer'\n              }\n            >\n              <span className={classes.toggleWrapper}>\n                <Button\n                  // Toggles connection status\n                  className={classes.toggleButton}\n                  disabled={\n                    !props.connectionContainer.integratedSite ||\n                    !props.accountManager.userAccounts.length\n                  }\n                  variant=\"outlined\"\n                  color={connected ? 'primary' : 'default'}\n                  size=\"large\"\n                  onClick={() => {\n                    if (connected) {\n                      props.connectionContainer.disconnectFromSite();\n                    } else {\n                      confirmConnect().then(() => {\n                        props.connectionContainer.connectToSite();\n                      });\n                    }\n                  }}\n                  style={{\n                    color: 'var(--cspr-dark-blue)',\n                    backgroundColor: '#fff'\n                  }}\n                >\n                  {connected ? 'Connected' : 'Disconnected'}\n                </Button>\n              </span>\n            </Tooltip>\n            <MoreMenu accountManager={props.accountManager} />\n          </Toolbar>\n        </AppBar>\n        <div className={classes.toolbarMargin}></div>\n      </>\n    );\n  } else {\n    return <div className={classes.toolbarMargin}></div>;\n  }\n});\n","import { useEffect } from 'react';\n\nexport default function AnalyticsProvider() {\n  const initAnalytics = () => {\n    setTimeout(() => {\n      const gaPlugin = (window as any)._gaq || [];\n      gaPlugin.push(['_setAccount', 'UA-133833104-5']);\n      gaPlugin.push(['_trackPageview']);\n    }, 2000);\n  };\n\n  useEffect(() => {\n    (function () {\n      const ga = document.createElement('script');\n      ga.type = 'text/javascript';\n      ga.async = true;\n      ga.src = 'https://ssl.google-analytics.com/ga.js';\n      const s = document.getElementsByTagName('script')[0];\n      s.parentNode?.insertBefore(ga, s);\n      initAnalytics();\n    })();\n  }, []);\n\n  return null;\n}\n","import React from 'react';\nimport { Redirect, RouteComponentProps, withRouter } from 'react-router-dom';\nimport {\n  List,\n  ListItem,\n  ListItemText,\n  IconButton,\n  ListItemSecondaryAction,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  Snackbar,\n  ListSubheader,\n  Typography,\n  Tooltip\n} from '@material-ui/core';\nimport RootRef from '@material-ui/core/RootRef';\nimport {\n  DragDropContext,\n  Droppable,\n  Draggable,\n  DropResult\n} from 'react-beautiful-dnd';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\nimport FilterNoneIcon from '@material-ui/icons/FilterNone'; // Used for Copy\nimport AccountManager from '../container/AccountManager';\nimport ConnectSignerContainer from '../container/ConnectSignerContainer';\nimport { observer, Observer } from 'mobx-react';\nimport { observable } from 'mobx';\nimport Dialog from '@material-ui/core/Dialog';\nimport { confirm } from './Confirmation';\nimport copy from 'copy-to-clipboard';\nimport { KeyPairWithAlias } from '../../@types/models';\nimport { CLPublicKey } from 'casper-js-sdk';\nimport { GetApp } from '@material-ui/icons';\nimport { TextFieldWithFormState } from './Forms';\nimport { RenameAccountFormData } from '../container/ImportAccountContainer';\nimport ErrorContainer from '../container/ErrorContainer';\nimport Pages from './Pages';\n\nconst getItemStyle = (isDragging: boolean, draggableStyle: any) => ({\n  // styles we need to apply on draggables\n  ...draggableStyle,\n\n  ...(isDragging && {\n    background: 'rgb(235,235,235)'\n  })\n});\n\ninterface Props extends RouteComponentProps {\n  accountManager: AccountManager;\n  connectionContainer: ConnectSignerContainer;\n  errorsContainer: ErrorContainer;\n}\n\ninterface State {\n  openDialog: boolean;\n  openKeyDialog: boolean;\n  selectedAccount: KeyPairWithAlias | null;\n  alias: string | null;\n  publicKey: CLPublicKey | null;\n  publicKeyHex: string | null;\n  accountHash: string | null;\n  copyStatus: boolean;\n}\n\n@observer\nclass AccountManagementPage extends React.Component<Props, State> {\n  @observable renameAccountForm: RenameAccountFormData;\n\n  constructor(props: Props) {\n    super(props);\n    const aliases = props.accountManager.userAccounts.map(account => {\n      return account.alias;\n    });\n    this.renameAccountForm = new RenameAccountFormData(aliases);\n    this.state = {\n      openDialog: false,\n      openKeyDialog: false,\n      selectedAccount: null,\n      alias: null,\n      publicKey: null,\n      publicKeyHex: null,\n      accountHash: null,\n      copyStatus: false\n    };\n  }\n\n  handleClickOpen = (account: KeyPairWithAlias) => {\n    this.setState({\n      openDialog: true,\n      selectedAccount: account,\n      alias: account.alias\n    });\n  };\n\n  handleViewKey = async (accountName: string) => {\n    let hexKey = await this.props.accountManager.getPublicKeyHexByAlias(\n      accountName\n    );\n    let hash = await this.props.accountManager.getAccountHashByAlias(\n      accountName\n    );\n    this.setState({\n      alias: accountName,\n      publicKeyHex: hexKey,\n      accountHash: hash,\n      openKeyDialog: true\n    });\n  };\n\n  handleDownloadKeys = async (alias: string) => {\n    return await this.props.accountManager.downloadPemFiles(alias);\n  };\n\n  handleCopyMessage = (event?: React.SyntheticEvent, reason?: string) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    this.setState({ copyStatus: false });\n  };\n\n  handleClose = () => {\n    this.renameAccountForm.resetFields();\n    this.setState({\n      openDialog: false,\n      openKeyDialog: false,\n      selectedAccount: null\n    });\n  };\n\n  handleUpdateName = () => {\n    let account = this.state.selectedAccount;\n    let alias = this.renameAccountForm.name.$;\n    if (account && alias) {\n      this.props.errorsContainer.capture(\n        this.props.accountManager.renameUserAccount(account.alias, alias)\n      );\n      this.handleClose();\n    }\n  };\n\n  onDragEnd = (result: DropResult) => {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n\n    this.props.accountManager.reorderAccount(\n      result.source.index,\n      result.destination.index\n    );\n  };\n\n  handleClickRemove = async (name: string) => {\n    let backedUp = await this.props.accountManager.isBackedUp(name);\n    !backedUp\n      ? confirm(\n          <div className=\"text-danger\">Back up account</div>,\n          <span>\n            This account has not been backed up.\n            <br />\n            <b>\n              You will not be able to recover this account without your key.\n            </b>\n            <br />\n            <br />\n            Would you like to download the key files for {name}?\n          </span>,\n          'Download',\n          'Cancel',\n          {}\n        ).then(\n          async () => await this.props.accountManager.downloadPemFiles(name)\n        )\n      : confirm(\n          <div className=\"text-danger\">Remove account</div>,\n          <span>\n            This account will be permanently deleted. Confirm password to remove\n            account: <b>{name}</b>\n          </span>,\n          'Remove',\n          'Cancel',\n          {\n            requirePassword: true,\n            requireCheckbox: true,\n            checkboxText:\n              'I understand I will need the key files to recover this account'\n          }\n        ).then(\n          async () => await this.props.accountManager.removeUserAccount(name)\n        );\n  };\n\n  render() {\n    return !this.props.accountManager.isUnLocked ||\n      !this.props.accountManager.userAccounts[0] ? (\n      <Redirect to={Pages.Home} />\n    ) : (\n      <React.Fragment>\n        <DragDropContext onDragEnd={result => this.onDragEnd(result)}>\n          <Droppable droppableId=\"droppable\">\n            {(provided, snapshot) => (\n              <Observer>\n                {() => (\n                  // TODO: fix this (deprecated RootRef)\n                  <RootRef rootRef={provided.innerRef}>\n                    <List>\n                      {this.props.accountManager.userAccounts.map(\n                        (item, index) => (\n                          <Draggable\n                            key={item.alias}\n                            draggableId={item.alias}\n                            index={index}\n                          >\n                            {(provided, snapshot) => (\n                              <ListItem\n                                innerRef={provided.innerRef}\n                                ContainerProps={{\n                                  ...provided.draggableProps,\n                                  ...provided.dragHandleProps,\n                                  style: getItemStyle(\n                                    snapshot.isDragging,\n                                    provided.draggableProps.style\n                                  )\n                                }}\n                              >\n                                <ListItemText primary={item.alias} />\n                                <ListItemSecondaryAction>\n                                  <Tooltip title=\"Edit\">\n                                    <IconButton\n                                      aria-label=\"Button will open a dialog to rename key\"\n                                      edge={'end'}\n                                      onClick={() => {\n                                        this.handleClickOpen(item);\n                                      }}\n                                    >\n                                      <EditIcon />\n                                    </IconButton>\n                                  </Tooltip>\n                                  <Tooltip title=\"Delete\">\n                                    <IconButton\n                                      edge={'end'}\n                                      onClick={() => {\n                                        this.handleClickRemove(item.alias);\n                                      }}\n                                    >\n                                      <DeleteIcon />\n                                    </IconButton>\n                                  </Tooltip>\n                                  <Tooltip title=\"View\">\n                                    <IconButton\n                                      edge={'end'}\n                                      onClick={() => {\n                                        this.handleViewKey(item.alias);\n                                      }}\n                                    >\n                                      <VpnKeyIcon />\n                                    </IconButton>\n                                  </Tooltip>\n                                  <Tooltip title=\"Download\">\n                                    <IconButton\n                                      edge={'end'}\n                                      onClick={() => {\n                                        this.handleDownloadKeys(item.alias);\n                                      }}\n                                    >\n                                      <GetApp />\n                                    </IconButton>\n                                  </Tooltip>\n                                </ListItemSecondaryAction>\n                              </ListItem>\n                            )}\n                          </Draggable>\n                        )\n                      )}\n                      {provided.placeholder}\n                    </List>\n                  </RootRef>\n                )}\n              </Observer>\n            )}\n          </Droppable>\n        </DragDropContext>\n        <Dialog\n          open={this.state.openDialog}\n          onClose={this.handleClose}\n          aria-label=\"Form to rename account - focus will be given to name input field\"\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <form>\n            <DialogTitle id=\"form-dialog-title\">Rename</DialogTitle>\n            <DialogContent>\n              <TextFieldWithFormState\n                autoFocus\n                fullWidth\n                label=\"Rename account\"\n                placeholder=\"Account alias\"\n                id=\"rename-account\"\n                fieldState={this.renameAccountForm.name}\n              />\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={this.handleClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button\n                type=\"submit\"\n                onClick={this.handleUpdateName}\n                color=\"primary\"\n                disabled={this.renameAccountForm.submitDisabled}\n              >\n                Update\n              </Button>\n            </DialogActions>\n          </form>\n        </Dialog>\n\n        <Dialog\n          fullScreen\n          open={this.state.openKeyDialog}\n          onClose={this.handleClose}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Account Details</DialogTitle>\n          <DialogContent>\n            <List>\n              <ListSubheader>\n                <Typography variant={'h6'}>{this.state.alias}</Typography>\n              </ListSubheader>\n              <ListItem>\n                <IconButton\n                  edge={'start'}\n                  onClick={() => {\n                    copy(this.state.publicKeyHex!);\n                    this.setState({ copyStatus: true });\n                  }}\n                >\n                  <FilterNoneIcon />\n                </IconButton>\n                <ListItemText\n                  primary={`Public Key: ${this.state.publicKeyHex}`}\n                  style={{ overflowWrap: 'break-word' }}\n                />\n              </ListItem>\n              <ListItem>\n                <IconButton\n                  edge={'start'}\n                  onClick={() => {\n                    copy(this.state.accountHash!);\n                    this.setState({ copyStatus: true });\n                  }}\n                >\n                  <FilterNoneIcon />\n                </IconButton>\n                <ListItemText\n                  primary={`Account Hash: ${this.state.accountHash}`}\n                  style={{ overflowWrap: 'break-word' }}\n                />\n              </ListItem>\n            </List>\n            <Snackbar\n              open={this.state.copyStatus}\n              message=\"Copied!\"\n              autoHideDuration={1500}\n              onClose={this.handleCopyMessage}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\">\n              Close\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </React.Fragment>\n    );\n  }\n}\nexport default withRouter(AccountManagementPage);\n","import React from 'react';\nimport {\n  List,\n  ListItem,\n  ListItemText,\n  IconButton,\n  ListItemSecondaryAction,\n  Tooltip,\n  Typography\n} from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nimport ConnectSignerContainer from '../container/ConnectSignerContainer';\nimport AccountManager from '../container/AccountManager';\nimport { observer } from 'mobx-react';\nimport { confirm } from './Confirmation';\nimport { Redirect } from 'react-router-dom';\nimport Pages from './Pages';\n\ninterface Props {\n  connectionContainer: ConnectSignerContainer;\n  accountManager: AccountManager;\n}\n\nexport const ConnectedSitesPage = observer((props: Props) => {\n  const handleClickRemove = (name: string) => {\n    confirm(\n      <div className=\"text-danger\">Remove Site</div>,\n      'Are you sure you want to disconnect and remove this site?'\n    ).then(() => props.connectionContainer.removeSite(name));\n  };\n\n  return !props.accountManager.isUnLocked ? (\n    <Redirect to={Pages.Home} />\n  ) : props.connectionContainer.connectedSites[0] ? (\n    <List>\n      {props.connectionContainer.connectedSites.map((item, index) => {\n        return (\n          <ListItem>\n            <ListItemText primary={item.url} />\n            <ListItemSecondaryAction>\n              <Tooltip title=\"Delete\">\n                <IconButton\n                  edge={'end'}\n                  onClick={() => {\n                    handleClickRemove(item.url);\n                  }}\n                >\n                  <DeleteIcon />\n                </IconButton>\n              </Tooltip>\n              {item.isConnected ? (\n                <Tooltip title=\"Disconnect\">\n                  <IconButton\n                    edge={'end'}\n                    onClick={() => {\n                      props.connectionContainer.disconnectFromSite(item.url);\n                    }}\n                  >\n                    <CheckCircleIcon />\n                  </IconButton>\n                </Tooltip>\n              ) : (\n                <Tooltip title=\"Connect\">\n                  <IconButton\n                    edge={'end'}\n                    onClick={() => {\n                      props.connectionContainer.connectToSite(item.url);\n                    }}\n                  >\n                    <CheckCircleOutlineIcon />\n                  </IconButton>\n                </Tooltip>\n              )}\n            </ListItemSecondaryAction>\n          </ListItem>\n        );\n      })}\n    </List>\n  ) : (\n    <Typography variant=\"h5\">No Saved Sites</Typography>\n  );\n});\n","import React from 'react';\nimport AccountManager from '../container/AccountManager';\nimport Pages from '../components/Pages';\nimport {\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Typography\n} from '@material-ui/core';\nimport { Brightness1 as ActiveIcon } from '@material-ui/icons';\nimport { observer } from 'mobx-react';\nimport { Redirect } from 'react-router-dom';\n\nexport const ConfigureTimeoutPage = observer(\n  (props: { accountManager: AccountManager }) => {\n    return props.accountManager.isUnLocked ? (\n      <div>\n        <h2>Set Idle Timeout</h2>\n        <Typography>\n          Select how long you'd like before the Signer locks due to inactivity.\n        </Typography>\n        <List>\n          <ListItem\n            button={true}\n            onClick={async () => {\n              await props.accountManager.configureTimeout(1);\n            }}\n          >\n            <ListItemText primary=\"1 minute\" />\n            {1 === props.accountManager.idleTimeoutMins && (\n              <ListItemIcon>\n                <ActiveIcon style={{ color: 'green', marginLeft: '30px' }} />\n              </ListItemIcon>\n            )}\n          </ListItem>\n          <ListItem\n            button={true}\n            onClick={async () => {\n              await props.accountManager.configureTimeout(2);\n            }}\n          >\n            <ListItemText primary=\"2 minutes\" />\n            {2 === props.accountManager.idleTimeoutMins && (\n              <ListItemIcon>\n                <ActiveIcon style={{ color: 'green', marginLeft: '30px' }} />\n              </ListItemIcon>\n            )}\n          </ListItem>\n          <ListItem\n            button={true}\n            onClick={async () => {\n              await props.accountManager.configureTimeout(5);\n            }}\n          >\n            <ListItemText primary=\"5 minutes\" />\n            {5 === props.accountManager.idleTimeoutMins && (\n              <ListItemIcon>\n                <ActiveIcon style={{ color: 'green', marginLeft: '30px' }} />\n              </ListItemIcon>\n            )}\n          </ListItem>\n          <ListItem\n            button={true}\n            onClick={async () => {\n              await props.accountManager.configureTimeout(10);\n            }}\n          >\n            <ListItemText primary=\"10 minutes\" />\n            {10 === props.accountManager.idleTimeoutMins && (\n              <ListItemIcon>\n                <ActiveIcon style={{ color: 'green', marginLeft: '30px' }} />\n              </ListItemIcon>\n            )}\n          </ListItem>\n        </List>\n      </div>\n    ) : (\n      <Redirect to={Pages.Home} />\n    );\n  }\n);\n","import React, { ReactNode } from 'react';\nimport { DialogTitle, makeStyles } from '@material-ui/core';\n\nconst styles = {\n  MuiDialogTitle: {\n    padding: '0',\n    textAlign: 'center' as const,\n    marginTop: '15px'\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\ninterface Props {\n  children: ReactNode;\n}\n\nexport function Header({ children }: Props): JSX.Element {\n  const classes = useStyles();\n\n  return (\n    <DialogTitle classes={{ root: classes.MuiDialogTitle }}>\n      {children}\n    </DialogTitle>\n  );\n}\n","import React, { ReactNode } from 'react';\nimport {\n  DialogContent,\n  DialogContentText,\n  makeStyles\n} from '@material-ui/core';\n\nconst styles = {\n  MuiDialogContent: {\n    padding: '4px 10px 26px',\n\n    '& .MuiLink-button': {\n      color: 'var(--cspr-red)',\n      lineHeight: '0'\n    },\n\n    '& p': {\n      marginTop: '8px',\n      marginBlockEnd: '0'\n    },\n\n    '& ul': {\n      marginTop: '8px',\n      paddingLeft: '18px',\n      marginBlockStart: '6px',\n      marginBlockEnd: '0'\n    },\n\n    '& .MuiList-root': {\n      paddingTop: '0',\n      paddingBottom: '20px',\n\n      '& .MuiListItem-root': {\n        paddingTop: '0',\n        paddingLeft: '0'\n      },\n\n      '& .MuiListItemText-root': {\n        marginTop: '6px',\n        marginBottom: '6px',\n        paddingTop: '0',\n\n        '& .MuiTypography-body1': {\n          fontSize: '14px'\n        }\n      }\n    }\n  },\n  MuiTypography: {\n    fontSize: '14px',\n    marginBlockEnd: '7px'\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\ninterface Props {\n  children: ReactNode;\n}\n\nexport function Content({ children }: Props): JSX.Element {\n  const classes = useStyles();\n\n  return (\n    <DialogContent classes={{ root: classes.MuiDialogContent }}>\n      <DialogContentText classes={{ root: classes.MuiTypography }}>\n        {children}\n      </DialogContentText>\n    </DialogContent>\n  );\n}\n","import React, { ReactNode } from 'react';\nimport { makeStyles } from '@material-ui/core';\n\nconst styles = {\n  buttonContainerStyle: {\n    position: 'fixed' as const,\n    bottom: '20px',\n    width: '228px',\n    marginLeft: '10px',\n    marginRight: '10px',\n    marginBottom: '10px',\n\n    '& .MuiButton-containedPrimary': {\n      backgroundColor: 'var(--cspr-red)',\n      color: 'white',\n      '&$disabled': {\n        backgroundColor: 'white',\n        color: 'grey'\n      }\n    },\n\n    '& .MuiButton-containedSecondary': {\n      backgroundColor: 'var(--cspr-dark-blue)',\n      color: 'white',\n      '&$disabled': {\n        backgroundColor: 'white',\n        color: 'grey'\n      }\n    }\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\ninterface Props {\n  children: ReactNode;\n}\n\nexport function Actions({ children }: Props): JSX.Element {\n  const classes = useStyles();\n  return <div className={classes.buttonContainerStyle}>{children}</div>;\n}\n","import React from 'react';\nimport { Dialog } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Header, Content, Actions } from './components';\n\nconst styles = {\n  promptContainer: {\n    padding: '10px'\n  },\n  dialogPaper: {\n    minHeight: '95vh',\n    maxHeight: '95vh',\n    height: '95vh',\n    margin: '16px',\n    width: 'calc(100% - 32px)'\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\ninterface Props {\n  isOpened: boolean;\n  renderHeader(): JSX.Element;\n  renderContent(): JSX.Element;\n  renderActions(): JSX.Element;\n}\n\nexport function Prompt({\n  isOpened,\n  renderHeader,\n  renderContent,\n  renderActions\n}: Props): JSX.Element {\n  const classes = useStyles();\n\n  return (\n    <Dialog fullWidth classes={{ paper: classes.dialogPaper }} open={isOpened}>\n      <div className={classes.promptContainer}>\n        <Header>{renderHeader()}</Header>\n        <Content>{renderContent()}</Content>\n        <Actions>{renderActions()}</Actions>\n      </div>\n    </Dialog>\n  );\n}\n","import React from 'react';\n\nexport function HeaderPageOne() {\n  return <>Protect your funds</>;\n}\n\nexport function HeaderPageTwo() {\n  return null;\n}\n","import React from 'react';\nimport AccountManager from '../../../../container/AccountManager';\nimport {\n  IconButton,\n  Link,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  Tooltip\n} from '@material-ui/core';\nimport { GetApp } from '@material-ui/icons';\n\ninterface ContentPageOneProps {\n  setSecurityCheckupPageIndex: (page: number) => void;\n}\n\nexport function ContentPageOne({\n  setSecurityCheckupPageIndex\n}: ContentPageOneProps) {\n  return (\n    <>\n      <p>\n        Each of your accounts has a corresponding Secret Key file that provides\n        access to the funds on that account.\n      </p>\n      <ul>\n        <li>\n          Make sure that you have downloaded and backed up each Secret Key file{' '}\n          <b>securely</b>.{' '}\n          <Link\n            component=\"button\"\n            onClick={() => setSecurityCheckupPageIndex(1)}\n          >\n            Start here\n          </Link>\n        </li>\n        <li>Never share your Secret Key file with anyone.</li>\n        <li>The Casper Signer Team will never ask for your Secret Key file.</li>\n      </ul>\n    </>\n  );\n}\n\ninterface ContentPageTwoProps {\n  accountManager: AccountManager;\n}\n\nexport function ContentPageTwo({ accountManager }: ContentPageTwoProps) {\n  return (\n    <List>\n      {accountManager &&\n        accountManager.userAccounts &&\n        accountManager.userAccounts.map((account, index) => (\n          <ListItem>\n            <ListItemText primary={account.alias} />\n            <ListItemSecondaryAction>\n              <Tooltip title=\"Download\">\n                <IconButton\n                  edge=\"end\"\n                  onClick={() => {\n                    accountManager.downloadPemFiles(account.alias);\n                  }}\n                >\n                  <GetApp />\n                </IconButton>\n              </Tooltip>\n            </ListItemSecondaryAction>\n          </ListItem>\n        ))}\n    </List>\n  );\n}\n","import React from 'react';\nimport { Button } from '@material-ui/core';\n\ninterface ActionsPageOneProps {\n  closeHandler: () => Promise<void>;\n}\n\nexport function ActionsPageOne({ closeHandler }: ActionsPageOneProps) {\n  return (\n    <Button\n      variant=\"contained\"\n      color=\"primary\"\n      fullWidth\n      onClick={closeHandler}\n    >\n      I have backed up all my accounts\n    </Button>\n  );\n}\n\ninterface ActionsPageTwoProps {\n  setSecurityCheckupPageIndex: (page: number) => void;\n}\n\nexport function ActionsPageTwo({\n  setSecurityCheckupPageIndex\n}: ActionsPageTwoProps) {\n  return (\n    <Button\n      variant=\"contained\"\n      color=\"secondary\"\n      fullWidth\n      onClick={() => setSecurityCheckupPageIndex(0)}\n    >\n      Back\n    </Button>\n  );\n}\n","import React from 'react';\n// see https://github.com/mobxjs/mobx-react-lite/#observer-batching\nimport 'mobx-react-lite/batchingForReactDom';\nimport './App.scss';\nimport { Route, Switch } from 'react-router-dom';\nimport Pages from './components/Pages';\nimport Home from './components/Home';\nimport AccountManager from './container/AccountManager';\nimport { HomeContainer } from './container/HomeContainer';\nimport { observer } from 'mobx-react';\nimport ErrorContainer from './container/ErrorContainer';\nimport SignDeployPage from './components/SignDeployPage';\nimport SigningContainer from './container/SigningContainer';\nimport ConnectSignerPage from './components/ConnectSignerPage';\nimport ConnectSignerContainer from './container/ConnectSignerContainer';\nimport AccountPage from './components/AccountPage';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport { Container } from '@material-ui/core';\nimport { MainAppBar } from './components/MainAppBar';\nimport AnalyticsProvider from './components/AnalyticsProvider';\nimport AccountManagementPage from './components/AccountManagementPage';\nimport { ConnectedSitesPage } from './components/ConnectedSitesPage';\nimport { useIdleTimer } from 'react-idle-timer';\nimport { SignMessagePage } from './components/SignMessagePage';\nimport { ConfigureTimeoutPage } from './components/ConfigureTimeout';\nimport PopupContainer from './container/PopupContainer';\nimport SecurityCheckupPrompt, {\n  useSecurityCheckupRenderFunctions\n} from './components/Prompt';\n\nexport interface AppProps {\n  errors: ErrorContainer;\n  accountManager: AccountManager;\n  popupContainer: PopupContainer;\n  homeContainer: HomeContainer;\n  signingContainer: SigningContainer;\n  connectSignerContainer: ConnectSignerContainer;\n}\n\nconst App = observer((props: AppProps) => {\n  const lockOnIdle = () => {\n    if (props.accountManager.isUnLocked) props.accountManager.lock();\n  };\n\n  useIdleTimer({\n    timeout: 1000 * 60 * props.accountManager.idleTimeoutMins,\n    onIdle: lockOnIdle,\n    debounce: 500\n  });\n\n  const { isTimeToSecurityCheckup } = props.accountManager;\n  const createCloseHandler = (accountManager: AccountManager) => () =>\n    accountManager.resetSecurityCheckup();\n  const closeHandler = createCloseHandler(props.accountManager);\n\n  const securityCheckupRenderFunctions = useSecurityCheckupRenderFunctions({\n    closeHandler,\n    accountManager: props.accountManager\n  });\n\n  return (\n    <div>\n      <SecurityCheckupPrompt\n        isOpened={isTimeToSecurityCheckup}\n        {...securityCheckupRenderFunctions}\n      />\n      <AnalyticsProvider />\n      <MainAppBar\n        accountManager={props.accountManager}\n        connectionContainer={props.connectSignerContainer}\n      />\n      <Container>\n        <Alerts {...props} />\n        <Switch>\n          <Route\n            exact\n            path={Pages.Home}\n            render={_ => (\n              <Home\n                accountManager={props.accountManager}\n                homeContainer={props.homeContainer}\n                connectionContainer={props.connectSignerContainer}\n                signingContainer={props.signingContainer}\n                popupContainer={props.popupContainer}\n                errors={props.errors}\n              />\n            )}\n          />\n          <Route\n            exact\n            path={Pages.AccountManagement}\n            render={_ => (\n              <AccountManagementPage\n                accountManager={props.accountManager}\n                connectionContainer={props.connectSignerContainer}\n                errorsContainer={props.errors}\n              />\n            )}\n          />\n          <Route\n            exact\n            path={Pages.ConnectedSites}\n            render={_ => (\n              <ConnectedSitesPage\n                connectionContainer={props.connectSignerContainer}\n                accountManager={props.accountManager}\n              />\n            )}\n          />\n          <Route\n            path={Pages.ImportAccount}\n            exact\n            render={_ => (\n              <AccountPage\n                errors={props.errors}\n                action={'Import'}\n                accountManager={props.accountManager}\n                connectionContainer={props.connectSignerContainer}\n              />\n            )}\n          />\n          <Route\n            path={Pages.CreateAccount}\n            exact\n            render={_ => (\n              <AccountPage\n                errors={props.errors}\n                action={'Create'}\n                accountManager={props.accountManager}\n                connectionContainer={props.connectSignerContainer}\n              />\n            )}\n          />\n          <Route\n            path={Pages.SignDeploy}\n            exact\n            render={_ => (\n              <SignDeployPage\n                signingContainer={props.signingContainer}\n                accountManager={props.accountManager}\n                popupContainer={props.popupContainer}\n              />\n            )}\n          />\n          <Route\n            path={Pages.SignMessage}\n            exact\n            render={_ =>\n              SignMessagePage(props.signingContainer, props.popupContainer)\n            }\n          />\n          <Route\n            path={Pages.ConnectSigner}\n            exact\n            render={_ => (\n              <ConnectSignerPage\n                connectSignerContainer={props.connectSignerContainer}\n                accountManager={props.accountManager}\n              />\n            )}\n          />\n          <Route\n            path={Pages.ConfigureTimeout}\n            exact\n            render={_ => (\n              <ConfigureTimeoutPage accountManager={props.accountManager} />\n            )}\n          />\n        </Switch>\n      </Container>\n    </div>\n  );\n});\n\nexport default App;\n\n// Alerts displays the outcome of the last async error on the top of the page.\n// Dismissing the error clears the state and removes the element.\nconst Alerts = observer((props: AppProps) => {\n  if (props.errors.lastError == null) return null;\n  // Not using the `data-dismiss=\"alert\"` to dismiss via Bootstrap JS\n  // becuase then it doesn't re-render when there's a new error.\n  return (\n    <div id=\"alert-message\">\n      <Alert severity=\"error\" onClose={() => props.errors.dismissLast()}>\n        <AlertTitle>Error!</AlertTitle>\n        {props.errors.lastError}\n      </Alert>\n    </div>\n  );\n});\n","import React, { useState } from 'react';\n\nimport { HeaderPageOne, HeaderPageTwo } from './components/Header';\nimport { ContentPageOne, ContentPageTwo } from './components/Content';\nimport { ActionsPageOne, ActionsPageTwo } from './components/Actions';\n\nimport AccountManager from '../../../container/AccountManager';\n\ninterface Props {\n  accountManager: AccountManager;\n  closeHandler: () => Promise<void>;\n}\n\nexport interface SecurityCheckupRenderFunctions {\n  renderHeader(): JSX.Element;\n  renderContent(): JSX.Element;\n  renderActions(): JSX.Element;\n}\n\nexport function useSecurityCheckupRenderFunctions({\n  accountManager,\n  closeHandler\n}: Props): SecurityCheckupRenderFunctions {\n  const [securityCheckupPageIndex, setSecurityCheckupPageIndex] = useState(0);\n\n  if (securityCheckupPageIndex === 1) {\n    return {\n      renderHeader: () => <HeaderPageTwo />,\n      renderContent: () => <ContentPageTwo accountManager={accountManager} />,\n      renderActions: () => (\n        <ActionsPageTwo\n          setSecurityCheckupPageIndex={setSecurityCheckupPageIndex}\n        />\n      )\n    };\n  }\n\n  return {\n    renderHeader: () => <HeaderPageOne />,\n    renderContent: () => (\n      <ContentPageOne\n        setSecurityCheckupPageIndex={setSecurityCheckupPageIndex}\n      />\n    ),\n    renderActions: () => <ActionsPageOne closeHandler={closeHandler} />\n  };\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { FieldState, FormState } from 'formstate';\nimport {\n  strongPassword,\n  valueRequired,\n  valuesMatch\n} from '../../lib/FormValidator';\nimport { computed } from 'mobx';\n\nexport class HomeContainer {\n  homeForm = new FormState({\n    // The text field for storing user input password, used in 'Create Vault' and 'Unlock Vault' page.\n    setPasswordField: new FieldState<string>('').validators(\n      valueRequired,\n      strongPassword\n    ),\n    confirmPasswordField: new FieldState<string>('').validators(valueRequired),\n    unlockPasswordField: new FieldState<string>('').validators(valueRequired)\n  })\n    .compose()\n    .validators($ =>\n      valuesMatch($.setPasswordField.$, $.confirmPasswordField.$)\n    );\n\n  @computed\n  get unlockDisabled(): boolean {\n    return (\n      !this.homeForm.$.unlockPasswordField.hasBeenValidated ||\n      (this.homeForm.$.unlockPasswordField.hasBeenValidated &&\n        this.homeForm.$.unlockPasswordField.hasError)\n    );\n  }\n\n  @computed\n  get createVaultDisabled(): boolean {\n    return (\n      !this.homeForm.$.setPasswordField.hasBeenValidated ||\n      (this.homeForm.$.setPasswordField.hasBeenValidated &&\n        this.homeForm.$.setPasswordField.hasError) ||\n      !this.homeForm.$.confirmPasswordField.hasBeenValidated ||\n      (this.homeForm.$.confirmPasswordField.hasBeenValidated &&\n        this.homeForm.$.confirmPasswordField.hasError) ||\n      !(\n        this.homeForm.$.setPasswordField.value ===\n        this.homeForm.$.confirmPasswordField.value\n      )\n    );\n  }\n}\n","import { AppState } from '../../lib/MemStore';\nimport { BackgroundManager } from '../BackgroundManager';\nimport { computed } from 'mobx';\nimport { browser } from 'webextension-polyfill-ts';\n\nclass ConnectSignerContainer {\n  constructor(\n    private backgroundManager: BackgroundManager,\n    private appState: AppState\n  ) {}\n\n  @computed\n  get connectionStatus() {\n    return this.appState.connectionStatus;\n  }\n\n  @computed\n  get connectionRequested() {\n    return this.appState.connectionRequested;\n  }\n\n  async connectToSite(url?: string) {\n    await this.backgroundManager.connectToSite(url);\n    await this.resetConnectionRequest();\n  }\n\n  async disconnectFromSite(site?: string) {\n    await this.backgroundManager.disconnectFromSite(site);\n    await this.resetConnectionRequest();\n  }\n\n  async removeSite(url: string) {\n    await this.backgroundManager.removeSite(url);\n    await this.resetConnectionRequest();\n  }\n\n  async resetConnectionRequest() {\n    await this.backgroundManager.resetConnectionRequest();\n  }\n\n  async cancel() {\n    await this.resetConnectionRequest();\n    await this.closeWindow();\n  }\n\n  async open() {\n    await this.openWindow();\n  }\n\n  private async closeWindow() {\n    let views = await browser.extension.getViews();\n    let popup = views[1].window;\n    popup.close();\n  }\n\n  private async openWindow() {\n    let views = await browser.extension.getViews();\n    let popup = views[1].window;\n    popup.open();\n  }\n\n  @computed\n  get connectedSites() {\n    return this.appState.connectedSites;\n  }\n\n  @computed\n  get currentTab() {\n    return this.appState.currentTab;\n  }\n\n  // Is the current site injected with the content script?\n  // And therefore is it a valid integrated client.\n  // Based on the list of URLs from the extension manifest.json\n  async isIntegratedSite(hostname: string) {\n    return await this.backgroundManager.isIntegratedSite(hostname);\n  }\n\n  @computed\n  get integratedSite() {\n    return this.appState.isIntegratedSite;\n  }\n}\n\nexport default ConnectSignerContainer;\n","import { createMuiTheme } from '@material-ui/core';\n\n// copy from https://material-ui.com/zh/customization/palette/\nexport const signerTheme = createMuiTheme({\n  palette: {\n    primary: {\n      light: '#4791db',\n      main: '#1976d2',\n      dark: '#115293'\n    },\n    secondary: {\n      light: '#e33371',\n      main: '#dc004e',\n      dark: '#9a0036'\n    },\n    error: {\n      light: '#e57373',\n      main: '#f44336',\n      dark: '#d32f2f'\n    },\n    warning: {\n      light: '#ffb74d',\n      main: '#ff9800',\n      dark: '#f57c00'\n    },\n    info: {\n      light: '#64b5f6',\n      main: '#2196f3',\n      dark: '#1976d2'\n    },\n    success: {\n      light: '#81c784',\n      main: '#4caf50',\n      dark: '#388e3c'\n    }\n  }\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'fontsource-roboto';\nimport './index.css';\nimport './popup/styles/sb-admin/sb-admin.scss';\nimport App from './popup/App';\nimport * as serviceWorker from './serviceWorker';\nimport AccountManager from './popup/container/AccountManager';\nimport PopupContainer from './popup/container/PopupContainer';\nimport { HomeContainer } from './popup/container/HomeContainer';\nimport { HashRouter } from 'react-router-dom';\nimport { BackgroundManager } from './popup/BackgroundManager';\nimport ErrorContainer from './popup/container/ErrorContainer';\nimport './popup/styles/custom.scss';\nimport { AppState } from './lib/MemStore';\nimport SigningContainer from './popup/container/SigningContainer';\nimport ConnectSignerContainer from './popup/container/ConnectSignerContainer';\nimport { signerTheme } from './popup/components/Theme';\nimport { ThemeProvider } from '@material-ui/core';\n\nconst appState = new AppState();\nconst errorsContainer = new ErrorContainer();\nconst backgroundManager = new BackgroundManager(appState, errorsContainer);\nconst accountManager = new AccountManager(\n  errorsContainer,\n  backgroundManager,\n  appState\n);\nconst signingContainer = new SigningContainer(backgroundManager, appState);\nconst connectSignerContainer = new ConnectSignerContainer(\n  backgroundManager,\n  appState\n);\nconst homeContainer = new HomeContainer();\nconst popupContainer = new PopupContainer(backgroundManager);\n\nReactDOM.render(\n  <ThemeProvider theme={signerTheme}>\n    <HashRouter>\n      <App\n        errors={errorsContainer}\n        accountManager={accountManager}\n        homeContainer={homeContainer}\n        signingContainer={signingContainer}\n        connectSignerContainer={connectSignerContainer}\n        popupContainer={popupContainer}\n      />\n    </HashRouter>\n  </ThemeProvider>,\n  document.getElementById('root')\n);\n\nchrome.runtime.connect();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { BackgroundManager } from '../BackgroundManager';\nimport { PurposeForOpening } from '../../shared';\n// Container for managing popup instances of the Signer.\n// Acts as an interface between the UI and the background controllers.\n\nexport default class PopupContainer {\n  constructor(private backgroundManager: BackgroundManager) {}\n\n  callOpenPopup = async (purposeForOpening: PurposeForOpening) => {\n    await this.backgroundManager.callOpenPopup(purposeForOpening);\n  };\n\n  callClosePopup = async (signingId?: number) => {\n    await this.backgroundManager.callClosePopup(signingId);\n  };\n}\n"],"sourceRoot":""}