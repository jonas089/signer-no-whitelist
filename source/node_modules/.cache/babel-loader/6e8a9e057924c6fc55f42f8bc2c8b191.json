{"ast":null,"code":"import _slicedToArray from\"/home/chef/Desktop/signer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{observer}from'mobx-react';import Pages from'./Pages';import{Link}from'react-router-dom';import{Settings as SettingsIcon,Check as CheckIcon,Lock as LockIcon,CloudDownload as CloudDownloadIcon,Web as WebIcon,Menu as MenuIcon,Timer as TimerIcon}from'@material-ui/icons';import{Icon,IconButton,Menu,List,ListItem,ListItemText,ListSubheader,Divider,Typography}from'@material-ui/core';import{createStyles,makeStyles}from'@material-ui/core/styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return createStyles({menuIcon:{color:'green',marginRight:'0.2rem'}});});var MoreMenu=observer(function(props){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var classes=useStyles();var handleClick=function handleClick(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setTimeout(function(){setAnchorEl(null);},200);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(IconButton,{edge:\"end\",\"aria-controls\":\"simple-menu\",\"aria-haspopup\":\"true\",onClick:handleClick,style:{color:'#C4C4C4'},children:/*#__PURE__*/_jsx(MenuIcon,{})}),/*#__PURE__*/_jsx(Menu,{id:'simple-menu',anchorEl:anchorEl,transformOrigin:{vertical:'top',horizontal:'right'},open:Boolean(anchorEl),onClose:handleClose,children:/*#__PURE__*/_jsxs(List,{\"aria-labelledby\":\"nested-list-subheader\",subheader:/*#__PURE__*/_jsx(ListSubheader,{component:\"div\",id:\"nested-list-subheader\",children:props.accountManager.userAccounts.length>0?'Accounts':'No Account'}),children:[props.accountManager.userAccounts.map(function(account,i){var _props$accountManager;return/*#__PURE__*/_jsxs(ListItem,{button:true,dense:true,onClick:function onClick(){props.accountManager.switchToAccount(account.alias);handleClose();},children:[account.alias===((_props$accountManager=props.accountManager.activeUserAccount)===null||_props$accountManager===void 0?void 0:_props$accountManager.alias)?/*#__PURE__*/_jsx(CheckIcon,{fontSize:'small'}):/*#__PURE__*/_jsx(Icon,{className:'fa fa-fw',fontSize:'small'}),/*#__PURE__*/_jsx(ListItemText,{primary:account.alias})]},i);}),/*#__PURE__*/_jsx(Divider,{light:true}),props.accountManager.userAccounts.length>0&&/*#__PURE__*/_jsxs(ListItem,{dense:true,component:Link,to:Pages.AccountManagement,button:true,onClick:handleClose,children:[/*#__PURE__*/_jsx(SettingsIcon,{className:classes.menuIcon}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Key Management\"})]}),/*#__PURE__*/_jsxs(ListItem,{dense:true,component:Link,to:Pages.ConnectedSites,button:true,onClick:handleClose,children:[/*#__PURE__*/_jsx(WebIcon,{className:classes.menuIcon}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Connected Sites\"})]}),props.accountManager.activeUserAccount&&/*#__PURE__*/_jsxs(ListItem,{dense:true,button:true,onClick:function onClick(){props.accountManager.downloadActiveKey();handleClose();},children:[/*#__PURE__*/_jsx(CloudDownloadIcon,{className:classes.menuIcon}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Download Active Key\"})]}),/*#__PURE__*/_jsxs(ListItem,{dense:true,component:Link,to:Pages.ConfigureTimeout,button:true,onClick:handleClose,children:[/*#__PURE__*/_jsx(TimerIcon,{className:classes.menuIcon}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Timeout\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"overline\",children:[props.accountManager.idleTimeoutMins,\" min\",props.accountManager.idleTimeoutMins===1?'':'s']})]}),/*#__PURE__*/_jsxs(ListItem,{dense:true,button:true,onClick:function onClick(){props.accountManager.lock();handleClose();},children:[/*#__PURE__*/_jsx(LockIcon,{className:classes.menuIcon}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Lock\"})]})]})})]});});export default MoreMenu;","map":{"version":3,"sources":["/home/chef/Desktop/signer/src/popup/components/Menu.tsx"],"names":["React","observer","Pages","Link","Settings","SettingsIcon","Check","CheckIcon","Lock","LockIcon","CloudDownload","CloudDownloadIcon","Web","WebIcon","Menu","MenuIcon","Timer","TimerIcon","Icon","IconButton","List","ListItem","ListItemText","ListSubheader","Divider","Typography","createStyles","makeStyles","useStyles","theme","menuIcon","color","marginRight","MoreMenu","props","useState","anchorEl","setAnchorEl","classes","handleClick","event","currentTarget","handleClose","setTimeout","vertical","horizontal","Boolean","accountManager","userAccounts","length","map","account","i","switchToAccount","alias","activeUserAccount","AccountManagement","ConnectedSites","downloadActiveKey","ConfigureTimeout","idleTimeoutMins","lock"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { observer } from 'mobx-react';\nimport Pages from './Pages';\nimport { Link } from 'react-router-dom';\nimport AccountManager from '../container/AccountManager';\nimport {\n  Settings as SettingsIcon,\n  Check as CheckIcon,\n  Lock as LockIcon,\n  CloudDownload as CloudDownloadIcon,\n  Web as WebIcon,\n  Menu as MenuIcon,\n  Timer as TimerIcon\n} from '@material-ui/icons';\nimport {\n  Icon,\n  IconButton,\n  Menu,\n  List,\n  ListItem,\n  ListItemText,\n  ListSubheader,\n  Divider,\n  Typography\n} from '@material-ui/core';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\n\ninterface Props {\n  accountManager: AccountManager;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    menuIcon: { color: 'green', marginRight: '0.2rem' }\n  })\n);\n\nconst MoreMenu = observer((props: Props) => {\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n\n  const classes = useStyles();\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setTimeout(() => {\n      setAnchorEl(null);\n    }, 200);\n  };\n\n  return (\n    <div>\n      <IconButton\n        edge=\"end\"\n        aria-controls=\"simple-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        style={{ color: '#C4C4C4' }}\n      >\n        <MenuIcon />\n      </IconButton>\n      <Menu\n        id={'simple-menu'}\n        anchorEl={anchorEl}\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <List\n          aria-labelledby=\"nested-list-subheader\"\n          subheader={\n            <ListSubheader component=\"div\" id=\"nested-list-subheader\">\n              {props.accountManager.userAccounts.length > 0\n                ? 'Accounts'\n                : 'No Account'}\n            </ListSubheader>\n          }\n        >\n          {props.accountManager.userAccounts.map((account, i) => {\n            return (\n              <ListItem\n                key={i}\n                button\n                dense={true}\n                onClick={() => {\n                  props.accountManager.switchToAccount(account.alias);\n                  handleClose();\n                }}\n              >\n                {account.alias ===\n                props.accountManager.activeUserAccount?.alias ? (\n                  <CheckIcon fontSize={'small'} />\n                ) : (\n                  <Icon className={'fa fa-fw'} fontSize={'small'} />\n                )}\n                <ListItemText primary={account.alias} />\n              </ListItem>\n            );\n          })}\n          <Divider light />\n          {props.accountManager.userAccounts.length > 0 && (\n            <ListItem\n              dense={true}\n              component={Link}\n              to={Pages.AccountManagement}\n              button\n              onClick={handleClose}\n            >\n              <SettingsIcon className={classes.menuIcon} />\n              <ListItemText primary=\"Key Management\" />\n            </ListItem>\n          )}\n          <ListItem\n            dense={true}\n            component={Link}\n            to={Pages.ConnectedSites}\n            button\n            onClick={handleClose}\n          >\n            <WebIcon className={classes.menuIcon} />\n            <ListItemText primary=\"Connected Sites\" />\n          </ListItem>\n          {props.accountManager.activeUserAccount && (\n            <ListItem\n              dense={true}\n              button\n              onClick={() => {\n                props.accountManager.downloadActiveKey();\n                handleClose();\n              }}\n            >\n              <CloudDownloadIcon className={classes.menuIcon} />\n              <ListItemText primary=\"Download Active Key\" />\n            </ListItem>\n          )}\n          <ListItem\n            dense={true}\n            component={Link}\n            to={Pages.ConfigureTimeout}\n            button\n            onClick={handleClose}\n          >\n            <TimerIcon className={classes.menuIcon} />\n            <ListItemText primary=\"Timeout\" />\n            <Typography variant=\"overline\">\n              {props.accountManager.idleTimeoutMins} min\n              {props.accountManager.idleTimeoutMins === 1 ? '' : 's'}\n            </Typography>\n          </ListItem>\n          <ListItem\n            dense={true}\n            button\n            onClick={() => {\n              props.accountManager.lock();\n              handleClose();\n            }}\n          >\n            <LockIcon className={classes.menuIcon} />\n            <ListItemText primary=\"Lock\" />\n          </ListItem>\n        </List>\n      </Menu>\n    </div>\n  );\n});\n\nexport default MoreMenu;\n"]},"metadata":{},"sourceType":"module"}